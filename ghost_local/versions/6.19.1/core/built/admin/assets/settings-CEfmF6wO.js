const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./code-editor-view-xVA7A1IE.js","./index-Bgo4hw-T.js","./index-4ZkTY34B.css","./index-D0RISNEd.js","./newsletters-C8pT7kSQ.js","./posts-C94RiQ4S.js","./tiers-jCNws2RK.js","./index-nb8rSrz_.js","./index-zvNmrx86.js","./_baseAssignValue-D0bBhNG1.js","./modals-GY5yP0Bl.js","./index-_dLVP2u2.js","./list-filter-CofVbkA4.js","./modals-BKa6wJ_I.css","./koenig-lexical-D8K6acyr.js"])))=>i.map(i=>d[i]);
import{j as d,dK as LS,aH as _,e as Y,r as y,aC as ea,d8 as ge,dL as _S,dM as xd,dN as eb,dO as tb,dP as jS,df as ys,bQ as $h,dQ as BS,aB as Vr,dR as $S,dS as FS,dT as HS,dU as VS,dV as US,dW as zS,dX as WS,dY as qS,dZ as GS,d_ as KS,d$ as ZS,e0 as YS,e1 as JS,e2 as XS,e3 as QS,e4 as Fh,aK as e2,aJ as t2,aI as n2,e5 as nb,da as Xr,bJ as gt,db as Te,dj as r2,ac as Qr,ad as ze,e6 as Df,e7 as Rf,dc as pn,d9 as yd,e8 as i2,dq as rb,e9 as s2,ak as Of,al as Tf,ea as a2,aN as o2,cW as ib,ae as l2,am as sb,dl as c2,eb as u2,cF as d2,dy as ws,dH as ab,ec as f2,cD as h2,dg as p2,du as Qn,dd as m2,y as Hh,di as g2,dx as v2,dG as b2}from"./index-Bgo4hw-T.js";import{R as x2,C as y2,L as w2,T as S2}from"./index-D0RISNEd.js";import{u as ob,b as k2,c as C2,n as A2}from"./newsletters-C8pT7kSQ.js";import{b as M2}from"./posts-C94RiQ4S.js";import{a as $c,g as lb,d as I2,e as E2,f as D2}from"./tiers-jCNws2RK.js";const Ct=({className:n})=>(n||(n="border-grey-200 dark:border-grey-800"),d.jsx(LS,{asChild:!0,decorative:!0,children:d.jsx("hr",{className:n})})),cb=_("text-sm font-medium tracking-normal"),ub=_(cb,"text-grey-900 dark:text-grey-500"),ft=({level:n=1,children:e,styles:t="",grey:r=!0,separator:i,useLabelTag:s,className:a="",...o})=>{const l=`${s?"label":`h${n}`}`;if(t+=n===6||s?` block ${r?ub:cb}`:" ",!s)switch(n){case 1:t+=" md:text-4xl leading-tighter";break;case 2:t+=" md:text-3xl";break;case 3:t+=" md:text-2xl";break;case 4:t+=" md:text-xl";break;case 5:t+=" md:text-lg";break}a=_(t,!r&&"dark:text-white",a);const c=Y.createElement(l,{className:a,key:"heading-elem",...o},e);if(i){const u=!n||n===1?2:1,f=n===6?2:3;return d.jsxs("div",{className:`gap-${u} mb-${f} flex flex-col`,children:[c,d.jsx(Ct,{})]})}else return c},Mn=({children:n,color:e,className:t,...r})=>{if(!n)return null;let i="text-grey-700 dark:text-grey-600";switch(e){case"red":i="text-red dark:text-red-500";break;case"green":i="text-green dark:text-green-500";break}return t=_("mt-1 inline-block text-xs leading-snug",i,t),d.jsx("span",{className:t,...r,children:n})},R2=Y.lazy(()=>ea(()=>import("./code-editor-view-xVA7A1IE.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),Vh=y.forwardRef(function(e,t){return d.jsx(y.Suspense,{fallback:null,children:d.jsx(R2,{...e,ref:t})})}),Nf=({size:n,color:e,delay:t,style:r})=>{const[i,s]=Y.useState(!t);Y.useEffect(()=>{if(t){const o=setTimeout(()=>{s(!0)},t);return()=>{clearTimeout(o)}}},[t]);let a="relative mx-0 my-[-0.5] box-border inline-block animate-spin rounded-full before:z-10 before:block before:rounded-full before:content-[''] ";switch(n){case"sm":a+=" h-[16px] w-[16px] border-2 before:mt-[10px] before:h-[3px] before:w-[3px] ";break;case"md":a+=" h-[20px] w-[20px] border-2 before:mt-[13px] before:h-[3px] before:w-[3px] ";break;case"lg":default:a+=" h-[50px] w-[50px] border before:mt-[7px] before:h-[7px] before:w-[7px] ";break}switch(e){case"light":a+=" border-white/20 before:bg-white dark:border-black/10 dark:before:bg-black ";break;case"dark":default:a+=" border-black/10 before:bg-black dark:border-white/20 dark:before:bg-white ";break}return n==="lg"?d.jsx("div",{className:`flex h-64 items-center justify-center transition-opacity ${i?"opacity-100":"opacity-0"}`,style:r,children:d.jsx("div",{className:a})}):d.jsx("div",{className:a})},ne=Y.forwardRef(({testId:n,size:e="md",label:t="",hideLabel:r=!1,icon:i="",iconSize:s,iconColorClass:a,color:o="clear",fullWidth:l,link:c,linkWithPadding:u=!1,disabled:f,unstyled:h=!1,className:p="",tag:g="button",loading:m=!1,loadingIndicatorColor:v,outlineOnMobile:b=!1,onClick:x,...w},S)=>{if(o||(o="clear"),!h){switch(p=_("inline-flex items-center justify-center whitespace-nowrap rounded text-sm transition",c&&o!=="clear"&&o!=="black"||!c&&o!=="clear"?"font-bold":"font-semibold",c?"":`${e==="sm"?"h-7":"h-[34px]"}`,c?"":`${e==="sm"||t&&i?"px-3":"px-4"}`,c&&u&&"-m-1 p-1",p),o){case"black":p=_(c?"text-black hover:text-grey-800 dark:text-white":`bg-black text-white dark:bg-white dark:text-black ${!f&&"hover:bg-grey-900"}`,p),v="light",a=a||"text-white";break;case"light-grey":p=_(c?"text-grey-800 hover:text-green-400 dark:text-white":`bg-grey-200 text-black dark:bg-grey-900 dark:text-white ${!f&&"hover:!bg-grey-300 dark:hover:!bg-grey-800"}`,p),v="dark";break;case"grey":p=_(c?"text-black hover:text-grey-800 dark:text-white":`bg-grey-100 text-black dark:bg-grey-900 dark:text-white ${!f&&"hover:!bg-grey-300 dark:hover:!bg-grey-800"}`,p),v="dark";break;case"green":p=_(c?" text-green hover:text-green-400":` bg-green text-white ${!f&&"hover:bg-green-400"}`,p),v="light",a=a||"text-white";break;case"red":p=_(c?"text-red hover:text-red-400":`bg-red text-white ${!f&&"hover:bg-red-400"}`,p),v="light",a=a||"text-white";break;case"white":p=_(c?"text-white hover:text-white dark:text-black dark:hover:text-grey-800":"bg-white text-black dark:bg-black dark:text-white",p),v="dark";break;case"outline":p=_(c?"text-black hover:text-grey-800 dark:text-white":`border border-grey-300 bg-transparent text-black dark:border-grey-800 dark:text-white ${!f&&"hover:!border-black dark:hover:!border-white"}`,p),v="dark";break;default:p=_(c?" text-black hover:text-grey-800 dark:text-white":`text-grey-900 dark:text-white dark:hover:bg-grey-900 ${!f&&"hover:bg-grey-200 hover:text-black"}`,b&&!c&&"border border-grey-300 hover:border-transparent md:border-transparent",p),v="dark";break}p=_(l&&!c&&" w-full",f?"opacity-40":"cursor-pointer",p)}const k=t&&i&&!r?"mr-1.5":"";let A="";A+=t&&r?"sr-only":"",A+=m?"invisible":"",s=s||(e==="sm"||t&&i?"sm":"md");const C=d.jsxs(d.Fragment,{children:[i&&d.jsx(ge,{className:k,colorClass:a,name:i,size:s}),d.jsx("span",{className:A,children:t}),m&&d.jsxs("div",{className:"absolute flex",children:[d.jsx(Nf,{color:v,size:e}),d.jsx("span",{className:"sr-only",children:"Loading..."})]})]});return Y.createElement(g,{className:p,"data-testid":n,disabled:f,type:"button",onClick:x,ref:S,...w},C)});ne.displayName="Button";function O2(n,e,t=!1){let r;return function(...i){const s=()=>{r=null,t||n.apply(this,i)},a=t&&!r;r&&clearTimeout(r),r=setTimeout(s,e),a&&n.apply(this,i)}}var at=function(){return at=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},at.apply(this,arguments)},db=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Au=Symbol("NiceModalId"),Pf={},Wi=Y.createContext(Pf),fb=Y.createContext(null),Sn={},Ds={},T2=0,qi=function(){throw new Error("No dispatch method detected, did you embed your app with NiceModal.Provider?")},hb=function(){return"_nice_modal_"+T2++},pb=function(n,e){var t,r,i;switch(n===void 0&&(n=Pf),e.type){case"nice-modal/show":{var s=e.payload,a=s.modalId,o=s.args;return at(at({},n),(t={},t[a]=at(at({},n[a]),{id:a,args:o,visible:!!Ds[a],delayVisible:!Ds[a]}),t))}case"nice-modal/hide":{var a=e.payload.modalId;return n[a]?at(at({},n),(r={},r[a]=at(at({},n[a]),{visible:!1}),r)):n}case"nice-modal/remove":{var a=e.payload.modalId,l=at({},n);return delete l[a],l}case"nice-modal/set-flags":{var c=e.payload,a=c.modalId,u=c.flags;return at(at({},n),(i={},i[a]=at(at({},n[a]),u),i))}default:return n}};function N2(n){var e;return(e=Sn[n])===null||e===void 0?void 0:e.comp}function P2(n,e){return{type:"nice-modal/show",payload:{modalId:n,args:e}}}function L2(n,e){return{type:"nice-modal/set-flags",payload:{modalId:n,flags:e}}}function _2(n){return{type:"nice-modal/hide",payload:{modalId:n}}}function j2(n){return{type:"nice-modal/remove",payload:{modalId:n}}}var er={},Ei={},Fc=function(n){return typeof n=="string"?n:(n[Au]||(n[Au]=hb()),n[Au])};function Lf(n,e){var t=Fc(n);if(typeof n!="string"&&!Sn[t]&&Hc(t,n),qi(P2(t,e)),!er[t]){var r,i,s=new Promise(function(a,o){r=a,i=o});er[t]={resolve:r,reject:i,promise:s}}return er[t].promise}function _f(n){var e=Fc(n);if(qi(_2(e)),delete er[e],!Ei[e]){var t,r,i=new Promise(function(s,a){t=s,r=a});Ei[e]={resolve:t,reject:r,promise:i}}return Ei[e].promise}var mb=function(n){var e=Fc(n);qi(j2(e)),delete er[e],delete Ei[e]},B2=function(n,e){qi(L2(n,e))};function ir(n,e){var t=y.useContext(Wi),r=y.useContext(fb),i=null,s=n&&typeof n!="string";if(n?i=Fc(n):i=r,!i)throw new Error("No modal id found in NiceModal.useModal.");var a=i;y.useEffect(function(){s&&!Sn[a]&&Hc(a,n,e)},[s,a,n,e]);var o=t[a],l=y.useCallback(function(g){return Lf(a,g)},[a]),c=y.useCallback(function(){return _f(a)},[a]),u=y.useCallback(function(){return mb(a)},[a]),f=y.useCallback(function(g){var m;(m=er[a])===null||m===void 0||m.resolve(g),delete er[a]},[a]),h=y.useCallback(function(g){var m;(m=er[a])===null||m===void 0||m.reject(g),delete er[a]},[a]),p=y.useCallback(function(g){var m;(m=Ei[a])===null||m===void 0||m.resolve(g),delete Ei[a]},[a]);return y.useMemo(function(){return{id:a,args:o?.args,visible:!!o?.visible,keepMounted:!!o?.keepMounted,show:l,hide:c,remove:u,resolve:f,reject:h,resolveHide:p}},[a,o?.args,o?.visible,o?.keepMounted,l,c,u,f,h,p])}var $2=function(n){return function(e){var t,r=e.defaultVisible,i=e.keepMounted,s=e.id,a=db(e,["defaultVisible","keepMounted","id"]),o=ir(s),l=o.args,c=o.show,u=y.useContext(Wi),f=!!u[s];y.useEffect(function(){return r&&c(),Ds[s]=!0,function(){delete Ds[s]}},[s,c,r]),y.useEffect(function(){i&&B2(s,{keepMounted:!0})},[s,i]);var h=(t=u[s])===null||t===void 0?void 0:t.delayVisible;return y.useEffect(function(){h&&c(l)},[h,l,c]),f?Y.createElement(fb.Provider,{value:s},Y.createElement(n,at({},a,l))):null}},Hc=function(n,e,t){Sn[n]?Sn[n].props=t:Sn[n]={comp:e,props:t}},F2=function(n){delete Sn[n]},gb=function(){var n=y.useContext(Wi),e=Object.keys(n).filter(function(r){return!!n[r]});e.forEach(function(r){if(!Sn[r]&&!Ds[r]){console.warn("No modal found for id: "+r+". Please check the id or if it is registered or declared via JSX.");return}});var t=e.filter(function(r){return Sn[r]}).map(function(r){return at({id:r},Sn[r])});return Y.createElement(Y.Fragment,null,t.map(function(r){return Y.createElement(r.comp,at({key:r.id,id:r.id},r.props))}))},H2=function(n){var e=n.children,t=y.useReducer(pb,Pf),r=t[0];return qi=t[1],Y.createElement(Wi.Provider,{value:r},e,Y.createElement(gb,null))},V2=function(n){var e=n.children,t=n.dispatch,r=n.modals;return!t||!r?Y.createElement(H2,null,e):(qi=t,Y.createElement(Wi.Provider,{value:r},e,Y.createElement(gb,null)))},U2=function(n){var e=n.id,t=n.component;return y.useEffect(function(){return Hc(e,t),function(){F2(e)}},[e,t]),null},z2=function(n){var e,t=n.modal,r=n.handler,i=r===void 0?{}:r,s=db(n,["modal","handler"]),a=y.useMemo(function(){return hb()},[]),o=typeof t=="string"?(e=Sn[t])===null||e===void 0?void 0:e.comp:t;if(!i)throw new Error("No handler found in NiceModal.ModalHolder.");if(!o)throw new Error("No modal found for id: "+t+" in NiceModal.ModalHolder.");return i.show=y.useCallback(function(l){return Lf(a,l)},[a]),i.hide=y.useCallback(function(){return _f(a)},[a]),Y.createElement(o,at({id:a},s))},W2=function(n){return{visible:n.visible,onOk:function(){return n.hide()},onCancel:function(){return n.hide()},afterClose:function(){n.resolveHide(),n.keepMounted||n.remove()}}},q2=function(n){return{visible:n.visible,onClose:function(){return n.hide()},afterVisibleChange:function(e){e||n.resolveHide(),!e&&!n.keepMounted&&n.remove()}}},G2=function(n){return{open:n.visible,onClose:function(){return n.hide()},onExited:function(){n.resolveHide(),!n.keepMounted&&n.remove()}}},K2=function(n){return{show:n.visible,onHide:function(){return n.hide()},onExited:function(){n.resolveHide(),!n.keepMounted&&n.remove()}}},Ke={Provider:V2,ModalDef:U2,ModalHolder:z2,NiceModalContext:Wi,create:$2,register:Hc,getModal:N2,show:Lf,hide:_f,remove:mb,useModal:ir,reducer:pb,antdModal:W2,antdDrawer:q2,muiDialog:G2,bootstrapDialog:K2};const vb=Y.createContext({isDirty:!1,setGlobalDirtyState:()=>{}}),Z2=({children:n})=>{const[e,t]=y.useState([]),r=y.useCallback((i,s)=>{t(a=>s&&!a.includes(i)?[...a,i]:!s&&a.includes(i)?a.filter(o=>o!==i):a)},[]);return d.jsx(vb.Provider,{value:{isDirty:e.length>0,setGlobalDirtyState:r},children:n})},Vc=()=>{const n=y.useId(),{isDirty:e,setGlobalDirtyState:t}=y.useContext(vb);y.useEffect(()=>()=>t(n,!1),[n,t]);const r=y.useCallback(i=>t(n,i),[n,t]);return{isDirty:e,setGlobalDirtyState:r}},bb=y.createContext({isAnyTextFieldFocused:!1,setFocusState:()=>{},fetchKoenigLexical:async()=>{},darkMode:!1}),xb=()=>y.useContext(bb),Gi=()=>{const n=xb();if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n},Y2=({fetchKoenigLexical:n,darkMode:e,children:t})=>{const[r,i]=y.useState(!1),s=a=>{i(a)};return d.jsx(bb.Provider,{value:{isAnyTextFieldFocused:r,setFocusState:s,fetchKoenigLexical:n,darkMode:e},children:d.jsxs(Z2,{children:[d.jsx(_S,{}),d.jsx(Ke.Provider,{children:t})]})})},tt=({type:n="text",inputRef:e,title:t,hideTitle:r,value:i,error:s,placeholder:a,rightPlaceholder:o,hint:l,onChange:c,onFocus:u,onBlur:f,clearBg:h=!1,className:p="",maxLength:g,containerClassName:m="",hintClassName:v="",unstyled:b=!1,disabled:x,...w})=>{const S=y.useId(),{setFocusState:k}=Gi(),A=L=>{u?.(L),k(!0)},C=L=>{f?.(L),k(!1)},E=_("relative order-2 flex w-full items-center",t&&!r&&"mt-1.5"),M=!b&&_("dark:peer-hover:bg-grey-925 dark:peer-focus:bg-grey-950 absolute inset-0 rounded-lg border text-grey-300 transition-colors peer-hover:bg-grey-100 peer-focus:border-green peer-focus:bg-white peer-focus:shadow-[0_0_0_2px_rgba(48,207,67,.25)]",s?"border-red bg-white dark:bg-grey-925":"border-transparent bg-grey-150 dark:bg-grey-900",x&&"dark:peer-hover:bg-grey-950 bg-grey-50 peer-hover:bg-grey-50 dark:bg-grey-950"),R=!b&&_("peer z-[1] order-2 h-9 w-full bg-transparent px-3 py-1.5 text-sm placeholder:text-grey-500 md:h-[38px] md:py-2 md:text-md dark:placeholder:text-grey-700",x?"cursor-not-allowed text-grey-600 opacity-60 dark:text-grey-800":"dark:text-white",o?"w-0 grow rounded-l-lg":"rounded-lg",p),T=!b&&_("z-[1] order-3 rounded-r-lg",o?typeof o=="string"?"flex h-8 items-center py-1 pr-3 text-right text-sm text-grey-500 md:h-9 md:text-base":"h-9 pr-1":"pr-2");let N=d.jsx(d.Fragment,{});const P=d.jsx("input",{ref:e,className:R||p,disabled:x,id:S,maxLength:g,placeholder:a,type:n,value:i,onBlur:C,onChange:c,onFocus:A,...w});return N=d.jsx(eb,{name:S,asChild:!0,children:d.jsxs("div",{className:E,children:[d.jsx(tb,{asChild:!0,children:P}),!b&&!h&&d.jsx("div",{className:M||""}),o&&d.jsx("span",{className:T||"",children:o})]})}),v=_("order-3",v),m=_("flex flex-col",m),t||l?d.jsx(xd,{asChild:!0,children:d.jsxs("div",{className:m,children:[N,t&&d.jsx(ft,{className:r?"sr-only":"order-1",htmlFor:S,useLabelTag:!0,children:t}),l&&d.jsx(Mn,{className:v,color:s?"red":"default",children:l})]})}):d.jsx(xd,{asChild:!0,children:N})},J2=({valueInCents:n,onChange:e,...t})=>{const[r,i]=y.useState(n===""?"":((n||0)/100).toString()),s=o=>o.replace(/[^\d.]+/g,""),a=o=>{var l;return Math.round(parseFloat(((l=o.match(/[\d]+\.?[\d]{0,2}/))==null?void 0:l[0])||"0")*100)};return d.jsx(tt,{...t,value:r,onBlur:o=>{var l;i((a(o.target.value)/100).toString()),(l=t.onBlur)==null||l.call(t,o)},onChange:o=>{i(s(o.target.value)),e?.(a(o.target.value))}})},tc=({id:n,onUpload:e,children:t,style:r,unstyled:i=!1,inputRef:s,className:a,dragIndicatorClassName:o,accept:l,...c})=>{const[u,f]=y.useState(Date.now()),[h,p]=y.useState(!1),g=x=>{var w;const S=(w=x.target.files)==null?void 0:w[0];S&&e?.(S),f(Date.now())},m=x=>{var w;b(x);const S=(w=x.dataTransfer.files)==null?void 0:w[0];S&&e?.(S),f(Date.now())},v=x=>{x.preventDefault(),p(!0)},b=x=>{x.preventDefault(),p(!1)};return d.jsxs("label",{className:_("relative",a),htmlFor:n,style:r,onDragEnter:v,onDragLeave:b,onDragOver:v,onDrop:m,...c,children:[d.jsx("div",{className:_({"absolute inset-1 rounded":!0,"border-2 border-dashed border-grey-400/25":h},h&&[o])}),d.jsx("input",{ref:s||null,accept:l,id:n,type:"file",hidden:!0,onChange:g},u),typeof t=="string"?d.jsx("div",{className:i?"":"inline-flex h-[34px] cursor-pointer items-center justify-center rounded px-4 text-sm font-semibold hover:bg-grey-100 dark:text-white dark:hover:bg-grey-900",children:t}):t]})},X2=({title:n,grouped:e=!1,gap:t="md",margins:r="md",marginTop:i=!1,marginBottom:s=!0,className:a="",children:o})=>{let l=_("flex flex-col",t==="xs"&&"gap-4",t==="sm"&&"gap-6",t==="md"&&"gap-8",t==="lg"&&"gap-11");r||(r=t),s&&(l=_(l,r==="sm"&&"mb-7",r==="md"&&"mb-10",r==="lg"&&"mb-12")),i&&(l=_(l,r==="sm"&&"mt-7",r==="md"&&"mt-10",r==="lg"&&"mt-12")),e&&(l=_(l,"rounded-sm border border-grey-200 p-4 md:p-7 dark:border-grey-900"));const c=_(e?"mb-3":"mb-4");return e||n?d.jsxs("div",{className:a,children:[n&&d.jsx(ft,{className:c,level:5,children:n}),d.jsx("div",{className:l,children:o})]}):d.jsx("div",{className:_(l,a),children:o})},yb=({color:n="grey",children:e,className:t})=>{const r=_("relative overflow-hidden rounded-sm p-2",n==="grey"&&"text-black",n==="blue"&&"text-blue",n==="green"&&"text-green",n==="yellow"&&"text-yellow-600",n==="red"&&"text-red","after:pointer-events-none after:absolute after:inset-0 after:block after:opacity-10 after:content-['']",n==="grey"&&"after:bg-grey-500",n==="blue"&&"after:bg-blue",n==="green"&&"after:bg-green",n==="yellow"&&"after:bg-yellow",n==="red"&&"after:bg-red",t);return d.jsx("div",{className:r,children:e})};var Q2=Object.defineProperty,ek=(n,e,t)=>e in n?Q2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tk=(n,e,t)=>ek(n,e+"",t);class wb extends Y.Component{constructor(e){super(e),tk(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){jS(r=>{r.setTag("adminx_settings_component",t.componentStack),ys(e)}),console.error(e),console.error("In component:",t.componentStack)}render(){return this.state.hasError?d.jsxs(yb,{color:"red",children:["An error occurred loading ",this.props.name,". Please refresh and try again."]}):this.props.children}}const Ce=(n,e)=>function(r){return d.jsx(wb,{name:e,children:d.jsx(n,{...r})})},nk=function(n){let e="pending",t;const r=n().then(s=>{e="success",t=s},s=>{e="error",t=s});return{read:()=>{switch(e){case"pending":throw r;case"error":throw t;default:return t}}}},rk=({editor:n,onBlur:e,placeholder:t,nodes:r,emojiPicker:i=!0,darkMode:s=!1,singleParagraph:a=!1,children:o,initialEditorState:l,onChange:c})=>{const u=y.useCallback(b=>{var x;try{ys({error:b,tags:{lexical:!0},contexts:{koenig:{version:(x=window["@tryghost/koenig-lexical"])==null?void 0:x.version}}})}catch(w){console.error(w)}console.error(b)},[]),{setFocusState:f}=Gi(),h=()=>{e&&e(),f(!1)},p=()=>{f(!0)},g=y.useMemo(()=>new Proxy({},{get:(b,x)=>n.read()[x]}),[n]),m={DEFAULT_NODES:g.DEFAULT_TRANSFORMERS,BASIC_NODES:g.BASIC_TRANSFORMERS,MINIMAL_NODES:g.MINIMAL_TRANSFORMERS,EMAIL_NODES:g.EMAIL_TRANSFORMERS},v=r||"DEFAULT_NODES";return d.jsx(g.KoenigComposer,{darkMode:s,initialEditorState:l,nodes:g[v],onError:u,children:d.jsxs(g.KoenigComposableEditor,{className:"koenig-lexical koenig-lexical-editor-input",isSnippetsEnabled:!1,markdownTransformers:m[v],placeholderClassName:"koenig-lexical-editor-input-placeholder line-clamp-1",placeholderText:t,singleParagraph:a,onBlur:h,onChange:c,onFocus:p,children:[o(g),i?d.jsx(g.EmojiPickerPlugin,{}):null]})})},ik=({className:n,children:e,initialEditorState:t,onChange:r,inheritFontStyles:i=!0,loadingFallback:s,...a})=>{const{fetchKoenigLexical:o,darkMode:l}=xb(),c=y.useMemo(()=>nk(o),[o]),u=i?"[&_*]:!font-inherit [&_*]:!text-inherit":"";return d.jsx("div",{className:n||"w-full",children:d.jsx("div",{className:`koenig-react-editor w-full ${u}`,children:d.jsx(wb,{name:"editor",children:d.jsx(y.Suspense,{fallback:s||d.jsx("p",{className:"koenig-react-editor-loading",children:"Loading editor..."}),children:d.jsx(rk,{...a,darkMode:l,editor:c,initialEditorState:t,onChange:r,children:e})})})})})},Uh=({id:n,children:e,width:t="100%",height:r="120px",imageURL:i,imageFit:s="cover",imageContainerClassName:a,imageClassName:o,fileUploadClassName:l,fileUploadProps:c,deleteButtonClassName:u,deleteButtonContent:f,deleteButtonUnstyled:h=!1,imageBWCheckedBg:p=!1,unstyled:g=!1,onUpload:m,onDelete:v,onImageClick:b,pintura:x,editButtonClassName:w,editButtonContent:S,editButtonUnstyled:k=!1,buttonContainerClassName:A,unsplashButtonClassName:C,unsplashButtonUnstyled:E=!1,unsplashButtonContent:M,unsplashEnabled:R,openUnsplash:T})=>{if(g||(a=_("group relative flex justify-center",a),o=_(s==="cover"&&"object-cover",s==="contain"&&"object-contain",s==="fill"&&"object-fill",s==="scale-down"&&"object-scale-down",s==="none"&&"object-scale-down",o),l=_("flex cursor-pointer items-center justify-center rounded border border-grey-100 bg-grey-75 p-3 text-sm font-semibold text-grey-800 hover:text-black dark:border-grey-900 dark:bg-grey-900 dark:text-grey-400",l),h||(u=_("absolute right-4 top-4 flex h-8 w-8 cursor-pointer items-center justify-center rounded bg-[rgba(0,0,0,0.75)] text-white hover:bg-black group-hover:!visible md:invisible",u)),k||(w=_("absolute right-16 top-4 flex h-8 w-8 cursor-pointer items-center justify-center rounded bg-[rgba(0,0,0,0.75)] text-white hover:bg-black group-hover:!visible md:invisible",w)),E||(C=_("absolute right-16 top-4 flex h-8 w-8 cursor-pointer items-center justify-center rounded bg-[rgba(255,255,255)] text-white",C))),f=f||d.jsx(ge,{colorClass:"text-white",name:"trash",size:"sm"}),S=S||d.jsx(ge,{colorClass:"text-white",name:"pen",size:"sm"}),M=M||d.jsx(ge,{colorClass:"text-black",name:"unsplash-logo",size:"sm"}),i){let N=d.jsxs("div",{className:a,"data-testid":"image-upload-container",style:{width:g?"":t,height:g?"":r},children:[d.jsx("img",{alt:"",className:o,id:n,src:i,style:{width:g?"":t||"100%",height:g?"":r||"auto"},onClick:b}),d.jsxs("div",{className:A,children:[x?.isEnabled&&x?.openEditor&&d.jsx("button",{className:w,type:"button",onClick:x.openEditor,children:S}),d.jsx("button",{className:u,"data-testid":"image-delete-button",type:"button",onClick:v,children:f})]})]});if(p){const P="#d9d9d9";N=d.jsx("div",{style:{backgroundImage:`
                        linear-gradient(45deg, ${P} 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, ${P} 75%),
                        linear-gradient(45deg, transparent 75%, ${P} 75%),
                        linear-gradient(45deg, ${P} 25%, #f1f1f1 25%)
                    `,backgroundSize:"32px 32px",backgroundPosition:"0 0, 0 0, -16px -16px, 16px 16px"},children:N})}return N}else return d.jsxs("div",{className:`${A} ${R?"relative":""}`,children:[R&&d.jsx("button",{className:C,"data-testid":"toggle-unsplash-button",type:"button",onClick:T,children:M}),d.jsx(tc,{className:l,id:n,style:{width:g?"":t,height:g?"":r},unstyled:g,onUpload:m,...c,children:d.jsx(d.Fragment,{children:d.jsx("span",{className:"text-center",children:e})})})]})};function qr(n){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(n)}function sk(n,e){if(qr(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(qr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Sb(n){var e=sk(n,"string");return qr(e)=="symbol"?e:e+""}function ki(n,e,t){return(e=Sb(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zh(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function te(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(t),!0).forEach(function(r){ki(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zh(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ak(n){if(Array.isArray(n))return n}function ok(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function wd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function kb(n,e){if(n){if(typeof n=="string")return wd(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wd(n,e):void 0}}function lk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(n,e){return ak(n)||ok(n,e)||kb(n,e)||lk()}function Cb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function In(n,e){if(n==null)return{};var t,r,i=Cb(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var ck=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Uc(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,s=n.defaultValue,a=s===void 0?null:s,o=n.inputValue,l=n.menuIsOpen,c=n.onChange,u=n.onInputChange,f=n.onMenuClose,h=n.onMenuOpen,p=n.value,g=In(n,ck),m=y.useState(o!==void 0?o:t),v=pt(m,2),b=v[0],x=v[1],w=y.useState(l!==void 0?l:i),S=pt(w,2),k=S[0],A=S[1],C=y.useState(p!==void 0?p:a),E=pt(C,2),M=E[0],R=E[1],T=y.useCallback(function(oe,ee){typeof c=="function"&&c(oe,ee),R(oe)},[c]),N=y.useCallback(function(oe,ee){var de;typeof u=="function"&&(de=u(oe,ee)),x(de!==void 0?de:oe)},[u]),P=y.useCallback(function(){typeof h=="function"&&h(),A(!0)},[h]),L=y.useCallback(function(){typeof f=="function"&&f(),A(!1)},[f]),$=o!==void 0?o:b,q=l!==void 0?l:k,Z=p!==void 0?p:M;return te(te({},g),{},{inputValue:$,menuIsOpen:q,onChange:T,onInputChange:N,onMenuClose:L,onMenuOpen:P,value:Z})}function se(){return se=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},se.apply(null,arguments)}function uk(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Wh(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Sb(r.key),r)}}function dk(n,e,t){return e&&Wh(n.prototype,e),t&&Wh(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Sd(n,e){return Sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Sd(n,e)}function fk(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Sd(n,e)}function nc(n){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nc(n)}function Ab(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ab=function(){return!!n})()}function hk(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pk(n,e){if(e&&(qr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hk(n)}function mk(n){var e=Ab();return function(){var t,r=nc(n);if(e){var i=nc(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pk(this,t)}}function gk(n){if(Array.isArray(n))return wd(n)}function vk(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function bk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Di(n){return gk(n)||vk(n)||kb(n)||bk()}function xk(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function yk(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wk=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yk(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=xk(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n})(),Mt="-ms-",rc="-moz-",De="-webkit-",Mb="comm",jf="rule",Bf="decl",Sk="@import",Ib="@keyframes",kk="@layer",Ck=Math.abs,zc=String.fromCharCode,Ak=Object.assign;function Mk(n,e){return yt(n,0)^45?(((e<<2^yt(n,0))<<2^yt(n,1))<<2^yt(n,2))<<2^yt(n,3):0}function Eb(n){return n.trim()}function Ik(n,e){return(n=e.exec(n))?n[0]:n}function Re(n,e,t){return n.replace(e,t)}function kd(n,e){return n.indexOf(e)}function yt(n,e){return n.charCodeAt(e)|0}function Rs(n,e,t){return n.slice(e,t)}function _n(n){return n.length}function $f(n){return n.length}function Aa(n,e){return e.push(n),n}function Ek(n,e){return n.map(e).join("")}var Wc=1,$i=1,Db=0,Yt=0,nt=0,Ki="";function qc(n,e,t,r,i,s,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Wc,column:$i,length:a,return:""}}function os(n,e){return Ak(qc("",null,null,"",null,null,0),n,{length:-n.length},e)}function Dk(){return nt}function Rk(){return nt=Yt>0?yt(Ki,--Yt):0,$i--,nt===10&&($i=1,Wc--),nt}function on(){return nt=Yt<Db?yt(Ki,Yt++):0,$i++,nt===10&&($i=1,Wc++),nt}function Wn(){return yt(Ki,Yt)}function Bl(){return Yt}function ta(n,e){return Rs(Ki,n,e)}function Os(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rb(n){return Wc=$i=1,Db=_n(Ki=n),Yt=0,[]}function Ob(n){return Ki="",n}function $l(n){return Eb(ta(Yt-1,Cd(n===91?n+2:n===40?n+1:n)))}function Ok(n){for(;(nt=Wn())&&nt<33;)on();return Os(n)>2||Os(nt)>3?"":" "}function Tk(n,e){for(;--e&&on()&&!(nt<48||nt>102||nt>57&&nt<65||nt>70&&nt<97););return ta(n,Bl()+(e<6&&Wn()==32&&on()==32))}function Cd(n){for(;on();)switch(nt){case n:return Yt;case 34:case 39:n!==34&&n!==39&&Cd(nt);break;case 40:n===41&&Cd(n);break;case 92:on();break}return Yt}function Nk(n,e){for(;on()&&n+nt!==57;)if(n+nt===84&&Wn()===47)break;return"/*"+ta(e,Yt-1)+"*"+zc(n===47?n:on())}function Pk(n){for(;!Os(Wn());)on();return ta(n,Yt)}function Lk(n){return Ob(Fl("",null,null,null,[""],n=Rb(n),0,[0],n))}function Fl(n,e,t,r,i,s,a,o,l){for(var c=0,u=0,f=a,h=0,p=0,g=0,m=1,v=1,b=1,x=0,w="",S=i,k=s,A=r,C=w;v;)switch(g=x,x=on()){case 40:if(g!=108&&yt(C,f-1)==58){kd(C+=Re($l(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=$l(x);break;case 9:case 10:case 13:case 32:C+=Ok(g);break;case 92:C+=Tk(Bl()-1,7);continue;case 47:switch(Wn()){case 42:case 47:Aa(_k(Nk(on(),Bl()),e,t),l);break;default:C+="/"}break;case 123*m:o[c++]=_n(C)*b;case 125*m:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+u:b==-1&&(C=Re(C,/\f/g,"")),p>0&&_n(C)-f&&Aa(p>32?Gh(C+";",r,t,f-1):Gh(Re(C," ","")+";",r,t,f-2),l);break;case 59:C+=";";default:if(Aa(A=qh(C,e,t,c,u,i,o,w,S=[],k=[],f),s),x===123)if(u===0)Fl(C,e,A,A,S,s,f,o,k);else switch(h===99&&yt(C,3)===110?100:h){case 100:case 108:case 109:case 115:Fl(n,A,A,r&&Aa(qh(n,A,A,0,0,i,o,w,i,S=[],f),k),i,k,f,o,r?S:k);break;default:Fl(C,A,A,A,[""],k,0,o,k)}}c=u=p=0,m=b=1,w=C="",f=a;break;case 58:f=1+_n(C),p=g;default:if(m<1){if(x==123)--m;else if(x==125&&m++==0&&Rk()==125)continue}switch(C+=zc(x),x*m){case 38:b=u>0?1:(C+="\f",-1);break;case 44:o[c++]=(_n(C)-1)*b,b=1;break;case 64:Wn()===45&&(C+=$l(on())),h=Wn(),u=f=_n(w=C+=Pk(Bl())),x++;break;case 45:g===45&&_n(C)==2&&(m=0)}}return s}function qh(n,e,t,r,i,s,a,o,l,c,u){for(var f=i-1,h=i===0?s:[""],p=$f(h),g=0,m=0,v=0;g<r;++g)for(var b=0,x=Rs(n,f+1,f=Ck(m=a[g])),w=n;b<p;++b)(w=Eb(m>0?h[b]+" "+x:Re(x,/&\f/g,h[b])))&&(l[v++]=w);return qc(n,e,t,i===0?jf:o,l,c,u)}function _k(n,e,t){return qc(n,e,t,Mb,zc(Dk()),Rs(n,2,-2),0)}function Gh(n,e,t,r){return qc(n,e,t,Bf,Rs(n,0,r),Rs(n,r+1,-1),r)}function Ri(n,e){for(var t="",r=$f(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function jk(n,e,t,r){switch(n.type){case kk:if(n.children.length)break;case Sk:case Bf:return n.return=n.return||n.value;case Mb:return"";case Ib:return n.return=n.value+"{"+Ri(n.children,r)+"}";case jf:n.value=n.props.join(",")}return _n(t=Ri(n.children,r))?n.return=n.value+"{"+t+"}":""}function Bk(n){var e=$f(n);return function(t,r,i,s){for(var a="",o=0;o<e;o++)a+=n[o](t,r,i,s)||"";return a}}function $k(n){return function(e){e.root||(e=e.return)&&n(e)}}function Fk(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Hk=function(e,t,r){for(var i=0,s=0;i=s,s=Wn(),i===38&&s===12&&(t[r]=1),!Os(s);)on();return ta(e,Yt)},Vk=function(e,t){var r=-1,i=44;do switch(Os(i)){case 0:i===38&&Wn()===12&&(t[r]=1),e[r]+=Hk(Yt-1,t,r);break;case 2:e[r]+=$l(i);break;case 4:if(i===44){e[++r]=Wn()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=zc(i)}while(i=on());return e},Uk=function(e,t){return Ob(Vk(Rb(e),t))},Kh=new WeakMap,zk=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Kh.get(r))&&!i){Kh.set(e,!0);for(var s=[],a=Uk(t,s),o=r.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},Wk=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Tb(n,e){switch(Mk(n,e)){case 5103:return De+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return De+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return De+n+rc+n+Mt+n+n;case 6828:case 4268:return De+n+Mt+n+n;case 6165:return De+n+Mt+"flex-"+n+n;case 5187:return De+n+Re(n,/(\w+).+(:[^]+)/,De+"box-$1$2"+Mt+"flex-$1$2")+n;case 5443:return De+n+Mt+"flex-item-"+Re(n,/flex-|-self/,"")+n;case 4675:return De+n+Mt+"flex-line-pack"+Re(n,/align-content|flex-|-self/,"")+n;case 5548:return De+n+Mt+Re(n,"shrink","negative")+n;case 5292:return De+n+Mt+Re(n,"basis","preferred-size")+n;case 6060:return De+"box-"+Re(n,"-grow","")+De+n+Mt+Re(n,"grow","positive")+n;case 4554:return De+Re(n,/([^-])(transform)/g,"$1"+De+"$2")+n;case 6187:return Re(Re(Re(n,/(zoom-|grab)/,De+"$1"),/(image-set)/,De+"$1"),n,"")+n;case 5495:case 3959:return Re(n,/(image-set\([^]*)/,De+"$1$`$1");case 4968:return Re(Re(n,/(.+:)(flex-)?(.*)/,De+"box-pack:$3"+Mt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+De+n+n;case 4095:case 3583:case 4068:case 2532:return Re(n,/(.+)-inline(.+)/,De+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_n(n)-1-e>6)switch(yt(n,e+1)){case 109:if(yt(n,e+4)!==45)break;case 102:return Re(n,/(.+:)(.+)-([^]+)/,"$1"+De+"$2-$3$1"+rc+(yt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~kd(n,"stretch")?Tb(Re(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(yt(n,e+1)!==115)break;case 6444:switch(yt(n,_n(n)-3-(~kd(n,"!important")&&10))){case 107:return Re(n,":",":"+De)+n;case 101:return Re(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+De+(yt(n,14)===45?"inline-":"")+"box$3$1"+De+"$2$3$1"+Mt+"$2box$3")+n}break;case 5936:switch(yt(n,e+11)){case 114:return De+n+Mt+Re(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return De+n+Mt+Re(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return De+n+Mt+Re(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return De+n+Mt+n+n}return n}var qk=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Bf:e.return=Tb(e.value,e.length);break;case Ib:return Ri([os(e,{value:Re(e.value,"@","@"+De)})],i);case jf:if(e.length)return Ek(e.props,function(s){switch(Ik(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ri([os(e,{props:[Re(s,/:(read-\w+)/,":"+rc+"$1")]})],i);case"::placeholder":return Ri([os(e,{props:[Re(s,/:(plac\w+)/,":"+De+"input-$1")]}),os(e,{props:[Re(s,/:(plac\w+)/,":"+rc+"$1")]}),os(e,{props:[Re(s,/:(plac\w+)/,Mt+"input-$1")]})],i)}return""})}},Gk=[qk],Kk=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Gk,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)s[v[b]]=!0;o.push(m)});var l,c=[zk,Wk];{var u,f=[jk,$k(function(m){u.insert(m)})],h=Bk(c.concat(i,f)),p=function(v){return Ri(Lk(v),h)};l=function(v,b,x,w){u=x,p(v?v+"{"+b.styles+"}":b.styles),w&&(g.inserted[b.name]=!0)}}var g={key:t,sheet:new wk({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(o),g},Zk=!0;function Yk(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var Nb=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Zk===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Jk=function(e,t,r){Nb(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Xk(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Qk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eC=/[A-Z]|^ms/g,tC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pb=function(e){return e.charCodeAt(1)===45},Zh=function(e){return e!=null&&typeof e!="boolean"},Mu=Fk(function(n){return Pb(n)?n:n.replace(eC,"-$&").toLowerCase()}),Yh=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(tC,function(r,i,s){return jn={name:i,styles:s,next:jn},i})}return Qk[e]!==1&&!Pb(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ts(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return jn={name:t.name,styles:t.styles,next:jn},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)jn={name:r.name,styles:r.styles,next:jn},r=r.next;var i=t.styles+";";return i}return nC(n,e,t)}case"function":{if(n!==void 0){var s=jn,a=t(n);return jn=s,Ts(n,e,a)}break}}return t}function nC(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Ts(n,e,t[i])+";";else for(var s in t){var a=t[s];if(typeof a!="object")Zh(a)&&(r+=Mu(s)+":"+Yh(s,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var o=0;o<a.length;o++)Zh(a[o])&&(r+=Mu(s)+":"+Yh(s,a[o])+";");else{var l=Ts(n,e,a);switch(s){case"animation":case"animationName":{r+=Mu(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var Jh=/label:\s*([^\s;\n{]+)\s*(;|$)/g,jn,Lb=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";jn=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,s+=Ts(r,t,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=Ts(r,t,e[o]),i&&(s+=a[o]);Jh.lastIndex=0;for(var l="",c;(c=Jh.exec(s))!==null;)l+="-"+c[1];var u=Xk(s)+l;return{name:u,styles:s,next:jn}},rC=function(e){return e()},iC=$h.useInsertionEffect?$h.useInsertionEffect:!1,sC=iC||rC,Ff={}.hasOwnProperty,_b=y.createContext(typeof HTMLElement<"u"?Kk({key:"css"}):null);_b.Provider;var aC=function(e){return y.forwardRef(function(t,r){var i=y.useContext(_b);return e(t,i,r)})},oC=y.createContext({}),Ad="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",lC=function(e,t){var r={};for(var i in t)Ff.call(t,i)&&(r[i]=t[i]);return r[Ad]=e,r},cC=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Nb(t,r,i),sC(function(){return Jk(t,r,i)}),null},uC=aC(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[Ad],s=[r],a="";typeof n.className=="string"?a=Yk(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=Lb(s,void 0,y.useContext(oC));a+=e.key+"-"+o.name;var l={};for(var c in n)Ff.call(n,c)&&c!=="css"&&c!==Ad&&(l[c]=n[c]);return l.ref=t,l.className=a,y.createElement(y.Fragment,null,y.createElement(cC,{cache:e,serialized:o,isStringTag:typeof i=="string"}),y.createElement(i,l))}),dC=uC,ae=function(e,t){var r=arguments;if(t==null||!Ff.call(t,"css"))return y.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=dC,s[1]=lC(e,t);for(var a=2;a<i;a++)s[a]=r[a];return y.createElement.apply(null,s)};function Hf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Lb(e)}var fC=function(){var e=Hf.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function hC(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var Md=y.useLayoutEffect,pC=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ic=function(){};function mC(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function gC(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&n)for(var a in e)e.hasOwnProperty(a)&&e[a]&&s.push("".concat(mC(n,a)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var sc=function(e){return MC(e)?e.filter(Boolean):qr(e)==="object"&&e!==null?[e]:[]},jb=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=In(e,pC);return te({},t)},Ze=function(e,t,r){var i=e.cx,s=e.getStyles,a=e.getClassNames,o=e.className;return{css:s(t,e),className:i(r??{},a(t,e),o)}};function vC(n,e,t){if(t){var r=t(n,e);if(typeof r=="string")return r}return n}function Gc(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function bC(n){return Gc(n)?window.innerHeight:n.clientHeight}function Bb(n){return Gc(n)?window.pageYOffset:n.scrollTop}function ac(n,e){if(Gc(n)){window.scrollTo(0,e);return}n.scrollTop=e}function xC(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function yC(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Ma(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ic,i=Bb(n),s=e-i,a=10,o=0;function l(){o+=a;var c=yC(o,i,s,t);ac(n,c),o<t?window.requestAnimationFrame(l):r(n)}l()}function Xh(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?ac(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&ac(n,Math.max(e.offsetTop-i,0))}function wC(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Qh(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function SC(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $b=!1,kC={get passive(){return $b=!0}},Ia=typeof window<"u"?window:{};Ia.addEventListener&&Ia.removeEventListener&&(Ia.addEventListener("p",ic,kC),Ia.removeEventListener("p",ic,!1));var CC=$b;function AC(n){return n!=null}function MC(n){return Array.isArray(n)}function ms(n,e,t){return n?e:t}var IC=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(a){var o=pt(a,1),l=o[0];return!r.includes(l)});return s.reduce(function(a,o){var l=pt(o,2),c=l[0],u=l[1];return a[c]=u,a},{})},EC=["children","innerProps"],DC=["children","innerProps"];function RC(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,s=n.shouldScroll,a=n.isFixedPosition,o=n.controlHeight,l=xC(t),c={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return c;var u=l.getBoundingClientRect(),f=u.height,h=t.getBoundingClientRect(),p=h.bottom,g=h.height,m=h.top,v=t.offsetParent.getBoundingClientRect(),b=v.top,x=a?window.innerHeight:bC(l),w=Bb(l),S=parseInt(getComputedStyle(t).marginBottom,10),k=parseInt(getComputedStyle(t).marginTop,10),A=b-k,C=x-m,E=A+w,M=f-w-m,R=p-x+w+S,T=w+m-k,N=160;switch(i){case"auto":case"bottom":if(C>=g)return{placement:"bottom",maxHeight:e};if(M>=g&&!a)return s&&Ma(l,R,N),{placement:"bottom",maxHeight:e};if(!a&&M>=r||a&&C>=r){s&&Ma(l,R,N);var P=a?C-S:M-S;return{placement:"bottom",maxHeight:P}}if(i==="auto"||a){var L=e,$=a?A:E;return $>=r&&(L=Math.min($-S-o,e)),{placement:"top",maxHeight:L}}if(i==="bottom")return s&&ac(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(A>=g)return{placement:"top",maxHeight:e};if(E>=g&&!a)return s&&Ma(l,T,N),{placement:"top",maxHeight:e};if(!a&&E>=r||a&&A>=r){var q=e;return(!a&&E>=r||a&&A>=r)&&(q=a?A-k:E-k),s&&Ma(l,T,N),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function OC(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var Fb=function(e){return e==="auto"?"bottom":e},TC=function(e,t){var r,i=e.placement,s=e.theme,a=s.borderRadius,o=s.spacing,l=s.colors;return te((r={label:"menu"},ki(r,OC(i),"100%"),ki(r,"position","absolute"),ki(r,"width","100%"),ki(r,"zIndex",1),r),t?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},Hb=y.createContext(null),NC=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=y.useContext(Hb)||{},u=c.setPortalPlacement,f=y.useRef(null),h=y.useState(i),p=pt(h,2),g=p[0],m=p[1],v=y.useState(null),b=pt(v,2),x=b[0],w=b[1],S=l.spacing.controlHeight;return Md(function(){var k=f.current;if(k){var A=a==="fixed",C=o&&!A,E=RC({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:C,isFixedPosition:A,controlHeight:S});m(E.maxHeight),w(E.placement),u?.(E.placement)}},[i,s,a,o,r,u,S]),t({ref:f,placerProps:te(te({},e),{},{placement:x||Fb(s),maxHeight:g})})},PC=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return ae("div",se({},Ze(e,"menu",{menu:!0}),{ref:r},i),t)},LC=PC,_C=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return te({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},jC=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ae("div",se({},Ze(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),t)},Vb=function(e,t){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return te({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},BC=Vb,$C=Vb,FC=function(e){var t=e.children,r=t===void 0?"No options":t,i=e.innerProps,s=In(e,EC);return ae("div",se({},Ze(te(te({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},HC=function(e){var t=e.children,r=t===void 0?"Loading...":t,i=e.innerProps,s=In(e,DC);return ae("div",se({},Ze(te(te({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},VC=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},UC=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=y.useRef(null),c=y.useRef(null),u=y.useState(Fb(a)),f=pt(u,2),h=f[0],p=f[1],g=y.useMemo(function(){return{setPortalPlacement:p}},[]),m=y.useState(null),v=pt(m,2),b=v[0],x=v[1],w=y.useCallback(function(){if(i){var C=wC(i),E=o==="fixed"?0:window.pageYOffset,M=C[h]+E;(M!==b?.offset||C.left!==b?.rect.left||C.width!==b?.rect.width)&&x({offset:M,rect:C})}},[i,o,h,b?.offset,b?.rect.left,b?.rect.width]);Md(function(){w()},[w]);var S=y.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=BS(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);Md(function(){S()},[S]);var k=y.useCallback(function(C){l.current=C,S()},[S]);if(!t&&o!=="fixed"||!b)return null;var A=ae("div",se({ref:k},Ze(te(te({},e),{},{offset:b.offset,position:o,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ae(Hb.Provider,{value:g},t?Vr.createPortal(A,t):A)},zC=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},WC=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ae("div",se({},Ze(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),t)},qC=function(e,t){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return te({alignItems:"center",display:i&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},GC=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ae("div",se({},Ze(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),t)},KC=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ZC=function(e){var t=e.children,r=e.innerProps;return ae("div",se({},Ze(e,"indicatorsContainer",{indicators:!0}),r),t)},ep,YC=["size"],JC=["innerProps","isRtl","size"],XC={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ub=function(e){var t=e.size,r=In(e,YC);return ae("svg",se({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:XC},r))},Vf=function(e){return ae(Ub,se({size:20},e),ae("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},zb=function(e){return ae(Ub,se({size:20},e),ae("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Wb=function(e,t){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return te({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?a.neutral60:a.neutral20,padding:s*2,":hover":{color:r?a.neutral80:a.neutral40}})},QC=Wb,eA=function(e){var t=e.children,r=e.innerProps;return ae("div",se({},Ze(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ae(zb,null))},tA=Wb,nA=function(e){var t=e.children,r=e.innerProps;return ae("div",se({},Ze(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ae(Vf,null))},rA=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,a=i.colors;return te({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:s*2,marginTop:s*2})},iA=function(e){var t=e.innerProps;return ae("span",se({},t,Ze(e,"indicatorSeparator",{"indicator-separator":!0})))},sA=fC(ep||(ep=hC([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),aA=function(e,t){var r=e.isFocused,i=e.size,s=e.theme,a=s.colors,o=s.spacing.baseUnit;return te({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?a.neutral60:a.neutral20,padding:o*2})},Iu=function(e){var t=e.delay,r=e.offset;return ae("span",{css:Hf({animation:"".concat(sA," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},oA=function(e){var t=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,a=In(e,JC);return ae("div",se({},Ze(te(te({},a),{},{innerProps:t,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ae(Iu,{delay:0,offset:r}),ae(Iu,{delay:160,offset:!0}),ae(Iu,{delay:320,offset:!r}))},lA=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.theme,a=s.colors,o=s.borderRadius,l=s.spacing;return te({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},cA=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return ae("div",se({ref:s},Ze(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),a,{"aria-disabled":r||void 0}),t)},uA=cA,dA=["data"],fA=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},hA=function(e){var t=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,f=e.selectProps;return ae("div",se({},Ze(e,"group",{group:!0}),l),ae(a,se({},o,{selectProps:f,theme:u,getStyles:i,getClassNames:s,cx:r}),c),ae("div",null,t))},pA=function(e,t){var r=e.theme,i=r.colors,s=r.spacing;return te({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},mA=function(e){var t=jb(e);t.data;var r=In(t,dA);return ae("div",se({},Ze(e,"groupHeading",{"group-heading":!0}),r))},gA=hA,vA=["innerRef","isDisabled","isHidden","inputClassName"],bA=function(e,t){var r=e.isDisabled,i=e.value,s=e.theme,a=s.spacing,o=s.colors;return te(te({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},xA),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},qb={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},xA={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":te({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},qb)},yA=function(e){return te({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},qb)},wA=function(e){var t=e.cx,r=e.value,i=jb(e),s=i.innerRef,a=i.isDisabled,o=i.isHidden,l=i.inputClassName,c=In(i,vA);return ae("div",se({},Ze(e,"input",{"input-container":!0}),{"data-value":r||""}),ae("input",se({className:t({input:!0},l),ref:s,style:yA(o),disabled:a},c)))},SA=wA,kA=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors;return te({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},CA=function(e,t){var r=e.theme,i=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return te({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},AA=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,a=r.colors,o=e.isFocused;return te({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},Gb=function(e){var t=e.children,r=e.innerProps;return ae("div",r,t)},MA=Gb,IA=Gb;function EA(n){var e=n.children,t=n.innerProps;return ae("div",se({role:"button"},t),e||ae(Vf,{size:14}))}var DA=function(e){var t=e.children,r=e.components,i=e.data,s=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,c=r.Container,u=r.Label,f=r.Remove;return ae(c,{data:i,innerProps:te(te({},Ze(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:l},ae(u,{data:i,innerProps:te({},Ze(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),ae(f,{data:i,innerProps:te(te({},Ze(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:l}))},RA=DA,OA=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return te({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},TA=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,a=e.innerRef,o=e.innerProps;return ae("div",se({},Ze(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:a,"aria-disabled":r},o),t)},NA=TA,PA=function(e,t){var r=e.theme,i=r.spacing,s=r.colors;return te({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},LA=function(e){var t=e.children,r=e.innerProps;return ae("div",se({},Ze(e,"placeholder",{placeholder:!0}),r),t)},_A=LA,jA=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing,a=i.colors;return te({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},BA=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return ae("div",se({},Ze(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},$A=BA,Zi={ClearIndicator:nA,Control:uA,DropdownIndicator:eA,DownChevron:zb,CrossIcon:Vf,Group:gA,GroupHeading:mA,IndicatorsContainer:ZC,IndicatorSeparator:iA,Input:SA,LoadingIndicator:oA,Menu:LC,MenuList:jC,MenuPortal:UC,LoadingMessage:HC,NoOptionsMessage:FC,MultiValue:RA,MultiValueContainer:MA,MultiValueLabel:IA,MultiValueRemove:EA,Option:NA,Placeholder:_A,SelectContainer:WC,SingleValue:$A,ValueContainer:GC},FA=function(e){return te(te({},Zi),e.components)},tp=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function HA(n,e){return!!(n===e||tp(n)&&tp(e))}function VA(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!HA(n[t],e[t]))return!1;return!0}function UA(n,e){e===void 0&&(e=VA);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var a=n.apply(this,i);return t={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){t=null},r}var zA={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},WA=function(e){return ae("span",se({css:zA},e))},np=WA,qA={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,a=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,s=e.label,a=s===void 0?"":s,o=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,f=function(m,v){return m&&m.length?"".concat(m.indexOf(v)+1," of ").concat(m.length):""};if(t==="value"&&o)return"value ".concat(a," focused, ").concat(f(o,r),".");if(t==="menu"&&u){var h=l?" disabled":"",p="".concat(c?" selected":"").concat(h);return"".concat(a).concat(p,", ").concat(f(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},GA=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,f=l.ariaLiveMessages,h=l.getOptionLabel,p=l.inputValue,g=l.isMulti,m=l.isOptionDisabled,v=l.isSearchable,b=l.menuIsOpen,x=l.options,w=l.screenReaderStatus,S=l.tabSelectsValue,k=l.isLoading,A=l["aria-label"],C=l["aria-live"],E=y.useMemo(function(){return te(te({},qA),f||{})},[f]),M=y.useMemo(function(){var $="";if(t&&E.onChange){var q=t.option,Z=t.options,oe=t.removedValue,ee=t.removedValues,de=t.value,ve=function(Ae){return Array.isArray(Ae)?null:Ae},K=oe||q||ve(de),fe=K?h(K):"",re=Z||ee||void 0,ue=re?re.map(h):[],Q=te({isDisabled:K&&m(K,o),label:fe,labels:ue},t);$=E.onChange(Q)}return $},[t,E,m,o,h]),R=y.useMemo(function(){var $="",q=r||i,Z=!!(r&&o&&o.includes(r));if(q&&E.onFocus){var oe={focused:q,label:h(q),isDisabled:m(q,o),isSelected:Z,options:s,context:q===r?"menu":"value",selectValue:o,isAppleDevice:u};$=E.onFocus(oe)}return $},[r,i,h,m,E,s,o,u]),T=y.useMemo(function(){var $="";if(b&&x.length&&!k&&E.onFilter){var q=w({count:s.length});$=E.onFilter({inputValue:p,resultsMessage:q})}return $},[s,p,b,E,x,w,k]),N=t?.action==="initial-input-focus",P=y.useMemo(function(){var $="";if(E.guidance){var q=i?"value":b?"menu":"input";$=E.guidance({"aria-label":A,context:q,isDisabled:r&&m(r,o),isMulti:g,isSearchable:v,tabSelectsValue:S,isInitialFocus:N})}return $},[A,r,i,g,m,v,b,E,o,S,N]),L=ae(y.Fragment,null,ae("span",{id:"aria-selection"},M),ae("span",{id:"aria-focused"},R),ae("span",{id:"aria-results"},T),ae("span",{id:"aria-guidance"},P));return ae(y.Fragment,null,ae(np,{id:c},N&&L),ae(np,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!N&&L))},KA=GA,Id=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],ZA=new RegExp("["+Id.map(function(n){return n.letters}).join("")+"]","g"),Kb={};for(var Eu=0;Eu<Id.length;Eu++)for(var Du=Id[Eu],Ru=0;Ru<Du.letters.length;Ru++)Kb[Du.letters[Ru]]=Du.base;var Zb=function(e){return e.replace(ZA,function(t){return Kb[t]})},YA=UA(Zb),rp=function(e){return e.replace(/^\s+|\s+$/g,"")},JA=function(e){return"".concat(e.label," ").concat(e.value)},XA=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=te({ignoreCase:!0,ignoreAccents:!0,stringify:JA,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,a=i.ignoreAccents,o=i.stringify,l=i.trim,c=i.matchFrom,u=l?rp(r):r,f=l?rp(o(t)):o(t);return s&&(u=u.toLowerCase(),f=f.toLowerCase()),a&&(u=YA(u),f=Zb(f)),c==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}},QA=["innerRef"];function eM(n){var e=n.innerRef,t=In(n,QA),r=IC(t,"onExited","in","enter","exit","appear");return ae("input",se({ref:e},r,{css:Hf({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var tM=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function nM(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,a=y.useRef(!1),o=y.useRef(!1),l=y.useRef(0),c=y.useRef(null),u=y.useCallback(function(v,b){if(c.current!==null){var x=c.current,w=x.scrollTop,S=x.scrollHeight,k=x.clientHeight,A=c.current,C=b>0,E=S-k-w,M=!1;E>b&&a.current&&(r&&r(v),a.current=!1),C&&o.current&&(s&&s(v),o.current=!1),C&&b>E?(t&&!a.current&&t(v),A.scrollTop=S,M=!0,a.current=!0):!C&&-b>w&&(i&&!o.current&&i(v),A.scrollTop=0,M=!0,o.current=!0),M&&tM(v)}},[t,r,i,s]),f=y.useCallback(function(v){u(v,v.deltaY)},[u]),h=y.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),p=y.useCallback(function(v){var b=l.current-v.changedTouches[0].clientY;u(v,b)},[u]),g=y.useCallback(function(v){if(v){var b=CC?{passive:!1}:!1;v.addEventListener("wheel",f,b),v.addEventListener("touchstart",h,b),v.addEventListener("touchmove",p,b)}},[p,h,f]),m=y.useCallback(function(v){v&&(v.removeEventListener("wheel",f,!1),v.removeEventListener("touchstart",h,!1),v.removeEventListener("touchmove",p,!1))},[p,h,f]);return y.useEffect(function(){if(e){var v=c.current;return g(v),function(){m(v)}}},[e,g,m]),function(v){c.current=v}}var ip=["boxSizing","height","overflow","paddingRight","position"],sp={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ap(n){n.cancelable&&n.preventDefault()}function op(n){n.stopPropagation()}function lp(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function cp(){return"ontouchstart"in window||navigator.maxTouchPoints}var up=!!(typeof window<"u"&&window.document&&window.document.createElement),ls=0,si={capture:!1,passive:!1};function rM(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=y.useRef({}),s=y.useRef(null),a=y.useCallback(function(l){if(up){var c=document.body,u=c&&c.style;if(r&&ip.forEach(function(g){var m=u&&u[g];i.current[g]=m}),r&&ls<1){var f=parseInt(i.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+f||0;Object.keys(sp).forEach(function(g){var m=sp[g];u&&(u[g]=m)}),u&&(u.paddingRight="".concat(p,"px"))}c&&cp()&&(c.addEventListener("touchmove",ap,si),l&&(l.addEventListener("touchstart",lp,si),l.addEventListener("touchmove",op,si))),ls+=1}},[r]),o=y.useCallback(function(l){if(up){var c=document.body,u=c&&c.style;ls=Math.max(ls-1,0),r&&ls<1&&ip.forEach(function(f){var h=i.current[f];u&&(u[f]=h)}),c&&cp()&&(c.removeEventListener("touchmove",ap,si),l&&(l.removeEventListener("touchstart",lp,si),l.removeEventListener("touchmove",op,si)))}},[r]);return y.useEffect(function(){if(e){var l=s.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){s.current=l}}var iM=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},sM={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function aM(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,s=n.onBottomArrive,a=n.onBottomLeave,o=n.onTopArrive,l=n.onTopLeave,c=nM({isEnabled:i,onBottomArrive:s,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),u=rM({isEnabled:t}),f=function(p){c(p),u(p)};return ae(y.Fragment,null,t&&ae("div",{onClick:iM,css:sM}),e(f))}var oM={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},lM=function(e){var t=e.name,r=e.onFocus;return ae("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:oM,value:"",onChange:function(){}})},cM=lM;function Uf(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function uM(){return Uf(/^iPhone/i)}function Yb(){return Uf(/^Mac/i)}function dM(){return Uf(/^iPad/i)||Yb()&&navigator.maxTouchPoints>1}function fM(){return uM()||dM()}function hM(){return Yb()||fM()}var pM=function(e){return e.label},Jb=function(e){return e.label},Xb=function(e){return e.value},mM=function(e){return!!e.isDisabled},gM={clearIndicator:tA,container:zC,control:lA,dropdownIndicator:QC,group:fA,groupHeading:pA,indicatorsContainer:KC,indicatorSeparator:rA,input:bA,loadingIndicator:aA,loadingMessage:$C,menu:TC,menuList:_C,menuPortal:VC,multiValue:kA,multiValueLabel:CA,multiValueRemove:AA,noOptionsMessage:BC,option:OA,placeholder:PA,singleValue:jA,valueContainer:qC},vM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},bM=4,Qb=4,xM=38,yM=Qb*2,wM={baseUnit:Qb,controlHeight:xM,menuGutter:yM},Ou={borderRadius:bM,colors:vM,spacing:wM},SM={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Qh(),captureMenuScroll:!Qh(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:XA(),formatGroupLabel:pM,getOptionLabel:Jb,getOptionValue:Xb,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:mM,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!SC(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function dp(n,e,t,r){var i=nx(n,e,t),s=rx(n,e,t),a=tx(n,e),o=oc(n,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:a,value:o,index:r}}function Hl(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(a,o){return dp(n,a,e,o)}).filter(function(a){return hp(n,a)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var s=dp(n,t,e,r);return hp(n,s)?s:void 0}).filter(AC)}function ex(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Di(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function fp(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Di(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function kM(n,e){return ex(Hl(n,e))}function hp(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,s=e.isSelected,a=e.label,o=e.value;return(!sx(n)||!s)&&ix(n,{label:a,value:o,data:i},r)}function CM(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var s=e.indexOf(t);if(s>-1)return t;if(i<e.length)return e[i]}return null}function AM(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Tu=function(e,t){var r,i=(r=e.find(function(s){return s.data===t}))===null||r===void 0?void 0:r.id;return i||null},tx=function(e,t){return e.getOptionLabel(t)},oc=function(e,t){return e.getOptionValue(t)};function nx(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function rx(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=oc(n,e);return t.some(function(i){return oc(n,i)===r})}function ix(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var sx=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},MM=1,na=(function(n){fk(t,n);var e=mk(t);function t(r){var i;if(uk(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var u=i.props,f=u.onChange,h=u.name;c.name=h,i.ariaOnChange(l,c),f(l,c)},i.setValue=function(l,c,u){var f=i.props,h=f.closeMenuOnSelect,p=f.isMulti,g=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),h&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:u})},i.selectOption=function(l){var c=i.props,u=c.blurInputOnSelect,f=c.isMulti,h=c.name,p=i.state.selectValue,g=f&&i.isOptionSelected(l,p),m=i.isOptionDisabled(l,p);if(g){var v=i.getOptionValue(l);i.setValue(p.filter(function(b){return i.getOptionValue(b)!==v}),"deselect-option",l)}else if(!m)f?i.setValue([].concat(Di(p),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:h});return}u&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,u=i.state.selectValue,f=i.getOptionValue(l),h=u.filter(function(g){return i.getOptionValue(g)!==f}),p=ms(c,h,h[0]||null);i.onChange(p,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(ms(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,u=c[c.length-1],f=c.slice(0,c.length-1),h=ms(l,f,f[0]||null);u&&i.onChange(h,{action:"pop-value",removedValue:u})},i.getFocusedOptionId=function(l){return Tu(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return fp(Hl(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return gC.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return tx(i.props,l)},i.getOptionValue=function(l){return oc(i.props,l)},i.getStyles=function(l,c){var u=i.props.unstyled,f=gM[l](c,u);f.boxSizing="border-box";var h=i.props.styles[l];return h?h(f,c):f},i.getClassNames=function(l,c){var u,f;return(u=(f=i.props.classNames)[l])===null||u===void 0?void 0:u.call(f,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return FA(i.props)},i.buildCategorizedOptions=function(){return Hl(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return ex(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:te({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,u=c.isMulti,f=c.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Gc(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(i.initialTouchX=u.clientX,i.initialTouchY=u.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var f=Math.abs(u.clientX-i.initialTouchX),h=Math.abs(u.clientY-i.initialTouchY),p=5;i.userIsDragging=f>p||h>p}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,u=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(u,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),u=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:u>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return sx(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,u=c.isMulti,f=c.backspaceRemovesValue,h=c.escapeClearsValue,p=c.inputValue,g=c.isClearable,m=c.isDisabled,v=c.menuIsOpen,b=c.onKeyDown,x=c.tabSelectsValue,w=c.openMenuOnFocus,S=i.state,k=S.focusedOption,A=S.focusedValue,C=S.selectValue;if(!m&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||p)return;i.focusValue("previous");break;case"ArrowRight":if(!u||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(A)i.removeValue(A);else{if(!f)return;u?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!x||!k||w&&i.isOptionSelected(k,C))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(v){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):g&&h&&i.clearValue();break;case" ":if(p)return;if(!v){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++MM),i.state.selectValue=sc(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),o=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=a[o],i.state.focusedOptionId=Tu(s,a[o])}return i}return dk(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Xh(this.menuListRef,this.focusedOptionRef),hM()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Xh(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,a=this.state,o=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),u=i==="first"?0:c.length-1;if(!this.props.isMulti){var f=c.indexOf(o[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,a=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var c=a.length-1,u=-1;if(a.length){switch(i){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:a[u]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(a);a||(c=-1),i==="up"?l=c>0?c-1:o.length-1:i==="down"?l=(c+1)%o.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ou):te(te({},Ou),this.props.theme):Ou})},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,f=this.props,h=f.isMulti,p=f.isRtl,g=f.options,m=this.hasValue();return{clearValue:i,cx:s,getStyles:a,getClassNames:o,getValue:l,hasValue:m,isMulti:h,isRtl:p,options:g,selectOption:c,selectProps:f,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,a=i.isMulti;return s===void 0?a:s}},{key:"isOptionDisabled",value:function(i,s){return nx(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return rx(this.props,i,s)}},{key:"filterOption",value:function(i,s){return ix(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:a,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var i=this.props,s=i.isDisabled,a=i.isSearchable,o=i.inputId,l=i.inputValue,c=i.tabIndex,u=i.form,f=i.menuIsOpen,h=i.required,p=this.getComponents(),g=p.Input,m=this.state,v=m.inputIsHidden,b=m.ariaSelection,x=this.commonProps,w=o||this.getElementId("input"),S=te(te(te({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?y.createElement(g,se({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},S)):y.createElement(eM,se({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ic,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},S))})},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),a=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,f=s.Placeholder,h=this.commonProps,p=this.props,g=p.controlShouldRenderValue,m=p.isDisabled,v=p.isMulti,b=p.inputValue,x=p.placeholder,w=this.state,S=w.selectValue,k=w.focusedValue,A=w.isFocused;if(!this.hasValue()||!g)return b?null:y.createElement(f,se({},h,{key:"placeholder",isDisabled:m,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),x);if(v)return S.map(function(E,M){var R=E===k,T="".concat(i.getOptionLabel(E),"-").concat(i.getOptionValue(E));return y.createElement(a,se({},h,{components:{Container:o,Label:l,Remove:c},isFocused:R,isDisabled:m,key:T,index:M,removeProps:{onClick:function(){return i.removeValue(E)},onTouchEnd:function(){return i.removeValue(E)},onMouseDown:function(P){P.preventDefault()}},data:E}),i.formatOptionLabel(E,"value"))});if(b)return null;var C=S[0];return y.createElement(u,se({},h,{data:C,isDisabled:m}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,se({},a,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!s||!c)return null;var f={"aria-hidden":"true"};return y.createElement(s,se({},a,{innerProps:f,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,a=i.IndicatorSeparator;if(!s||!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return y.createElement(a,se({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,se({},a,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),a=s.Group,o=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,f=s.LoadingMessage,h=s.NoOptionsMessage,p=s.Option,g=this.commonProps,m=this.state.focusedOption,v=this.props,b=v.captureMenuScroll,x=v.inputValue,w=v.isLoading,S=v.loadingMessage,k=v.minMenuHeight,A=v.maxMenuHeight,C=v.menuIsOpen,E=v.menuPlacement,M=v.menuPosition,R=v.menuPortalTarget,T=v.menuShouldBlockScroll,N=v.menuShouldScrollIntoView,P=v.noOptionsMessage,L=v.onMenuScrollToTop,$=v.onMenuScrollToBottom;if(!C)return null;var q=function(fe,re){var ue=fe.type,Q=fe.data,ce=fe.isDisabled,Ae=fe.isSelected,Be=fe.label,he=fe.value,Je=m===Q,Me=ce?void 0:function(){return i.onOptionHover(Q)},Ie=ce?void 0:function(){return i.selectOption(Q)},Ne="".concat(i.getElementId("option"),"-").concat(re),bt={id:Ne,onClick:Ie,onMouseMove:Me,onMouseOver:Me,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Ae};return y.createElement(p,se({},g,{innerProps:bt,data:Q,isDisabled:ce,isSelected:Ae,key:Ne,label:Be,type:ue,value:he,isFocused:Je,innerRef:Je?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(fe.data,"menu"))},Z;if(this.hasOptions())Z=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var fe=K.data,re=K.options,ue=K.index,Q="".concat(i.getElementId("group"),"-").concat(ue),ce="".concat(Q,"-heading");return y.createElement(a,se({},g,{key:Q,data:fe,options:re,Heading:o,headingProps:{id:ce,data:K.data},label:i.formatGroupLabel(K.data)}),K.options.map(function(Ae){return q(Ae,"".concat(ue,"-").concat(Ae.index))}))}else if(K.type==="option")return q(K,"".concat(K.index))});else if(w){var oe=S({inputValue:x});if(oe===null)return null;Z=y.createElement(f,g,oe)}else{var ee=P({inputValue:x});if(ee===null)return null;Z=y.createElement(h,g,ee)}var de={minMenuHeight:k,maxMenuHeight:A,menuPlacement:E,menuPosition:M,menuShouldScrollIntoView:N},ve=y.createElement(NC,se({},g,de),function(K){var fe=K.ref,re=K.placerProps,ue=re.placement,Q=re.maxHeight;return y.createElement(l,se({},g,de,{innerRef:fe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:ue}),y.createElement(aM,{captureEnabled:b,onTopArrive:L,onBottomArrive:$,lockEnabled:T},function(ce){return y.createElement(c,se({},g,{innerRef:function(Be){i.getMenuListRef(Be),ce(Be)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:Q,focusedOption:m}),Z)}))});return R||M==="fixed"?y.createElement(u,se({},g,{appendTo:R,controlElement:this.controlRef,menuPlacement:E,menuPosition:M}),ve):ve}},{key:"renderFormField",value:function(){var i=this,s=this.props,a=s.delimiter,o=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,f=this.state.selectValue;if(u&&!this.hasValue()&&!o)return y.createElement(cM,{name:c,onFocus:this.onValueInputFocus});if(!(!c||o))if(l)if(a){var h=f.map(function(m){return i.getOptionValue(m)}).join(a);return y.createElement("input",{name:c,type:"hidden",value:h})}else{var p=f.length>0?f.map(function(m,v){return y.createElement("input",{key:"i-".concat(v),name:c,type:"hidden",value:i.getOptionValue(m)})}):y.createElement("input",{name:c,type:"hidden",value:""});return y.createElement("div",null,p)}else{var g=f[0]?this.getOptionValue(f[0]):"";return y.createElement("input",{name:c,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,a=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,f=this.getFocusableOptions();return y.createElement(KA,se({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,a=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,c=this.props,u=c.className,f=c.id,h=c.isDisabled,p=c.menuIsOpen,g=this.state.isFocused,m=this.commonProps=this.getCommonProps();return y.createElement(o,se({},m,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:g}),this.renderLiveRegion(),y.createElement(s,se({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:g,menuIsOpen:p}),y.createElement(l,se({},m,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(a,se({},m,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var a=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,f=s.prevWasFocused,h=s.instancePrefix,p=i.options,g=i.value,m=i.menuIsOpen,v=i.inputValue,b=i.isMulti,x=sc(g),w={};if(a&&(g!==a.value||p!==a.options||m!==a.menuIsOpen||v!==a.inputValue)){var S=m?kM(i,x):[],k=m?fp(Hl(i,x),"".concat(h,"-option")):[],A=o?CM(s,x):null,C=AM(s,S),E=Tu(k,C);w={selectValue:x,focusedOption:C,focusedOptionId:E,focusableOptionsWithIds:k,focusedValue:A,clearFocusValueOnUpdate:!1}}var M=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=c,T=u&&f;return u&&!T&&(R={value:ms(b,x,x[0]||null),options:x,action:"initial-input-focus"},T=!f),c?.action==="initial-input-focus"&&(R=null),te(te(te({},w),M),{},{prevProps:i,ariaSelection:R,prevWasFocused:T})}}]),t})(y.Component);na.defaultProps=SM;var IM=y.forwardRef(function(n,e){var t=Uc(n);return y.createElement(na,se({ref:e},t))}),ax=IM,EM=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function ox(n){var e=n.defaultOptions,t=e===void 0?!1:e,r=n.cacheOptions,i=r===void 0?!1:r,s=n.loadOptions;n.options;var a=n.isLoading,o=a===void 0?!1:a,l=n.onInputChange,c=n.filterOption,u=c===void 0?null:c,f=In(n,EM),h=f.inputValue,p=y.useRef(void 0),g=y.useRef(!1),m=y.useState(Array.isArray(t)?t:void 0),v=pt(m,2),b=v[0],x=v[1],w=y.useState(typeof h<"u"?h:""),S=pt(w,2),k=S[0],A=S[1],C=y.useState(t===!0),E=pt(C,2),M=E[0],R=E[1],T=y.useState(void 0),N=pt(T,2),P=N[0],L=N[1],$=y.useState([]),q=pt($,2),Z=q[0],oe=q[1],ee=y.useState(!1),de=pt(ee,2),ve=de[0],K=de[1],fe=y.useState({}),re=pt(fe,2),ue=re[0],Q=re[1],ce=y.useState(void 0),Ae=pt(ce,2),Be=Ae[0],he=Ae[1],Je=y.useState(void 0),Me=pt(Je,2),Ie=Me[0],Ne=Me[1];i!==Ie&&(Q({}),Ne(i)),t!==Be&&(x(Array.isArray(t)?t:void 0),he(t)),y.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var bt=y.useCallback(function(I,D){if(!s)return D();var O=s(I,D);O&&typeof O.then=="function"&&O.then(D,function(){return D()})},[s]);y.useEffect(function(){t===!0&&bt(k,function(I){g.current&&(x(I||[]),R(!!p.current))})},[]);var Tt=y.useCallback(function(I,D){var O=vC(I,D,l);if(!O){p.current=void 0,A(""),L(""),oe([]),R(!1),K(!1);return}if(i&&ue[O])A(O),L(O),oe(ue[O]),R(!1),K(!1);else{var H=p.current={};A(O),R(!0),K(!P),bt(O,function(F){g&&H===p.current&&(p.current=void 0,R(!1),L(O),oe(F||[]),K(!1),Q(F?te(te({},ue),{},ki({},O,F)):ue))})}},[i,bt,P,ue,l]),ar=ve?[]:k&&P?Z:b||[];return te(te({},f),{},{options:ar,isLoading:M||o,onInputChange:Tt,filterOption:u})}var DM=y.forwardRef(function(n,e){var t=ox(n),r=Uc(t);return y.createElement(na,se({ref:e},r))}),lx=DM,RM=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],pp=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(e).toLowerCase(),s=String(r.getOptionValue(t)).toLowerCase(),a=String(r.getOptionLabel(t)).toLowerCase();return s===i||a===i},Nu={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,r,i){return!(!e||t.some(function(s){return pp(e,s,i)})||r.some(function(s){return pp(e,s,i)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function cx(n){var e=n.allowCreateWhileLoading,t=e===void 0?!1:e,r=n.createOptionPosition,i=r===void 0?"last":r,s=n.formatCreateLabel,a=s===void 0?Nu.formatCreateLabel:s,o=n.isValidNewOption,l=o===void 0?Nu.isValidNewOption:o,c=n.getNewOptionData,u=c===void 0?Nu.getNewOptionData:c,f=n.onCreateOption,h=n.options,p=h===void 0?[]:h,g=n.onChange,m=In(n,RM),v=m.getOptionValue,b=v===void 0?Xb:v,x=m.getOptionLabel,w=x===void 0?Jb:x,S=m.inputValue,k=m.isLoading,A=m.isMulti,C=m.value,E=m.name,M=y.useMemo(function(){return l(S,sc(C),p,{getOptionValue:b,getOptionLabel:w})?u(S,a(S)):void 0},[a,u,w,b,S,l,p,C]),R=y.useMemo(function(){return(t||!k)&&M?i==="first"?[M].concat(Di(p)):[].concat(Di(p),[M]):p},[t,i,k,M,p]),T=y.useCallback(function(N,P){if(P.action!=="select-option")return g(N,P);var L=Array.isArray(N)?N:[N];if(L[L.length-1]===M){if(f)f(S);else{var $=u(S,S),q={action:"create-option",name:E,option:$};g(ms(A,[].concat(Di(sc(C)),[$]),$),q)}return}g(N,P)},[u,S,A,E,M,f,g,C]);return te(te({},m),{},{options:R,onChange:T})}var OM=y.forwardRef(function(n,e){var t=ox(n),r=Uc(t),i=cx(r);return y.createElement(na,se({ref:e},i))}),TM=OM,NM=y.forwardRef(function(n,e){var t=Uc(n),r=cx(t);return y.createElement(na,se({ref:e},r))}),PM=NM;const LM=n=>{switch(n){case"black":return"bg-black text-white dark:bg-white dark:text-black";case"grey":return"bg-grey-300 text-black dark:bg-grey-500";case"green":return"bg-green-500 text-white";case"pink":return"bg-pink-500 text-white";default:return""}},_M=({clearBg:n,fieldStyle:e,...t})=>e==="text"?d.jsx(d.Fragment,{}):d.jsx(Zi.DropdownIndicator,{...t,children:d.jsx("div",{className:`absolute top-[14px] block h-2 w-2 rotate-45 border-[1px] border-l-0 border-t-0 border-grey-900 content-[''] dark:border-grey-400 ${n?"right-0":"right-4"} `})}),jM=({children:n,...e})=>d.jsx(Zi.Option,{...e,children:d.jsx("span",{"data-testid":"select-option",children:n})}),ux=({title:n="",clearBg:e=!1,error:t=!1,placeholder:r,color:i="grey",size:s="md",fieldStyle:a="dropdown",hint:o="",async:l,options:c,defaultOptions:u,loadOptions:f,values:h,onChange:p,canCreate:g=!1,testId:m,...v})=>{const b=y.useId(),x=_("w-full cursor-pointer appearance-none rounded-md border border-transparent transition-all dark:text-white",s==="sm"?"min-h-[36px] py-1 text-sm":"min-h-[40px] py-2",a==="dropdown"?"cursor-pointer":"cursor-text",!e&&"bg-grey-150 px-[10px] dark:bg-grey-900","outline-none",t?"border-red":"hover:bg-grey-100 dark:hover:bg-grey-925",n&&!e&&"mt-2"),w=_(s==="sm"?"text-sm":"","px-3 py-[6px] hover:cursor-pointer hover:bg-grey-100 dark:text-white dark:hover:bg-grey-900"),S={control:x,valueContainer:"gap-1",placeHolder:"text-grey-500 dark:text-grey-800",menu:"shadow py-2 rounded-b z-[10000] bg-white dark:bg-black dark:border dark:border-grey-900",option:w,multiValue:C=>`rounded-sm items-center text-[14px] py-px pl-2 pr-1 gap-1.5 ${LM(C||i)}`,noOptionsMessage:"p-3 text-grey-600",groupHeading:"py-[6px] px-3 text-2xs font-semibold uppercase tracking-wide text-grey-700"},k=y.useMemo(()=>C=>d.jsx(_M,{...C,clearBg:e,fieldStyle:a}),[e,a]),A={classNames:{menuList:()=>"z-50",valueContainer:()=>S.valueContainer,control:()=>S.control,placeholder:()=>S.placeHolder,menu:()=>S.menu,option:()=>S.option,multiValue:({data:C})=>S.multiValue(C.color),noOptionsMessage:()=>S.noOptionsMessage,groupHeading:()=>S.groupHeading},closeMenuOnSelect:!1,components:{DropdownIndicator:k,Option:jM},inputId:b,isClearable:!1,placeholder:r||"",value:h,isMulti:!0,unstyled:!0,onChange:p,...v};return d.jsxs("div",{className:"flex flex-col",children:[n&&d.jsx(ft,{htmlFor:b,grey:!0,useLabelTag:!0,children:n}),d.jsx("div",{"data-testid":m,children:l?g?d.jsx(TM,{...A,defaultOptions:u,loadOptions:f}):d.jsx(lx,{...A,defaultOptions:u,loadOptions:f}):g?d.jsx(PM,{...A,options:c}):d.jsx(ax,{...A,options:c})}),o&&d.jsx(Mn,{color:t?"red":"",children:o})]})},BM=({clearBg:n,...e})=>d.jsx(Zi.DropdownIndicator,{...e,children:d.jsx("div",{className:`absolute top-1/2 mt-[-5px] block size-2 rotate-45 border-[1px] border-l-0 border-t-0 border-grey-900 content-[''] dark:border-grey-400 ${n?"right-2":"right-[14px]"} `})}),$M=n=>d.jsx(Zi.ClearIndicator,{...n,children:d.jsx(ge,{className:"mr-2",name:"close",size:"xs"})}),FM=({children:n,...e})=>d.jsxs(Zi.Option,{...e,children:[d.jsxs("span",{className:e.isSelected?"relative flex w-full items-center justify-between gap-2":"","data-testid":"select-option","data-value":e.data.value,children:[n,e.isSelected&&d.jsx("span",{children:d.jsx(ge,{name:"check",size:14})})]}),e.data.hint&&d.jsx("span",{className:"block text-xs text-grey-700 dark:text-grey-300",children:e.data.hint})]}),yr=({async:n,title:e,hideTitle:t,size:r="md",prompt:i,options:s,selectedOption:a,onSelect:o,error:l,hint:c,clearBg:u=!1,fullWidth:f=!0,isSearchable:h=!1,containerClassName:p,controlClasses:g,unstyled:m,disabled:v=!1,testId:b,...x})=>{const w=y.useId(),{setFocusState:S,isAnyTextFieldFocused:k}=Gi(),A=()=>{S(!0)},C=()=>{S(!1)};y.useEffect(()=>{if(k){const Z=oe=>{oe.key==="Escape"&&(document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),S(!1),oe.stopPropagation())};return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}}},[S,k]);let E="";m||(E=_("dark:text-white",f&&"w-full",v&&"cursor-not-allowed opacity-40")),E=_(E,p);const M={control:_(g?.control,"h-9 min-h-[36px] w-full appearance-none rounded-lg border outline-none md:h-[38px] md:min-h-[38px] dark:text-white",r==="xs"?"py-0 pr-2 text-xs":"py-1 pr-4",u?"":"bg-grey-150 px-3 dark:bg-grey-900",l?"border-red":`border-transparent ${!u&&"hover:bg-grey-100 dark:hover:bg-grey-925"}`,!v&&"cursor-pointer",e&&!u&&"mt-1.5"),valueContainer:_("mr-1.5 gap-1",g?.valueContainer),placeHolder:_("text-grey-700 dark:text-grey-800",g?.placeHolder),menu:_("z-[300] mt-0.5 overflow-hidden rounded-lg bg-white shadow-lg dark:border dark:border-grey-900 dark:bg-black",r==="xs"&&"text-xs",g?.menu),option:_("group px-3 py-[7px] hover:cursor-pointer hover:bg-grey-100 dark:text-white dark:hover:bg-grey-900",g?.option),noOptionsMessage:_("nowrap p-3 text-grey-600",g?.noOptionsMessage),groupHeading:_("px-3 py-[7px] text-2xs font-semibold uppercase tracking-wide text-grey-700",g?.groupHeading),clearIndicator:_("",g?.clearIndicator)},R=y.useMemo(()=>function(oe){return d.jsx(BM,{...oe,clearBg:u})},[u]),{components:T={},...N}=x,L={...{DropdownIndicator:R,Option:FM,ClearIndicator:$M},...T},$={classNames:{menuList:()=>"z-[300]",valueContainer:()=>M.valueContainer,control:()=>M.control,placeholder:()=>M.placeHolder,menu:()=>M.menu,option:Z=>Z.data.className?_(M.option,Z.data.className):M.option,noOptionsMessage:()=>M.noOptionsMessage,groupHeading:()=>M.groupHeading,clearIndicator:()=>M.clearIndicator},inputId:w,isClearable:!1,isSearchable:h,options:s,placeholder:i||"",value:a,isDisabled:v,unstyled:!0,onChange:o,onFocus:A,onBlur:C,menuPlacement:"auto"},q=d.jsxs(d.Fragment,{children:[e&&d.jsx(ft,{className:t?"sr-only":"",grey:!!(a||!i),htmlFor:w,useLabelTag:!0,children:e}),d.jsx("div",{className:E,"data-testid":b,children:n?d.jsx(lx,{...$,...x}):d.jsx(ax,{...$,...N,components:L})}),c&&d.jsx(Mn,{color:l?"red":"",children:c})]});return m?q:e||c?d.jsx("div",{children:q}):q},HM=({selectedValue:n="",onSelect:e,options:t=[],otherOption:r={value:"other",label:"Other..."},otherPlaceholder:i="Enter custom value",otherHint:s,backToListLabel:a="Choose from list",defaultListValue:o,validate:l,allowEmpty:c=!1,error:u,hint:f,title:h,testId:p,...g})=>{const{...m}=g,v=Y.useMemo(()=>n&&!t.some(P=>P.value===n)&&n!==r.value,[n,t,r.value]),[b,x]=y.useState(!!v),[w,S]=y.useState(null),k=P=>{P&&(P.value===r.value?(x(!0),e("")):(x(!1),e(P.value)))},A=P=>{const L=P.target.value;let $=null;l&&($=l(L)),!$&&!L&&!c&&($="Enter a value"),S($),e(L)},C=()=>{x(!1),S(null),o&&t.find(P=>P.value===o)?e(o):t.length>0&&e(t[0].value)},E=Y.useMemo(()=>t.some(L=>L.value===r.value)?t:[...t,r],[t,r]),M=b||v,R=u||!!w,T=w||(typeof f=="string"?f:"");if(M){const P=R?T:s&&typeof s=="string"?s:"";return d.jsxs("div",{className:"relative",children:[d.jsx(tt,{"data-testid":p,error:R,hideTitle:!h,hint:P,placeholder:i,title:h,value:n,onChange:A}),d.jsx("div",{className:"mt-2",children:d.jsx("button",{className:"text-xs text-green-400 hover:text-green-500",type:"button",onClick:C,children:a})})]})}const N=t.find(P=>P.value===n);return d.jsx(yr,{...m,async:!1,error:u,hint:f,options:E,selectedOption:N,testId:p,title:h,onSelect:k})},dx=({inputRef:n,title:e,value:t,rows:r=3,maxLength:i,resize:s="none",error:a,placeholder:o,hint:l,fontStyle:c="sans",className:u,onChange:f,onFocus:h,onBlur:p,...g})=>{const m=y.useId(),{setFocusState:v}=Gi(),b=S=>{v(!0),h?.(S)},x=S=>{v(!1),p?.(S)};let w=_("order-2 rounded-lg border bg-grey-150 px-3 py-2 transition-all dark:bg-grey-900 dark:text-white",a?"border-red bg-white":"border-transparent placeholder:text-grey-500 hover:bg-grey-100 focus:border-green focus:bg-white focus:shadow-[0_0_0_2px_rgba(48,207,67,0.25)] dark:placeholder:text-grey-800 dark:hover:bg-grey-925 dark:focus:bg-grey-950",e&&"mt-1.5",c==="mono"&&"font-mono text-sm",u);switch(s){case"both":w+=" resize ";break;case"vertical":w+=" resize-y ";break;case"horizontal":w+=" resize-x ";break;case"none":w+=" resize-none ";break;default:w+=" resize ";break}return d.jsx(xd,{asChild:!0,children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx(eb,{name:m,asChild:!0,children:d.jsx(tb,{asChild:!0,children:d.jsx("textarea",{ref:n,className:w,id:m,maxLength:i,placeholder:o,rows:r,value:t,onBlur:x,onChange:f,onFocus:b,...g})})}),e&&d.jsx(ft,{className:"order-1",htmlFor:m,useLabelTag:!0,children:e}),l&&d.jsx(Mn,{className:"order-3",color:a?"red":"",children:l})]})})},rn=({size:n,direction:e,label:t,labelStyle:r="value",containerClasses:i,labelClasses:s,toggleBg:a="black",hint:o,separator:l,error:c,checked:u,disabled:f,name:h,onChange:p,gap:g="gap-2",testId:m})=>{const v=y.useId();let b="",x="",w="";switch(n){case"sm":b=" h-3 w-5",x=" h-2 w-2 data-[state=checked]:translate-x-[10px]",w="mt-[-5.5px]";break;case"lg":b=" h-5 w-8",x=" h-4 w-4 data-[state=checked]:translate-x-[14px]",w="mt-[-1px]";break;default:b=" min-w-[28px] h-4 w-7",x=" h-3 w-3 data-[state=checked]:translate-x-[14px]",w="mt-[-3px]";break}w=_(s,w),r==="heading"&&(e="rtl");let S;switch(a){case"stripetest":S="data-[state=checked]:bg-[#EC6803] dark:data-[state=checked]:bg-[#EC6803]";break;case"green":S="data-[state=checked]:bg-green";break;default:S="data-[state=checked]:bg-black dark:data-[state=checked]:bg-green";break}const k=A=>{p&&p({target:{checked:A}})};return d.jsxs("div",{children:[d.jsxs("div",{className:`group flex items-start ${g} dark:text-white ${e==="rtl"&&"justify-between"} ${l&&"pb-2"} ${i}`,children:[d.jsx($S,{className:_(S,"appearance-none rounded-full bg-grey-300 transition duration-100 dark:bg-grey-800","enabled:hover:cursor-pointer disabled:cursor-not-allowed disabled:opacity-40 enabled:group-hover:opacity-80",b,e==="rtl"&&" order-2"),"data-testid":m,defaultChecked:u,disabled:f,id:v,name:h,onCheckedChange:k,children:d.jsx(FS,{className:_(x,"block translate-x-0.5 rounded-full bg-white transition-transform duration-100 will-change-transform")})}),t&&d.jsxs("label",{className:`flex grow flex-col ${!f&&"hover:cursor-pointer"} ${e==="rtl"&&"order-1"} ${w}`,htmlFor:v,children:[r==="heading"?d.jsx("span",{className:`${ub} mt-1`,children:t}):d.jsx("span",{children:t}),o&&d.jsx("span",{className:`text-xs ${c?"text-red":"text-grey-700 dark:text-grey-600"}`,children:o})]})]}),(l||c)&&d.jsx(Ct,{className:c?"border-red":""})]})};function Ed(n){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(n)}function Kc(n){var e=typeof n=="string"||n instanceof String;if(!e){var t=Ed(n);throw n===null?t="null":t==="object"&&(t=n.constructor.name),new TypeError("Expected a string but received a ".concat(t))}}function Dd(n){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(n)}function Pu(n,e){Kc(n);var t,r;Dd(e)==="object"?(t=e.min||0,r=e.max):(t=arguments[1],r=arguments[2]);var i=encodeURI(n).split(/%..|./).length-1;return i>=t&&(typeof r>"u"||i<=r)}function fx(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var t in e)typeof n[t]>"u"&&(n[t]=e[t]);return n}var VM={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function UM(n,e){Kc(n),e=fx(e,VM),e.allow_trailing_dot&&n[n.length-1]==="."&&(n=n.substring(0,n.length-1)),e.allow_wildcard===!0&&n.indexOf("*.")===0&&(n=n.substring(2));var t=n.split("."),r=t[t.length-1];return e.require_tld&&(t.length<2||!e.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(r)||/\s/.test(r))||!e.allow_numeric_tld&&/^\d+$/.test(r)?!1:t.every(function(i){return!(i.length>63&&!e.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(i)||/[\uff01-\uff5e]/.test(i)||/^-|-$/.test(i)||!e.allow_underscores&&/_/.test(i))})}var mp="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",dr="(".concat(mp,"[.]){3}").concat(mp),zM=new RegExp("^".concat(dr,"$")),et="(?:[0-9a-fA-F]{1,4})",WM=new RegExp("^("+"(?:".concat(et,":){7}(?:").concat(et,"|:)|")+"(?:".concat(et,":){6}(?:").concat(dr,"|:").concat(et,"|:)|")+"(?:".concat(et,":){5}(?::").concat(dr,"|(:").concat(et,"){1,2}|:)|")+"(?:".concat(et,":){4}(?:(:").concat(et,"){0,1}:").concat(dr,"|(:").concat(et,"){1,3}|:)|")+"(?:".concat(et,":){3}(?:(:").concat(et,"){0,2}:").concat(dr,"|(:").concat(et,"){1,4}|:)|")+"(?:".concat(et,":){2}(?:(:").concat(et,"){0,3}:").concat(dr,"|(:").concat(et,"){1,5}|:)|")+"(?:".concat(et,":){1}(?:(:").concat(et,"){0,4}:").concat(dr,"|(:").concat(et,"){1,6}|:)|")+"(?::((?::".concat(et,"){0,5}:").concat(dr,"|(?::").concat(et,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function lc(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Kc(n),e=String(e),e?e==="4"?zM.test(n):e==="6"?WM.test(n):!1:lc(n,4)||lc(n,6)}var qM={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},GM=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,KM=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,ZM=/^[a-z\d]+$/,YM=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,JM=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,XM=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,QM=254;function eI(n){var e=n.replace(/^"(.+)"$/,"$1");if(!e.trim())return!1;var t=/[\.";<>]/.test(e);if(t){if(e===n)return!1;var r=e.split('"').length===e.split('\\"').length;if(!r)return!1}return!0}function tI(n,e){if(Kc(n),e=fx(e,qM),e.require_display_name||e.allow_display_name){var t=n.match(GM);if(t){var r=t[1];if(n=n.replace(r,"").replace(/(^<|>$)/g,""),r.endsWith(" ")&&(r=r.slice(0,-1)),!eI(r))return!1}else if(e.require_display_name)return!1}if(!e.ignore_max_length&&n.length>QM)return!1;var i=n.split("@"),s=i.pop(),a=s.toLowerCase();if(e.host_blacklist.includes(a)||e.host_whitelist.length>0&&!e.host_whitelist.includes(a))return!1;var o=i.join("@");if(e.domain_specific_validation&&(a==="gmail.com"||a==="googlemail.com")){o=o.toLowerCase();var l=o.split("+")[0];if(!Pu(l.replace(/\./g,""),{min:6,max:30}))return!1;for(var c=l.split("."),u=0;u<c.length;u++)if(!ZM.test(c[u]))return!1}if(e.ignore_max_length===!1&&(!Pu(o,{max:64})||!Pu(s,{max:254})))return!1;if(!UM(s,{require_tld:e.require_tld,ignore_max_length:e.ignore_max_length,allow_underscores:e.allow_underscores})){if(!e.allow_ip_domain)return!1;if(!lc(s)){if(!s.startsWith("[")||!s.endsWith("]"))return!1;var f=s.slice(1,-1);if(f.length===0||!lc(f))return!1}}if(o[0]==='"')return o=o.slice(1,o.length-1),e.allow_utf8_local_part?XM.test(o):YM.test(o);for(var h=e.allow_utf8_local_part?JM:KM,p=o.split("."),g=0;g<p.length;g++)if(!h.test(p[g]))return!1;return!(e.blacklisted_chars&&o.search(new RegExp("[".concat(e.blacklisted_chars,"]+"),"g"))!==-1)}const Lu=(n,e,t)=>{if(t&&!n)return{save:null,display:""};let r=n.trim();if(!r)return e?{save:"/",display:e}:{save:"",display:""};if(tI(r))return{save:`mailto:${r}`,display:`mailto:${r}`};if(r.match(/^#/))return{save:r,display:r};if(r.match(/^(\/\/)/))return{save:r,display:r};if(e||r.startsWith("http")||(r=`https://${r}`),!r.match(/^[a-zA-Z0-9-]+:/)&&!r.match(/^(\/|\?)/))return{save:r,display:r};let a;try{a=new URL(r,e)}catch{return{save:r,display:r}}if(!e)return{save:a.toString(),display:a.toString()};const o=new URL(e);let l=a.pathname&&a.pathname.indexOf(o.pathname)===0;return`${a.pathname}/`===o.pathname&&(l=!0),a.host===o.host&&l&&(r=r.replace(/^[a-zA-Z0-9-]+:/,""),r=r.replace(/^\/\//,""),r=r.replace(o.host,""),r=r.replace(o.pathname,""),r.match(/^\//)||(r=`/${r}`)),!r.match(/\/$/)&&!r.match(/[.#?]/)&&(r=`${r}/`),{save:r,display:nI(r,e)}},nI=(n,e)=>(e.endsWith("/")||(e+="/"),n.startsWith("/")&&(n=n.substring(1)),new URL(n,e).toString()),rI=({baseUrl:n,value:e,transformPathWithoutSlash:t,nullable:r,onChange:i,...s})=>{const[a,o]=y.useState(""),{setFocusState:l}=Gi();y.useEffect(()=>{o(Lu(e||"",n,r).display)},[e,n,r]);const c=()=>{let h=Lu(a,n,r);if(t&&!h.display.includes("//")&&(a||!r)){const p=Lu("/"+a,n,r);p.display.includes("//")&&(h=p)}o(h.display),h.save!==e&&i(h.save),l(!1)},u=h=>{var p;a===n&&setTimeout(()=>h.target.setSelectionRange(h.target.value.length,h.target.value.length)),(p=s.onFocus)==null||p.call(s,h),l(!0)},f=h=>{var p;a===n&&["Backspace","Delete"].includes(h.key)&&o(""),(p=s.onKeyDown)==null||p.call(s,h)};return d.jsx(tt,{...s,value:a,onBlur:c,onChange:h=>o(h.target.value),onFocus:u,onKeyDown:f})},zf=({content:n,size:e="sm",children:t,containerClassName:r,tooltipClassName:i,origin:s="center"})=>(r=_("will-change-[opacity]",r),i=_("z-[9999] select-none rounded-sm bg-black px-2 py-0.5 leading-normal text-white will-change-[transform,opacity]",e==="sm"&&"text-xs",e==="md"&&"text-sm"),d.jsx(HS,{delayDuration:0,children:d.jsxs(VS,{children:[d.jsx(US,{className:r,onClick:a=>a.preventDefault(),children:t}),d.jsx(zS,{align:s,className:i,sideOffset:4,onPointerDownOutside:a=>a.preventDefault(),children:n})]})})),Ns=({size:n="md",buttons:e,link:t,linkWithPadding:r,clearBg:i=!0,outlineOnMobile:s,className:a,activeKey:o})=>{let l=_("flex items-center justify-start rounded",t?"gap-4":"gap-2",!t&&!i&&"!gap-0 rounded-lg bg-grey-100 dark:bg-grey-900",a);return t&&!i&&(l=_("transition-all hover:bg-grey-200 dark:hover:bg-grey-900",n==="sm"?"h-7 px-3":"h-[34px] px-4",s&&"border border-grey-300 hover:border-transparent md:border-transparent",l)),d.jsx("div",{className:l,children:e.map(({key:c,...u})=>{const f={...u};return!t&&!i&&(f.className=_(u.className,"w-8 rounded-lg border !px-0"),c===o?(f.color="white",f.className=_(f.className,"border-grey-300 shadow-xs dark:border-grey-800")):f.className=_(f.className,"border-transparent")),u.tooltip?d.jsx(zf,{content:u.tooltip,children:d.jsx(ne,{link:t,linkWithPadding:r,size:n,...f},`btn-${c}`)},c):d.jsx(ne,{link:t,linkWithPadding:r,size:n,...f},c)})})},iI=({shiftY:n,footerBgColorClass:e="bg-white dark:bg-black",contentBgColorClass:t="bg-white dark:bg-black",height:r=96,children:i})=>{const s=_("w-100 sticky bottom-[-24px] z-[297] m-0 box-border p-0"),a=n?`calc(${n} - 24px)`:"-24px",o=`${r+24}px`,l=_("sticky z-[298] block h-[24px]",t),c="0",u=_("sticky z-[299] mb-[-24px] flex items-center justify-between","h-[96px]",e),f="0",h=`${r}px`,p="sticky mx-2 block h-[24px] rounded-full shadow-[0_0_0_1px_rgba(0,0,0,.025),0_-8px_16px_-3px_rgba(0,0,0,.08)]",g=n?`calc(${n} + ${r-24}px)`:`${r-24}px`;return d.jsxs("div",{className:s,style:{bottom:a,height:o},children:[d.jsx("div",{className:l,style:{bottom:c}}),d.jsx("div",{className:u,style:{bottom:f,height:h},children:i}),d.jsx("div",{className:p,style:{bottom:g}})]})};function Ps(n,e,t={}){n?Ke.show(Gr,{title:"Are you sure you want to leave this page?",prompt:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Hey there! It looks like you didn't save the changes you made."}),d.jsx("p",{children:"Save before you go!"})]}),okLabel:"Leave",cancelLabel:"Stay",okColor:"red",onOk:r=>{e(),r?.remove()},...t}):e()}const hx="bg-[rgba(98,109,121,0.2)] backdrop-blur-[3px]",Or=y.forwardRef(({size:n="md",align:e="center",width:t,height:r,testId:i,title:s,okLabel:a="OK",okLoading:o=!1,cancelLabel:l="Cancel",footer:c,header:u,leftButtonProps:f,buttonsDisabled:h,okDisabled:p,padding:g=!0,onOk:m,okColor:v="black",onCancel:b,topRightContent:x,hideXOnMobile:w=!1,afterClose:S,children:k,backDrop:A=!0,backDropClick:C=!0,stickyFooter:E=!1,stickyHeader:M=!1,scrolling:R=!0,dirty:T=!1,animate:N=!0,formSheet:P=!1,enableCMDS:L=!0,allowBackgroundInteraction:$=!1},q)=>{const Z=ir(),{setGlobalDirtyState:oe}=Vc(),[ee,de]=y.useState(!1);y.useEffect(()=>{oe(T)},[T,oe]),y.useEffect(()=>{const Me=Ie=>{if(Ie.key==="Escape"){const Ne=document.activeElement;if(Ne?.hasAttribute("data-kg-link-input"))return;document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),setTimeout(()=>{b?b():Ps(T,()=>{Z.remove(),S?.()})}),Ie.stopPropagation()}};return document.addEventListener("keydown",Me),()=>{document.removeEventListener("keydown",Me)}},[Z,T,S,b]),y.useEffect(()=>{const Me=setTimeout(()=>{de(!0)},250);return()=>clearTimeout(Me)},[]),y.useEffect(()=>{if(m){const Me=Ie=>{(Ie.metaKey||Ie.ctrlKey)&&Ie.key==="s"&&(Ie.preventDefault(),m())};if(L)return window.addEventListener("keydown",Me),()=>{window.removeEventListener("keydown",Me)}}});const ve=[];let K;const fe=()=>{Ps(T,()=>{Z.remove(),S?.()})};c||(l&&ve.push({key:"cancel-modal",label:l,color:"outline",onClick:b||(()=>{fe()}),disabled:h}),a&&ve.push({key:"ok-modal",label:a,color:v,className:"min-w-[80px]",onClick:m,disabled:h||p,loading:o}));let re=_("relative z-50 flex max-h-[100%] w-full flex-col justify-between overflow-x-hidden bg-white dark:bg-black",e==="center"&&"mx-auto",e==="left"&&"mr-auto",e==="right"&&"ml-auto",n!=="bleed"&&"rounded",P?"shadow-md":"shadow-xl",N&&!P&&!ee&&e==="center"&&"animate-modal-in",N&&!P&&!ee&&e==="right"&&"animate-modal-in-from-right",P&&!ee&&"animate-modal-in-reverse",R?"overflow-y-auto":"overflow-y-hidden"),ue=_("fixed inset-0 z-[1000] h-[100dvh] w-[100dvw]",$&&"pointer-events-none"),Q="",ce=_(!x||x==="close"?"":"flex items-center justify-between gap-5");switch(M&&(ce=_(ce,"sticky top-0 z-[300] -mb-4 bg-white !pb-4 dark:bg-black")),n){case"sm":re=_(re,"max-w-[480px]"),ue=_(ue,"p-4 md:p-[8vmin]"),Q="p-8",ce=_(ce,"-inset-x-8");break;case"md":re=_(re,"max-w-[720px]"),ue=_(ue,"p-4 md:p-[8vmin]"),Q="p-8",ce=_(ce,"-inset-x-8");break;case"lg":re=_(re,"max-w-[1020px]"),ue=_(ue,"p-4 md:p-[4vmin]"),Q="p-7",ce=_(ce,"-inset-x-8");break;case"xl":re=_(re,"max-w-[1240px]0"),ue=_(ue,"p-4 md:p-[3vmin]"),Q="p-10",ce=_(ce,"-inset-x-10 -top-10");break;case"full":re=_(re,"h-full"),ue=_(ue,"p-4 md:p-[3vmin]"),Q="p-10",ce=_(ce,"-inset-x-10");break;case"bleed":re=_(re,"h-full"),Q="p-10",ce=_(ce,"-inset-x-10");break;default:ue=_(ue,"p-4 md:p-[8vmin]"),Q="p-8",ce=_(ce,"-inset-x-8");break}g||(Q="p-0"),re=_(re),ce=_(ce,Q,"pb-0"),K=_(Q,"py-0"),ue=_(ue,"max-[800px]:!pb-20");const Ae=_(`${Q} ${E?"py-6":""}`,"flex w-full items-center justify-between");K=_(K,(n==="full"||n==="bleed"||r==="full"||typeof r=="number")&&"grow");const Be=Me=>{Me.target===Me.currentTarget&&C&&fe()},he={};typeof t=="number"?(he.width="100%",he.maxWidth=t+"px"):t==="full"?re=_(re,"w-full"):t==="toSidebar"&&(re=_(re,"w-full max-w-[calc(100dvw_-_280px)] lg:max-w-full min-[1280px]:max-w-[calc(100dvw_-_320px)]")),typeof r=="number"?(he.height="100%",he.maxHeight=r+"px"):r==="full"&&(re=_(re,"h-full"));let Je;return c?Je=c:c===!1?K+=" pb-0 ":Je=d.jsxs("div",{className:Ae,children:[d.jsx("div",{children:f&&d.jsx(ne,{...f})}),d.jsx("div",{className:"flex gap-3",children:d.jsx(Ns,{buttons:ve})})]}),Je=E?d.jsx(iI,{height:84,children:Je}):d.jsx(d.Fragment,{children:Je}),d.jsxs("div",{className:ue,id:"modal-backdrop",onMouseDown:Be,children:[d.jsx("div",{className:_("pointer-events-none fixed inset-0 z-0",A&&!P&&hx,P&&"bg-[rgba(98,109,121,0.08)]")}),d.jsxs("section",{ref:q,className:_(re,$&&"pointer-events-auto"),"data-testid":i,style:he,children:[u===!1?"":!x||x==="close"?d.jsxs("header",{className:ce,children:[s&&d.jsx(ft,{level:3,children:s}),d.jsx("div",{className:`${x!=="close"&&"md:!invisible md:!hidden"} ${w&&"hidden"} absolute right-6 top-6`,children:d.jsx(ne,{className:"-m-2 cursor-pointer p-2 opacity-50 hover:opacity-100",icon:"close",iconColorClass:"text-black dark:text-white",size:"sm",testId:"close-modal",unstyled:!0,onClick:fe})})]}):d.jsxs("header",{className:ce,children:[s&&d.jsx(ft,{level:3,children:s}),x]}),d.jsx("div",{className:K,children:k}),Je]})]})});Or.displayName="Modal";const sI=({title:n="Are you sure?",prompt:e,cancelLabel:t="Cancel",okLabel:r="OK",okRunningLabel:i="...",okColor:s="black",onCancel:a,onOk:o,customFooter:l,formSheet:c=!0})=>{const u=ir(),[f,h]=y.useState("");return d.jsx(Or,{backDropClick:!1,buttonsDisabled:f==="running",cancelLabel:t,footer:l,formSheet:c,okColor:s,okLabel:f==="running"?i:r,testId:"confirmation-modal",title:n,width:540,onCancel:a,onOk:async()=>{h("running");try{await o?.(u)}catch(p){console.error("Unhandled Promise Rejection. Make sure you catch errors in your onOk handler.",p)}h("")},children:d.jsx("div",{className:"py-4 leading-9",children:e})})},Gr=Ke.create(sI),aI=({title:n="Upgrade your plan",prompt:e,okLabel:t="Upgrade",formSheet:r=!1,onOk:i})=>d.jsx(Or,{backDropClick:!1,formSheet:r,okColor:"green",okLabel:t,testId:"limit-modal",title:n,width:540,onOk:i,children:d.jsx("div",{className:"py-4 leading-9",children:typeof e=="string"&&e.includes("<")?d.jsx("div",{dangerouslySetInnerHTML:{__html:e}}):e})}),px=Ke.create(aI),oI=({id:n,title:e,onClick:t,border:r,icon:i,counter:s})=>d.jsxs(S2,{className:_("-m-b-px cursor-pointer appearance-none whitespace-nowrap py-1 text-md font-semibold text-grey-700 transition-all after:invisible after:block after:h-px after:overflow-hidden after:font-bold after:text-transparent after:content-[attr(title)] data-[state=active]:text-black dark:text-white [&>span]:data-[state=active]:text-black [&>span]:data-[state=active]:dark:text-white",r&&"border-b-2 border-transparent hover:border-grey-500 data-[state=active]:border-black data-[state=active]:dark:border-white data-[state=active]:dark:text-white"),id:n,role:"tab",title:e,value:n,onClick:t,children:[i&&d.jsx(ge,{className:"mb-0.5 mr-1.5 inline",name:i,size:"sm"}),e,typeof s=="number"&&d.jsx("span",{className:"ml-1.5 rounded-full bg-grey-200 px-1.5 py-[2px] text-xs font-medium text-grey-800 dark:bg-grey-900 dark:text-grey-300",children:new Intl.NumberFormat().format(s)})]}),lI=({tabs:n,width:e="normal",handleTabChange:t,border:r,buttonBorder:i,topRightContent:s,stickyHeader:a})=>{const o=_("no-scrollbar mb-px flex w-full overflow-x-auto",e==="narrow"&&"gap-3",e==="normal"&&"gap-5",e==="wide"&&"gap-7",r&&"border-b border-grey-300 dark:border-grey-900");return d.jsx(w2,{className:`${a?"sticky top-0 z-50 bg-white dark:bg-black":""}`,children:d.jsxs("div",{className:o,role:"tablist",children:[n.map(l=>d.jsx("div",{children:d.jsx(oI,{border:i,counter:l.counter,icon:l.icon,id:l.id,title:l.title,onClick:t})})),s!==null?d.jsx("div",{className:"ml-auto",children:s}):null]})})};function Kn({testId:n,tabs:e,onTabChange:t,selectedTab:r,border:i=!0,buttonBorder:s=i,width:a="normal",containerClassName:o,topRightContent:l,stickyHeader:c}){if(e.length!==0&&r===void 0&&(r=e[0].id),e.length===0)return d.jsx(d.Fragment,{});const u=f=>{const h=f.currentTarget.id;t(h)};return d.jsxs(x2,{className:o,"data-testid":n,value:r,children:[d.jsx(lI,{border:i,buttonBorder:s,handleTabChange:u,selectedTab:r,stickyHeader:c,tabs:e,topRightContent:l,width:a}),e.map(f=>d.jsx(y2,{className:f.tabWrapperClassName,value:f.id,children:d.jsx("div",{className:f.containerClassName,children:f.contents})}))]})}const Wf=({image:n,label:e,labelColor:t,bgColor:r,size:i,className:s})=>{let a="",o=" -mb-2 ";switch(i){case"sm":a=" w-7 h-7 text-sm ";break;case"lg":a=" w-12 h-12 text-xl ";break;case"xl":a=" w-16 h-16 text-2xl ",o=" -mb-3 ";break;case"2xl":a=" w-20 h-20 text-2xl ",o=" -mb-3 ";break;default:a=" w-10 h-10 text-md ";break}return d.jsxs(WS,{className:`relative inline-flex select-none items-center justify-center overflow-hidden rounded-full align-middle ${a}`,children:[n?d.jsx(qS,{className:`absolute z-20 h-full w-full object-cover ${s&&s}`,src:n}):d.jsx("span",{className:`${t&&`text-${t}`} relative z-10 inline-flex h-full w-full items-center justify-center p-2 font-semibold ${s&&s}`,style:r?{backgroundColor:r}:{},children:e}),d.jsx(GS,{asChild:!0,children:d.jsx(KS,{className:`${o} absolute z-0 h-full w-full text-grey-300`})})]})},cI=({icon:n,iconColorClass:e,children:t})=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ge,{colorClass:e,name:n,size:"sm"}),t]}),Ls=({href:n,color:e,className:t,children:r,...i})=>{e||(e="green");let s=e==="black"?"transition text-black hover:text-black-700":`text-${e} hover:text-${e}-400`;return t&&(s=`${s} ${t}`),d.jsx("a",{className:s,href:n,...i,children:r})},uI=({title:n,titleSize:e="sm",actions:t,titleSeparator:r})=>{let i;if(n){const s=e==="sm"?d.jsx(ft,{grey:!0,level:6,children:n}):d.jsx(ft,{level:5,children:n});i=t?d.jsxs("div",{className:"flex items-end justify-between gap-2",children:[s,t]}):s}return i||r?d.jsxs("div",{className:"flex flex-col items-stretch gap-1",children:[i,r&&d.jsx(Ct,{})]}):d.jsx(d.Fragment,{})},Yi=({title:n,titleSeparator:e=!0,titleSize:t="sm",children:r,actions:i,hint:s,hintSeparator:a=!0,borderTop:o,pageTitle:l,className:c})=>{const u=_((o||l)&&"border-t border-grey-300",l&&"mt-5",c);return d.jsxs(d.Fragment,{children:[l&&d.jsx(ft,{children:l}),d.jsxs("section",{className:u,children:[n&&d.jsx(uI,{actions:i,title:n,titleSeparator:!l&&e&&!o,titleSize:t}),d.jsx("div",{className:"flex flex-col",children:r}),s&&d.jsxs("div",{className:"-mt-px",children:[a&&d.jsx(Ct,{}),d.jsx(Mn,{children:s})]})]})]})},Zc=({id:n,title:e,detail:t,action:r,hideActions:i,avatar:s,className:a,testId:o,separator:l=!0,bgOnHover:c=!0,paddingRight:u=!0,onClick:f,children:h})=>{const p=m=>{f?.(m)},g=_("group/list-item relative flex items-center justify-between",c&&"hover:bg-grey-50 dark:hover:bg-grey-950",l?"border-b border-grey-100 last-of-type:border-b-transparent dark:border-grey-900":"border-y border-transparent",f&&'cursor-pointer before:absolute before:inset-0 before:content-[""]',"hover:z-10 hover:border-b-transparent","-mb-px pb-px",a);return d.jsxs("div",{className:g,"data-testid":o,onClick:p,children:[c&&d.jsx("div",{className:"absolute inset-0 -z-10 -mx-4 rounded-lg bg-grey-50 opacity-0 group-hover/list-item:opacity-100 dark:bg-grey-950"}),d.jsxs("div",{className:"relative flex w-full items-center justify-between",children:[h||d.jsxs("div",{className:"flex grow items-center gap-3",children:[s&&s,d.jsxs("div",{className:"flex grow flex-col py-3 pr-6",id:n,children:[d.jsx("span",{children:e}),t&&d.jsx("span",{className:"text-xs text-grey-700",children:t})]})]}),r&&d.jsx("div",{className:`visible py-3 md:pl-2 ${u&&"md:pr-2"} ${i?"group-hover/list-item:visible md:invisible":""}`,children:r})]})]})},dI=({trigger:n,children:e,position:t="start",side:r="bottom",closeOnItemClick:i,open:s,setOpen:a})=>{const[o,l]=y.useState(!1),c=s!==void 0?s:o,u=a||l,f=()=>{i&&u(!1)};return d.jsxs(ZS,{open:c,onOpenChange:u,children:[d.jsx(YS,{asChild:!0,children:d.jsx(JS,{asChild:!0,onClick:h=>h.stopPropagation(),children:n})}),d.jsx(XS,{align:t,className:"z-[9999] mt-2 origin-top-right rounded bg-white shadow-md ring-1 ring-[rgba(0,0,0,0.01)] focus:outline-none dark:bg-grey-900 dark:text-white","data-testid":"popover-content",side:r,sideOffset:8,onClick:f,children:e})]})},ei=({icon:n,children:e})=>d.jsxs("div",{className:"my-10 flex flex-col items-center gap-1 text-sm text-grey-600",children:[n&&d.jsx(ge,{className:"stroke-[1px]",colorClass:"text-grey-500",name:n,size:"lg"}),e]}),fI=({page:n,limit:e,total:t,prevPage:r,nextPage:i})=>{const s=(n-1)*e+1,a=t?Math.min(t,s+e-1):s+e-1,o=t?a<t:!1,l=n>1;return t&&e<t?d.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-grey-700",children:["Showing ",s,"-",a," of ",t,d.jsx("button",{type:"button",onClick:r,children:d.jsx(ge,{className:`size-[10px] [&>path]:stroke-[3px] ${l?"hover:text-green-700 cursor-pointer":"cursor-default opacity-50"}`,colorClass:"text-green",name:"chevron-left"})}),d.jsx("button",{type:"button",onClick:i,children:d.jsx(ge,{className:`size-[10px] [&>path]:stroke-[3px] ${o?"hover:text-green-700 cursor-pointer":"cursor-default opacity-50"}`,colorClass:"text-green",name:"chevron-right"})})]}):d.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-grey-700",children:["Showing ",t??"?"," in total"]})};function hI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return y.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Yc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ji(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function qf(n){return"nodeType"in n}function Ft(n){var e,t;return n?Ji(n)?n:qf(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Gf(n){const{Document:e}=Ft(n);return n instanceof e}function ra(n){return Ji(n)?!1:n instanceof Ft(n).HTMLElement}function mx(n){return n instanceof Ft(n).SVGElement}function Xi(n){return n?Ji(n)?n.document:qf(n)?Gf(n)?n:ra(n)||mx(n)?n.ownerDocument:document:document:document}const Cn=Yc?y.useLayoutEffect:y.useEffect;function Jc(n){const e=y.useRef(n);return Cn(()=>{e.current=n}),y.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function pI(){const n=y.useRef(null),e=y.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=y.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function _s(n,e){e===void 0&&(e=[n]);const t=y.useRef(n);return Cn(()=>{t.current!==n&&(t.current=n)},e),t}function ia(n,e){const t=y.useRef();return y.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function cc(n){const e=Jc(n),t=y.useRef(null),r=y.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,r]}function uc(n){const e=y.useRef();return y.useEffect(()=>{e.current=n},[n]),e.current}let _u={};function sa(n,e){return y.useMemo(()=>{if(e)return e;const t=_u[n]==null?0:_u[n]+1;return _u[n]=t,n+"-"+t},[n,e])}function gx(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const o=Object.entries(a);for(const[l,c]of o){const u=s[l];u!=null&&(s[l]=u+n*c)}return s},{...e})}}const Oi=gx(1),dc=gx(-1);function mI(n){return"clientX"in n&&"clientY"in n}function Xc(n){if(!n)return!1;const{KeyboardEvent:e}=Ft(n.target);return e&&n instanceof e}function gI(n){if(!n)return!1;const{TouchEvent:e}=Ft(n.target);return e&&n instanceof e}function fc(n){if(gI(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return mI(n)?{x:n.clientX,y:n.clientY}:null}const kr=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[kr.Translate.toString(n),kr.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),gp="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vI(n){return n.matches(gp)?n:n.querySelector(gp)}const bI={display:"none"};function xI(n){let{id:e,value:t}=n;return Y.createElement("div",{id:e,style:bI},t)}function yI(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function wI(){const[n,e]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const vx=y.createContext(null);function SI(n){const e=y.useContext(vx);y.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function kI(){const[n]=y.useState(()=>new Set),e=y.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[y.useCallback(r=>{let{type:i,event:s}=r;n.forEach(a=>{var o;return(o=a[i])==null?void 0:o.call(a,s)})},[n]),e]}const CI={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},AI={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function MI(n){let{announcements:e=AI,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=CI}=n;const{announce:s,announcement:a}=wI(),o=sa("DndLiveRegion"),[l,c]=y.useState(!1);if(y.useEffect(()=>{c(!0)},[]),SI(y.useMemo(()=>({onDragStart(f){let{active:h}=f;s(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;s(e.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;s(e.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!l)return null;const u=Y.createElement(Y.Fragment,null,Y.createElement(xI,{id:r,value:i.draggable}),Y.createElement(yI,{id:o,announcement:a}));return t?Vr.createPortal(u,t):u}var lt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function hc(){}const An=Object.freeze({x:0,y:0});function II(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function EI(n,e){const t=fc(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function DI(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function RI(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function OI(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function vp(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const TI=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=vp(e,e.left,e.top),s=[];for(const a of r){const{id:o}=a,l=t.get(o);if(l){const c=II(vp(l),i);s.push({id:o,data:{droppableContainer:a,value:c}})}}return s.sort(DI)};function NI(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),a=i-r,o=s-t;if(r<i&&t<s){const l=e.width*e.height,c=n.width*n.height,u=a*o,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const PI=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:a}=s,o=t.get(a);if(o){const l=NI(o,e);l>0&&i.push({id:a,data:{droppableContainer:s,value:l}})}}return i.sort(RI)};function LI(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function bx(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:An}function _I(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,o)=>({...a,top:a.top+n*o.y,bottom:a.bottom+n*o.y,left:a.left+n*o.x,right:a.right+n*o.x}),{...t})}}const jI=_I(1);function xx(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function BI(n,e,t){const r=xx(e);if(!r)return n;const{scaleX:i,scaleY:s,x:a,y:o}=r,l=n.left-a-(1-i)*parseFloat(t),c=n.top-o-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?n.width/i:n.width,f=s?n.height/s:n.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const $I={ignoreTransform:!1};function Qi(n,e){e===void 0&&(e=$I);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Ft(n).getComputedStyle(n);c&&(t=BI(t,c,u))}const{top:r,left:i,width:s,height:a,bottom:o,right:l}=t;return{top:r,left:i,width:s,height:a,bottom:o,right:l}}function bp(n){return Qi(n,{ignoreTransform:!0})}function FI(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function HI(n,e){return e===void 0&&(e=Ft(n).getComputedStyle(n)),e.position==="fixed"}function VI(n,e){e===void 0&&(e=Ft(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function Kf(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Gf(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!ra(i)||mx(i)||t.includes(i))return t;const s=Ft(n).getComputedStyle(i);return i!==n&&VI(i,s)&&t.push(i),HI(i,s)?t:r(i.parentNode)}return n?r(n):t}function yx(n){const[e]=Kf(n,1);return e??null}function ju(n){return!Yc||!n?null:Ji(n)?n:qf(n)?Gf(n)||n===Xi(n).scrollingElement?window:ra(n)?n:null:null}function wx(n){return Ji(n)?n.scrollX:n.scrollLeft}function Sx(n){return Ji(n)?n.scrollY:n.scrollTop}function Rd(n){return{x:wx(n),y:Sx(n)}}var mt;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(mt||(mt={}));function kx(n){return!Yc||!n?!1:n===document.scrollingElement}function Cx(n){const e={x:0,y:0},t=kx(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,a=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:o,maxScroll:r,minScroll:e}}const UI={x:.2,y:.2};function zI(n,e,t,r,i){let{top:s,left:a,right:o,bottom:l}=t;r===void 0&&(r=10),i===void 0&&(i=UI);const{isTop:c,isBottom:u,isLeft:f,isRight:h}=Cx(n),p={x:0,y:0},g={x:0,y:0},m={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+m.height?(p.y=mt.Backward,g.y=r*Math.abs((e.top+m.height-s)/m.height)):!u&&l>=e.bottom-m.height&&(p.y=mt.Forward,g.y=r*Math.abs((e.bottom-m.height-l)/m.height)),!h&&o>=e.right-m.width?(p.x=mt.Forward,g.x=r*Math.abs((e.right-m.width-o)/m.width)):!f&&a<=e.left+m.width&&(p.x=mt.Backward,g.x=r*Math.abs((e.left+m.width-a)/m.width)),{direction:p,speed:g}}function WI(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function Ax(n){return n.reduce((e,t)=>Oi(e,Rd(t)),An)}function qI(n){return n.reduce((e,t)=>e+wx(t),0)}function GI(n){return n.reduce((e,t)=>e+Sx(t),0)}function Mx(n,e){if(e===void 0&&(e=Qi),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);yx(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const KI=[["x",["left","right"],qI],["y",["top","bottom"],GI]];class Zf{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Kf(t),i=Ax(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of KI)for(const l of a)Object.defineProperty(this,l,{get:()=>{const c=o(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ss{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function ZI(n){const{EventTarget:e}=Ft(n);return n instanceof e?n:Xi(n)}function Bu(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var un;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(un||(un={}));function xp(n){n.preventDefault()}function YI(n){n.stopPropagation()}var Oe;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Oe||(Oe={}));const Ix={start:[Oe.Space,Oe.Enter],cancel:[Oe.Esc],end:[Oe.Space,Oe.Enter,Oe.Tab]},JI=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Oe.Right:return{...t,x:t.x+25};case Oe.Left:return{...t,x:t.x-25};case Oe.Down:return{...t,y:t.y+25};case Oe.Up:return{...t,y:t.y-25}}};class Ex{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Ss(Xi(t)),this.windowListeners=new Ss(Ft(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(un.Resize,this.handleCancel),this.windowListeners.add(un.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(un.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Mx(r),t(An)}handleKeyDown(e){if(Xc(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=Ix,coordinateGetter:a=JI,scrollBehavior:o="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:An;this.referenceCoordinates||(this.referenceCoordinates=u);const f=a(e,{active:t,context:r.current,currentCoordinates:u});if(f){const h=dc(f,u),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const m of g){const v=e.code,{isTop:b,isRight:x,isLeft:w,isBottom:S,maxScroll:k,minScroll:A}=Cx(m),C=WI(m),E={x:Math.min(v===Oe.Right?C.right-C.width/2:C.right,Math.max(v===Oe.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(v===Oe.Down?C.bottom-C.height/2:C.bottom,Math.max(v===Oe.Down?C.top:C.top+C.height/2,f.y))},M=v===Oe.Right&&!x||v===Oe.Left&&!w,R=v===Oe.Down&&!S||v===Oe.Up&&!b;if(M&&E.x!==f.x){const T=m.scrollLeft+h.x,N=v===Oe.Right&&T<=k.x||v===Oe.Left&&T>=A.x;if(N&&!h.y){m.scrollTo({left:T,behavior:o});return}N?p.x=m.scrollLeft-T:p.x=v===Oe.Right?m.scrollLeft-k.x:m.scrollLeft-A.x,p.x&&m.scrollBy({left:-p.x,behavior:o});break}else if(R&&E.y!==f.y){const T=m.scrollTop+h.y,N=v===Oe.Down&&T<=k.y||v===Oe.Up&&T>=A.y;if(N&&!h.x){m.scrollTo({top:T,behavior:o});return}N?p.y=m.scrollTop-T:p.y=v===Oe.Down?m.scrollTop-k.y:m.scrollTop-A.y,p.y&&m.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,Oi(dc(f,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ex.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Ix,onActivation:i}=e,{active:s}=t;const{code:a}=n.nativeEvent;if(r.start.includes(a)){const o=s.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),i?.({event:n.nativeEvent}),!0)}return!1}}];function yp(n){return!!(n&&"distance"in n)}function wp(n){return!!(n&&"delay"in n)}class Yf{constructor(e,t,r){var i;r===void 0&&(r=ZI(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=Xi(a),this.documentListeners=new Ss(this.document),this.listeners=new Ss(r),this.windowListeners=new Ss(Ft(a)),this.initialCoordinates=(i=fc(s))!=null?i:An,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(un.Resize,this.handleCancel),this.windowListeners.add(un.DragStart,xp),this.windowListeners.add(un.VisibilityChange,this.handleCancel),this.windowListeners.add(un.ContextMenu,xp),this.documentListeners.add(un.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wp(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(yp(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(un.Click,YI,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(un.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!i)return;const l=(t=fc(e))!=null?t:An,c=dc(i,l);if(!r&&o){if(yp(o)){if(o.tolerance!=null&&Bu(c,o.tolerance))return this.handleCancel();if(Bu(c,o.distance))return this.handleStart()}if(wp(o)&&Bu(c,o.tolerance))return this.handleCancel();this.handlePending(o,c);return}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Oe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const XI={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Dx extends Yf{constructor(e){const{event:t}=e,r=Xi(t.target);super(e,XI,r)}}Dx.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const QI={move:{name:"mousemove"},end:{name:"mouseup"}};var Od;(function(n){n[n.RightClick=2]="RightClick"})(Od||(Od={}));class eE extends Yf{constructor(e){super(e,QI,Xi(e.event.target))}}eE.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Od.RightClick?!1:(r?.({event:t}),!0)}}];const $u={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tE extends Yf{constructor(e){super(e,$u)}static setup(){return window.addEventListener($u.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener($u.move.name,e)};function e(){}}}tE.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r?.({event:t}),!0)}}];var ks;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(ks||(ks={}));var pc;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(pc||(pc={}));function nE(n){let{acceleration:e,activator:t=ks.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:o=pc.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:h}=n;const p=iE({delta:f,disabled:!s}),[g,m]=pI(),v=y.useRef({x:0,y:0}),b=y.useRef({x:0,y:0}),x=y.useMemo(()=>{switch(t){case ks.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ks.DraggableRect:return i}},[t,i,l]),w=y.useRef(null),S=y.useCallback(()=>{const A=w.current;if(!A)return;const C=v.current.x*b.current.x,E=v.current.y*b.current.y;A.scrollBy(C,E)},[]),k=y.useMemo(()=>o===pc.TreeOrder?[...c].reverse():c,[o,c]);y.useEffect(()=>{if(!s||!c.length||!x){m();return}for(const A of k){if(r?.(A)===!1)continue;const C=c.indexOf(A),E=u[C];if(!E)continue;const{direction:M,speed:R}=zI(A,E,x,e,h);for(const T of["x","y"])p[T][M[T]]||(R[T]=0,M[T]=0);if(R.x>0||R.y>0){m(),w.current=A,g(S,a),v.current=R,b.current=M;return}}v.current={x:0,y:0},b.current={x:0,y:0},m()},[e,S,r,m,s,a,JSON.stringify(x),JSON.stringify(p),g,c,k,u,JSON.stringify(h)])}const rE={x:{[mt.Backward]:!1,[mt.Forward]:!1},y:{[mt.Backward]:!1,[mt.Forward]:!1}};function iE(n){let{delta:e,disabled:t}=n;const r=uc(e);return ia(i=>{if(t||!r||!i)return rE;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[mt.Backward]:i.x[mt.Backward]||s.x===-1,[mt.Forward]:i.x[mt.Forward]||s.x===1},y:{[mt.Backward]:i.y[mt.Backward]||s.y===-1,[mt.Forward]:i.y[mt.Forward]||s.y===1}}},[t,e,r])}function sE(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return ia(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function aE(n,e){return y.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...t,...s]},[]),[n,e])}var js;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(js||(js={}));var Td;(function(n){n.Optimized="optimized"})(Td||(Td={}));const Sp=new Map;function oE(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,a]=y.useState(null),{frequency:o,measure:l,strategy:c}=i,u=y.useRef(n),f=v(),h=_s(f),p=y.useCallback(function(b){b===void 0&&(b=[]),!h.current&&a(x=>x===null?b:x.concat(b.filter(w=>!x.includes(w))))},[h]),g=y.useRef(null),m=ia(b=>{if(f&&!t)return Sp;if(!b||b===Sp||u.current!==n||s!=null){const x=new Map;for(let w of n){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){x.set(w.id,w.rect.current);continue}const S=w.node.current,k=S?new Zf(l(S),S):null;w.rect.current=k,k&&x.set(w.id,k)}return x}return b},[n,s,t,f,l]);return y.useEffect(()=>{u.current=n},[n]),y.useEffect(()=>{f||p()},[t,f]),y.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),y.useEffect(()=>{f||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},o))},[o,f,p,...r]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(c){case js.Always:return!1;case js.BeforeDragging:return t;default:return!t}}}function Jf(n,e){return ia(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function lE(n,e){return Jf(n,e)}function cE(n){let{callback:e,disabled:t}=n;const r=Jc(e),i=y.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return y.useEffect(()=>()=>i?.disconnect(),[i]),i}function Qc(n){let{callback:e,disabled:t}=n;const r=Jc(e),i=y.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return y.useEffect(()=>()=>i?.disconnect(),[i]),i}function uE(n){return new Zf(Qi(n),n)}function kp(n,e,t){e===void 0&&(e=uE);const[r,i]=y.useState(null);function s(){i(l=>{if(!n)return null;if(n.isConnected===!1){var c;return(c=l??t)!=null?c:null}const u=e(n);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const a=cE({callback(l){if(n)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(n)){s();break}}}}),o=Qc({callback:s});return Cn(()=>{s(),n?(o?.observe(n),a?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),a?.disconnect())},[n]),r}function dE(n){const e=Jf(n);return bx(n,e)}const Cp=[];function fE(n){const e=y.useRef(n),t=ia(r=>n?r&&r!==Cp&&n&&e.current&&n.parentNode===e.current.parentNode?r:Kf(n):Cp,[n]);return y.useEffect(()=>{e.current=n},[n]),t}function hE(n){const[e,t]=y.useState(null),r=y.useRef(n),i=y.useCallback(s=>{const a=ju(s.target);a&&t(o=>o?(o.set(a,Rd(a)),new Map(o)):null)},[]);return y.useEffect(()=>{const s=r.current;if(n!==s){a(s);const o=n.map(l=>{const c=ju(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Rd(c)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),r.current=n}return()=>{a(n),a(s)};function a(o){o.forEach(l=>{const c=ju(l);c?.removeEventListener("scroll",i)})}},[i,n]),y.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,a)=>Oi(s,a),An):Ax(n):An,[n,e])}function Ap(n,e){e===void 0&&(e=[]);const t=y.useRef(null);return y.useEffect(()=>{t.current=null},e),y.useEffect(()=>{const r=n!==An;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?dc(n,t.current):An}function pE(n){y.useEffect(()=>{if(!Yc)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function mE(n,e){return y.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=a=>{s(a,e)},t},{}),[n,e])}function Rx(n){return y.useMemo(()=>n?FI(n):null,[n])}const Mp=[];function gE(n,e){e===void 0&&(e=Qi);const[t]=n,r=Rx(t?Ft(t):null),[i,s]=y.useState(Mp);function a(){s(()=>n.length?n.map(l=>kx(l)?r:new Zf(e(l),l)):Mp)}const o=Qc({callback:a});return Cn(()=>{o?.disconnect(),a(),n.forEach(l=>o?.observe(l))},[n]),i}function Ox(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ra(e)?e:n}function vE(n){let{measure:e}=n;const[t,r]=y.useState(null),i=y.useCallback(c=>{for(const{target:u}of c)if(ra(u)){r(f=>{const h=e(u);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),s=Qc({callback:i}),a=y.useCallback(c=>{const u=Ox(c);s?.disconnect(),u&&s?.observe(u),r(u?e(u):null)},[e,s]),[o,l]=cc(a);return y.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const bE=[{sensor:Dx,options:{}},{sensor:Ex,options:{}}],xE={current:{}},Vl={draggable:{measure:bp},droppable:{measure:bp,strategy:js.WhileDragging,frequency:Td.Optimized},dragOverlay:{measure:Qi}};class Cs extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const yE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cs,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vl,measureDroppableContainers:hc,windowRect:null,measuringScheduled:!1},Tx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hc,draggableNodes:new Map,over:null,measureDroppableContainers:hc},aa=y.createContext(Tx),Nx=y.createContext(yE);function wE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cs}}}function SE(n,e){switch(e.type){case lt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case lt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new Cs(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case lt.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const a=new Cs(n.droppable.containers);return a.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:a}}}case lt.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new Cs(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function kE(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=y.useContext(aa),s=uc(r),a=uc(t?.id);return y.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!Xc(s)||document.activeElement===s.target)return;const o=i.get(a);if(!o)return;const{activatorNode:l,node:c}=o;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=vI(u);if(f){f.focus();break}}})}},[r,e,i,a,s]),null}function Px(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function CE(n){return y.useMemo(()=>({draggable:{...Vl.draggable,...n?.draggable},droppable:{...Vl.droppable,...n?.droppable},dragOverlay:{...Vl.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function AE(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=y.useRef(!1),{x:a,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Cn(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!r)return;const c=e?.node.current;if(!c||c.isConnected===!1)return;const u=t(c),f=bx(u,r);if(a||(f.x=0),o||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=yx(c);h&&h.scrollBy({top:f.y,left:f.x})}},[e,a,o,r,t])}const eu=y.createContext({...An,scaleX:1,scaleY:1});var fr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(fr||(fr={}));const ME=y.memo(function(e){var t,r,i,s;let{id:a,accessibility:o,autoScroll:l=!0,children:c,sensors:u=bE,collisionDetection:f=PI,measuring:h,modifiers:p,...g}=e;const m=y.useReducer(SE,void 0,wE),[v,b]=m,[x,w]=kI(),[S,k]=y.useState(fr.Uninitialized),A=S===fr.Initialized,{draggable:{active:C,nodes:E,translate:M},droppable:{containers:R}}=v,T=C!=null?E.get(C):null,N=y.useRef({initial:null,translated:null}),P=y.useMemo(()=>{var ht;return C!=null?{id:C,data:(ht=T?.data)!=null?ht:xE,rect:N}:null},[C,T]),L=y.useRef(null),[$,q]=y.useState(null),[Z,oe]=y.useState(null),ee=_s(g,Object.values(g)),de=sa("DndDescribedBy",a),ve=y.useMemo(()=>R.getEnabled(),[R]),K=CE(h),{droppableRects:fe,measureDroppableContainers:re,measuringScheduled:ue}=oE(ve,{dragging:A,dependencies:[M.x,M.y],config:K.droppable}),Q=sE(E,C),ce=y.useMemo(()=>Z?fc(Z):null,[Z]),Ae=ku(),Be=lE(Q,K.draggable.measure);AE({activeNode:C!=null?E.get(C):null,config:Ae.layoutShiftCompensation,initialRect:Be,measure:K.draggable.measure});const he=kp(Q,K.draggable.measure,Be),Je=kp(Q?Q.parentElement:null),Me=y.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:fe,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ie=R.getNodeFor((t=Me.current.over)==null?void 0:t.id),Ne=vE({measure:K.dragOverlay.measure}),bt=(r=Ne.nodeRef.current)!=null?r:Q,Tt=A?(i=Ne.rect)!=null?i:he:null,ar=!!(Ne.nodeRef.current&&Ne.rect),I=dE(ar?null:he),D=Rx(bt?Ft(bt):null),O=fE(A?Ie??Q:null),H=gE(O),F=Px(p,{transform:{x:M.x-I.x,y:M.y-I.y,scaleX:1,scaleY:1},activatorEvent:Z,active:P,activeNodeRect:he,containerNodeRect:Je,draggingNodeRect:Tt,over:Me.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:O,scrollableAncestorRects:H,windowRect:D}),z=ce?Oi(ce,M):null,ie=hE(O),me=Ap(ie),we=Ap(ie,[he]),Ee=Oi(F,me),Vt=Tt?jI(Tt,F):null,Nt=P&&Vt?f({active:P,collisionRect:Vt,droppableRects:fe,droppableContainers:ve,pointerCoordinates:z}):null,Xt=OI(Nt,"id"),[Ut,or]=y.useState(null),Xn=ar?F:Oi(F,we),lr=LI(Xn,(s=Ut?.rect)!=null?s:null,he),cr=y.useRef(null),ss=y.useCallback((ht,Pt)=>{let{sensor:Lt,options:Dn}=Pt;if(L.current==null)return;const zt=E.get(L.current);if(!zt)return;const _t=ht.nativeEvent,ln=new Lt({active:L.current,activeNode:zt,event:_t,options:Dn,context:Me,onAbort(st){if(!E.get(st))return;const{onDragAbort:cn}=ee.current,xn={id:st};cn?.(xn),x({type:"onDragAbort",event:xn})},onPending(st,bn,cn,xn){if(!E.get(st))return;const{onDragPending:Pr}=ee.current,Rn={id:st,constraint:bn,initialCoordinates:cn,offset:xn};Pr?.(Rn),x({type:"onDragPending",event:Rn})},onStart(st){const bn=L.current;if(bn==null)return;const cn=E.get(bn);if(!cn)return;const{onDragStart:xn}=ee.current,Nr={activatorEvent:_t,active:{id:bn,data:cn.data,rect:N}};Vr.unstable_batchedUpdates(()=>{xn?.(Nr),k(fr.Initializing),b({type:lt.DragStart,initialCoordinates:st,active:bn}),x({type:"onDragStart",event:Nr}),q(cr.current),oe(_t)})},onMove(st){b({type:lt.DragMove,coordinates:st})},onEnd:ur(lt.DragEnd),onCancel:ur(lt.DragCancel)});cr.current=ln;function ur(st){return async function(){const{active:cn,collisions:xn,over:Nr,scrollAdjustedTranslate:Pr}=Me.current;let Rn=null;if(cn&&Pr){const{cancelDrop:Lr}=ee.current;Rn={activatorEvent:_t,active:cn,collisions:xn,delta:Pr,over:Nr},st===lt.DragEnd&&typeof Lr=="function"&&await Promise.resolve(Lr(Rn))&&(st=lt.DragCancel)}L.current=null,Vr.unstable_batchedUpdates(()=>{b({type:st}),k(fr.Uninitialized),or(null),q(null),oe(null),cr.current=null;const Lr=st===lt.DragEnd?"onDragEnd":"onDragCancel";if(Rn){const as=ee.current[Lr];as?.(Rn),x({type:Lr,event:Rn})}})}}},[E]),yu=y.useCallback((ht,Pt)=>(Lt,Dn)=>{const zt=Lt.nativeEvent,_t=E.get(Dn);if(L.current!==null||!_t||zt.dndKit||zt.defaultPrevented)return;const ln={active:_t};ht(Lt,Pt.options,ln)===!0&&(zt.dndKit={capturedBy:Pt.sensor},L.current=Dn,ss(Lt,Pt))},[E,ss]),ka=aE(u,yu);pE(u),Cn(()=>{he&&S===fr.Initializing&&k(fr.Initialized)},[he,S]),y.useEffect(()=>{const{onDragMove:ht}=ee.current,{active:Pt,activatorEvent:Lt,collisions:Dn,over:zt}=Me.current;if(!Pt||!Lt)return;const _t={active:Pt,activatorEvent:Lt,collisions:Dn,delta:{x:Ee.x,y:Ee.y},over:zt};Vr.unstable_batchedUpdates(()=>{ht?.(_t),x({type:"onDragMove",event:_t})})},[Ee.x,Ee.y]),y.useEffect(()=>{const{active:ht,activatorEvent:Pt,collisions:Lt,droppableContainers:Dn,scrollAdjustedTranslate:zt}=Me.current;if(!ht||L.current==null||!Pt||!zt)return;const{onDragOver:_t}=ee.current,ln=Dn.get(Xt),ur=ln&&ln.rect.current?{id:ln.id,rect:ln.rect.current,data:ln.data,disabled:ln.disabled}:null,st={active:ht,activatorEvent:Pt,collisions:Lt,delta:{x:zt.x,y:zt.y},over:ur};Vr.unstable_batchedUpdates(()=>{or(ur),_t?.(st),x({type:"onDragOver",event:st})})},[Xt]),Cn(()=>{Me.current={activatorEvent:Z,active:P,activeNode:Q,collisionRect:Vt,collisions:Nt,droppableRects:fe,draggableNodes:E,draggingNode:bt,draggingNodeRect:Tt,droppableContainers:R,over:Ut,scrollableAncestors:O,scrollAdjustedTranslate:Ee},N.current={initial:Tt,translated:Vt}},[P,Q,Nt,Vt,E,bt,Tt,fe,R,Ut,O,Ee]),nE({...Ae,delta:M,draggingRect:Vt,pointerCoordinates:z,scrollableAncestors:O,scrollableAncestorRects:H});const wu=y.useMemo(()=>({active:P,activeNode:Q,activeNodeRect:he,activatorEvent:Z,collisions:Nt,containerNodeRect:Je,dragOverlay:Ne,draggableNodes:E,droppableContainers:R,droppableRects:fe,over:Ut,measureDroppableContainers:re,scrollableAncestors:O,scrollableAncestorRects:H,measuringConfiguration:K,measuringScheduled:ue,windowRect:D}),[P,Q,he,Z,Nt,Je,Ne,E,R,fe,Ut,re,O,H,K,ue,D]),Su=y.useMemo(()=>({activatorEvent:Z,activators:ka,active:P,activeNodeRect:he,ariaDescribedById:{draggable:de},dispatch:b,draggableNodes:E,over:Ut,measureDroppableContainers:re}),[Z,ka,P,he,b,de,E,Ut,re]);return Y.createElement(vx.Provider,{value:w},Y.createElement(aa.Provider,{value:Su},Y.createElement(Nx.Provider,{value:wu},Y.createElement(eu.Provider,{value:lr},c)),Y.createElement(kE,{disabled:o?.restoreFocus===!1})),Y.createElement(MI,{...o,hiddenTextDescribedById:de}));function ku(){const ht=$?.autoScrollEnabled===!1,Pt=typeof l=="object"?l.enabled===!1:l===!1,Lt=A&&!ht&&!Pt;return typeof l=="object"?{...l,enabled:Lt}:{enabled:Lt}}}),IE=y.createContext(null),Ip="button",EE="Draggable";function DE(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=sa(EE),{activators:a,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:h}=y.useContext(aa),{role:p=Ip,roleDescription:g="draggable",tabIndex:m=0}=i??{},v=l?.id===e,b=y.useContext(v?eu:IE),[x,w]=cc(),[S,k]=cc(),A=mE(a,e),C=_s(t);Cn(()=>(f.set(e,{id:e,key:s,node:x,activatorNode:S,data:C}),()=>{const M=f.get(e);M&&M.key===s&&f.delete(e)}),[f,e]);const E=y.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":r,"aria-pressed":v&&p===Ip?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,p,m,v,g,u.draggable]);return{active:l,activatorEvent:o,activeNodeRect:c,attributes:E,isDragging:v,listeners:r?void 0:A,node:x,over:h,setNodeRef:w,setActivatorNodeRef:k,transform:b}}function Lx(){return y.useContext(Nx)}const RE="Droppable",OE={timeout:25};function TE(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=sa(RE),{active:a,dispatch:o,over:l,measureDroppableContainers:c}=y.useContext(aa),u=y.useRef({disabled:t}),f=y.useRef(!1),h=y.useRef(null),p=y.useRef(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...OE,...i},b=_s(m??r),x=y.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null},v)},[v]),w=Qc({callback:x,disabled:g||!a}),S=y.useCallback((E,M)=>{w&&(M&&(w.unobserve(M),f.current=!1),E&&w.observe(E))},[w]),[k,A]=cc(S),C=_s(e);return y.useEffect(()=>{!w||!k.current||(w.disconnect(),f.current=!1,w.observe(k.current))},[k,w]),y.useEffect(()=>(o({type:lt.RegisterDroppable,element:{id:r,key:s,disabled:t,node:k,rect:h,data:C}}),()=>o({type:lt.UnregisterDroppable,key:s,id:r})),[r]),y.useEffect(()=>{t!==u.current.disabled&&(o({type:lt.SetDroppableDisabled,id:r,key:s,disabled:t}),u.current.disabled=t)},[r,s,t,o]),{active:a,rect:h,isOver:l?.id===r,node:k,over:l,setNodeRef:A}}function NE(n){let{animation:e,children:t}=n;const[r,i]=y.useState(null),[s,a]=y.useState(null),o=uc(t);return!t&&!r&&o&&i(o),Cn(()=>{if(!s)return;const l=r?.key,c=r?.props.id;if(l==null||c==null){i(null);return}Promise.resolve(e(c,s)).then(()=>{i(null)})},[e,r,s]),Y.createElement(Y.Fragment,null,t,r?y.cloneElement(r,{ref:a}):null)}const PE={x:0,y:0,scaleX:1,scaleY:1};function LE(n){let{children:e}=n;return Y.createElement(aa.Provider,{value:Tx},Y.createElement(eu.Provider,{value:PE},e))}const _E={position:"fixed",touchAction:"none"},jE=n=>Xc(n)?"transform 250ms ease":void 0,BE=y.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:s,className:a,rect:o,style:l,transform:c,transition:u=jE}=n;if(!o)return null;const f=i?c:{...c,scaleX:1,scaleY:1},h={..._E,width:o.width,height:o.height,top:o.top,left:o.left,transform:kr.Transform.toString(f),transformOrigin:i&&r?EI(r,o):void 0,transition:typeof u=="function"?u(r):u,...l};return Y.createElement(t,{className:a,style:h,ref:e},s)}),$E=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:s,className:a}=n;if(s!=null&&s.active)for(const[o,l]of Object.entries(s.active))l!==void 0&&(i[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(s!=null&&s.dragOverlay)for(const[o,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,c]of Object.entries(i))t.node.style.setProperty(l,c);a!=null&&a.active&&t.node.classList.remove(a.active)}},FE=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:kr.Transform.toString(e)},{transform:kr.Transform.toString(t)}]},HE={duration:250,easing:"ease",keyframes:FE,sideEffects:$E({styles:{active:{opacity:"0"}}})};function VE(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return Jc((s,a)=>{if(e===null)return;const o=t.get(s);if(!o)return;const l=o.node.current;if(!l)return;const c=Ox(a);if(!c)return;const{transform:u}=Ft(a).getComputedStyle(a),f=xx(u);if(!f)return;const h=typeof e=="function"?e:UE(e);return Mx(l,i.draggable.measure),h({active:{id:s,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:f})})}function UE(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...HE,...n};return s=>{let{active:a,dragOverlay:o,transform:l,...c}=s;if(!e)return;const u={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},f={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},h={x:l.x-u.x,y:l.y-u.y,...f},p=i({...c,active:a,dragOverlay:o,transform:{initial:l,final:h}}),[g]=p,m=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(m))return;const v=r?.({active:a,dragOverlay:o,...c}),b=o.node.animate(p,{duration:e,easing:t,fill:"forwards"});return new Promise(x=>{b.onfinish=()=>{v?.(),x()}})}}let Ep=0;function zE(n){return y.useMemo(()=>{if(n!=null)return Ep++,Ep},[n])}const WE=Y.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:s,modifiers:a,wrapperElement:o="div",className:l,zIndex:c=999}=n;const{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:m,dragOverlay:v,over:b,measuringConfiguration:x,scrollableAncestors:w,scrollableAncestorRects:S,windowRect:k}=Lx(),A=y.useContext(eu),C=zE(f?.id),E=Px(a,{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:b,overlayNodeRect:v.rect,scrollableAncestors:w,scrollableAncestorRects:S,transform:A,windowRect:k}),M=Jf(h),R=VE({config:r,draggableNodes:g,droppableContainers:m,measuringConfiguration:x}),T=M?v.setRef:void 0;return Y.createElement(LE,null,Y.createElement(NE,{animation:R},f&&C?Y.createElement(BE,{key:C,id:f.id,ref:T,as:o,activatorEvent:u,adjustScale:e,className:l,transition:s,rect:M,style:{zIndex:c,...i},transform:E},t):null))});function Xf(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function qE(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function Ea(n){return n!==null&&n>=0}function GE(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function KE(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const _x=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=Xf(e,r,t),a=e[i],o=s[i];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},Da={scaleX:1,scaleY:1},ZE=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:s,overIndex:a}=n;const o=(e=s[t])!=null?e:r;if(!o)return null;if(i===t){const c=s[a];return c?{x:0,y:t<a?c.top+c.height-(o.top+o.height):c.top-o.top,...Da}:null}const l=YE(s,i,t);return i>t&&i<=a?{x:0,y:-o.height-l,...Da}:i<t&&i>=a?{x:0,y:o.height+l,...Da}:{x:0,y:0,...Da}};function YE(n,e,t){const r=n[e],i=n[e-1],s=n[e+1];return r?t<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const jx="Sortable",Bx=Y.createContext({activeIndex:-1,containerId:jx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_x,disabled:{draggable:!1,droppable:!1}});function JE(n){let{children:e,id:t,items:r,strategy:i=_x,disabled:s=!1}=n;const{active:a,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:u}=Lx(),f=sa(jx,t),h=o.rect!==null,p=y.useMemo(()=>r.map(A=>typeof A=="object"&&"id"in A?A.id:A),[r]),g=a!=null,m=a?p.indexOf(a.id):-1,v=c?p.indexOf(c.id):-1,b=y.useRef(p),x=!GE(p,b.current),w=v!==-1&&m===-1||x,S=KE(s);Cn(()=>{x&&g&&u(p)},[x,p,g,u]),y.useEffect(()=>{b.current=p},[p]);const k=y.useMemo(()=>({activeIndex:m,containerId:f,disabled:S,disableTransforms:w,items:p,overIndex:v,useDragOverlay:h,sortedRects:qE(p,l),strategy:i}),[m,f,S.draggable,S.droppable,w,p,v,l,h,i]);return Y.createElement(Bx.Provider,{value:k},e)}const XE=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return Xf(t,r,i).indexOf(e)},QE=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:c}=n;return!c||!r||o!==s&&i===a?!1:t?!0:a!==i&&e===l},eD={duration:200,easing:"ease"},$x="transform",tD=kr.Transition.toString({property:$x,duration:0,easing:"linear"}),nD={roleDescription:"sortable"};function rD(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,a]=y.useState(null),o=y.useRef(t);return Cn(()=>{if(!e&&t!==o.current&&r.current){const l=i.current;if(l){const c=Qi(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&a(u)}}t!==o.current&&(o.current=t)},[e,t,r,i]),y.useEffect(()=>{s&&a(null)},[s]),s}function iD(n){let{animateLayoutChanges:e=QE,attributes:t,disabled:r,data:i,getNewIndex:s=XE,id:a,strategy:o,resizeObserverConfig:l,transition:c=eD}=n;const{items:u,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:m,overIndex:v,useDragOverlay:b,strategy:x}=y.useContext(Bx),w=sD(r,p),S=u.indexOf(a),k=y.useMemo(()=>({sortable:{containerId:f,index:S,items:u},...i}),[f,i,S,u]),A=y.useMemo(()=>u.slice(u.indexOf(a)),[u,a]),{rect:C,node:E,isOver:M,setNodeRef:R}=TE({id:a,data:k,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:A,...l}}),{active:T,activatorEvent:N,activeNodeRect:P,attributes:L,setNodeRef:$,listeners:q,isDragging:Z,over:oe,setActivatorNodeRef:ee,transform:de}=DE({id:a,data:k,attributes:{...nD,...t},disabled:w.draggable}),ve=hI(R,$),K=!!T,fe=K&&!g&&Ea(h)&&Ea(v),re=!b&&Z,ue=re&&fe?de:null,ce=fe?ue??(o??x)({rects:m,activeNodeRect:P,activeIndex:h,overIndex:v,index:S}):null,Ae=Ea(h)&&Ea(v)?s({id:a,items:u,activeIndex:h,overIndex:v}):S,Be=T?.id,he=y.useRef({activeId:Be,items:u,newIndex:Ae,containerId:f}),Je=u!==he.current.items,Me=e({active:T,containerId:f,isDragging:Z,isSorting:K,id:a,index:S,items:u,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:c,wasDragging:he.current.activeId!=null}),Ie=rD({disabled:!Me,index:S,node:E,rect:C});return y.useEffect(()=>{K&&he.current.newIndex!==Ae&&(he.current.newIndex=Ae),f!==he.current.containerId&&(he.current.containerId=f),u!==he.current.items&&(he.current.items=u)},[K,Ae,f,u]),y.useEffect(()=>{if(Be===he.current.activeId)return;if(Be&&!he.current.activeId){he.current.activeId=Be;return}const bt=setTimeout(()=>{he.current.activeId=Be},50);return()=>clearTimeout(bt)},[Be]),{active:T,activeIndex:h,attributes:L,data:k,rect:C,index:S,newIndex:Ae,items:u,isOver:M,isSorting:K,isDragging:Z,listeners:q,node:E,overIndex:v,over:oe,setNodeRef:ve,setActivatorNodeRef:ee,setDroppableNodeRef:R,setDraggableNodeRef:$,transform:Ie??ce,transition:Ne()};function Ne(){if(Ie||Je&&he.current.newIndex===S)return tD;if(!(re&&!Xc(N)||!c)&&(K||Me))return kr.Transition.toString({...c,property:$x})}}function sD(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}Oe.Down,Oe.Right,Oe.Up,Oe.Left;const Fx=({isDragging:n,dragHandleAttributes:e,dragHandleListeners:t,dragHandleClass:r,className:i,...s})=>d.jsx("button",{className:_("opacity-50 group-hover:opacity-100",n?"cursor-grabbing":"cursor-grab",r,i),type:"button",...e,...t,...s,children:d.jsx(ge,{colorClass:"text-grey-500",name:"hamburger",size:"sm"})}),aD=({setRef:n,isDragging:e,style:t,separator:r,children:i,...s})=>d.jsxs("div",{ref:n,className:_("group flex w-full items-center gap-3 bg-white py-1 dark:bg-black",r&&"border-b border-grey-200",e&&"opacity-75"),style:t,children:[d.jsx(Fx,{className:"h-7",isDragging:e,...s}),i]}),oD=({id:n,children:e,separator:t,dragHandleClass:r,container:i})=>{const{attributes:s,listeners:a,setNodeRef:o,transform:l,transition:c}=iD({id:n}),u={transform:kr.Transform.toString(l),transition:c};return i({id:n,setRef:o,isDragging:!1,separator:t,dragHandleClass:r,dragHandleAttributes:s,dragHandleListeners:a,style:u,children:e})},lD=({title:n,titleSeparator:e,hint:t,items:r,itemSeparator:i=!0,dragHandleClass:s,onMove:a,renderItem:o,container:l=h=>d.jsx(aD,{...h}),wrapper:c=Y.Fragment,dragOverlayWrapper:u,...f})=>{const[h,p]=y.useState(null);return r.length?d.jsxs("div",{...f,children:[n&&d.jsx(ft,{level:6,separator:e,grey:!0,children:n}),d.jsx("div",{className:`${n&&e?"-mt-2":""}`,children:d.jsxs(ME,{collisionDetection:TI,onDragEnd:g=>{var m;a(g.active.id,(m=g.over)==null?void 0:m.id),p(null)},onDragStart:g=>p(g.active.id),children:[d.jsx(c,{children:d.jsx(JE,{items:r,strategy:ZE,children:r.map(g=>d.jsx(oD,{container:l,dragHandleClass:s,id:g.id,separator:i,children:o(g)},g.id))})}),d.jsx(WE,{wrapperElement:u,children:h?l({id:h,isDragging:!0,children:o(r.find(({id:g})=>g===h))}):null})]})}),t&&d.jsxs(d.Fragment,{children:[!i&&d.jsx(Ct,{}),d.jsx(Mn,{children:t})]})]}):d.jsx(d.Fragment,{})},cD="before:absolute before:inset-x-[-16px] before:top-[-1px] before:bottom-0 before:bg-grey-50 before:opacity-0 hover:before:opacity-100 before:rounded-md before:transition-opacity before:dark:bg-grey-950 hover:z-10",tu=y.forwardRef(function({id:e,action:t,hideActions:r,className:i,style:s,testId:a,separator:o,bgOnHover:l=!0,onClick:c,children:u},f){const h=g=>{c?.(g)};o=o===void 0?!0:o;const p=_("group/table-row relative transform-gpu [clip-path:inset(0_-16px)]",l&&cD,c&&"cursor-pointer",o?"border-b border-grey-100 last-of-type:border-b-transparent dark:border-grey-950":"border-y border-none first-of-type:hover:border-t-transparent","hover:border-b-transparent",i);return d.jsx("tr",{ref:f,className:p,"data-testid":a,id:e,style:s,onClick:h,children:d.jsx("td",{className:"p-0",colSpan:1e3,children:d.jsxs("div",{className:"relative z-10 flex items-center",children:[d.jsx("div",{className:"grow py-2",children:u}),t&&d.jsx("div",{className:`flex items-center justify-end p-2${r?" opacity-0 group-hover/table-row:opacity-100":""}`,children:t})]})})})}),Kr=({title:n,description:e,children:t,beta:r=!1})=>d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[(n||e)&&d.jsxs("div",{children:[d.jsxs(ft,{className:"font-semibold",level:5,children:[n,r&&d.jsx("sup",{className:"ml-0.5 text-[10px] font-semibold uppercase tracking-wide",children:"Beta"})]}),e&&d.jsx("p",{className:"mr-5 mt-1 hidden text-pretty group-[.is-not-editing]/setting-group:!visible group-[.is-not-editing]/setting-group:!block md:!visible md:!block",children:e})]}),d.jsx("div",{children:t})]}),uD=y.forwardRef(function({navid:e,testId:t,title:r,description:i,isVisible:s=!0,isEditing:a,saveState:o,customHeader:l,customButtons:c,beta:u=!1,children:f,hideEditButton:h,alwaysShowSaveButton:p=!0,border:g=!0,highlight:m=!1,highlightOnModalClose:v=!0,styles:b,onEditingChange:x,onSave:w,onCancel:S,enableCMDS:k=!0},A){const C=()=>{x?.(!0)},E=()=>{S?.(),x?.(!1)},M=()=>{w?.()};b+=" border-grey-250 dark:border-grey-925";const R=[];if(h)o==="saved"&&R.push({label:"Saved",key:"edit",color:"green",onClick:C});else{let P="Edit";o==="saved"&&(P="Saved"),R.push({label:P,key:"edit",color:"clear",onClick:C})}const T=[{label:"Cancel",key:"cancel",onClick:E}];if(o==="unsaved"||p){let P="Save";o==="saving"&&(P="Saving..."),T.push({label:P,key:"save",color:o==="unsaved"?"green":"light-grey",disabled:o!=="unsaved",onClick:M})}y.useEffect(()=>{const P=L=>{(L.metaKey||L.ctrlKey)&&L.key==="s"&&(L.preventDefault(),M())};if(k)return window.addEventListener("keydown",P),()=>{window.removeEventListener("keydown",P)}});const N=_("relative flex-col gap-6 rounded-xl transition-all hover:border-grey-200",g&&"border p-5 hover:shadow-sm md:p-7",s?"flex":"hidden",m&&v&&"border-grey-200 shadow-sm",a?"border-grey-200 shadow-sm":"is-not-editing group/setting-group",b);return a?d.jsxs("div",{className:N,"data-testid":t,children:[d.jsx("div",{ref:A,className:"absolute",id:e&&e}),l||d.jsx(Kr,{beta:u,description:i,title:r,children:c||x&&d.jsx(Ns,{buttons:a?T:R,className:a?"mt-[-5px]  ":"-mr-1 mt-[-5px]",size:"sm"})}),f]}):d.jsxs("div",{className:N,"data-testid":t,children:[d.jsx("div",{ref:A,className:"absolute",id:e&&e}),l||d.jsx(Kr,{beta:u,description:i,title:r,children:c||x&&d.jsx(Ns,{buttons:a?T:R,className:a?"mt-[-5px]  ":"-mr-1 mt-[-5px]",size:"sm"})}),f]})}),dD=y.forwardRef(function({title:e,navid:t="",icon:r,isCurrent:i=!1,isVisible:s=!0,onClick:a=()=>{},...o},l){const c=_("w-100 mt-px flex h-[36px] cursor-pointer items-center rounded-md px-3 py-2 text-left text-[14px] font-medium transition-all hover:bg-grey-200 focus:bg-grey-100 dark:text-grey-600 dark:hover:bg-grey-950 dark:focus:bg-grey-925",i?"bg-grey-200 text-black dark:bg-grey-950 dark:text-white":"text-grey-800",!s&&"hidden");return d.jsx("li",{ref:l,...o,children:d.jsxs("a",{className:c,id:t,onClick:a,children:[r&&d.jsx(ge,{className:"mr-[7px] h-[16px] w-[16px]",name:r,size:"custom"}),e]})})}),fD=({items:n,direction:e,onSortChange:t,onDirectionChange:r,trigger:i,triggerButtonProps:s,position:a="start"})=>{var o;const[l,c]=y.useState(n),[u,f]=y.useState(e||"desc");y.useEffect(()=>{c(n)},[n]);const h=g=>{var m,v;const b=l.map(x=>({...x,selected:x.id===g}));c(b),(m=l.find(x=>x.id===g))!=null&&m.direction&&(f(((v=l.find(x=>x.id===g))==null?void 0:v.direction)||"desc"),r(u)),t(g)},p=g=>{g?.stopPropagation(),f(m=>m==="desc"?"asc":"desc"),r(u)};return i||(i=d.jsx(ne,{className:"flex-row-reverse",icon:`${u==="asc"?"arrow-up":"arrow-down"}`,iconColorClass:"!w-3 !h-3 !mr-0 ml-1.5",label:`${(o=l.find(g=>g.selected))==null?void 0:o.label}`,...s})),d.jsx(dI,{position:a,trigger:i,children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"cursor-default select-none border-b border-b-grey-200 p-2 pl-3 text-sm font-semibold dark:border-b-grey-800",children:"Sort by"}),d.jsx("div",{className:"flex min-w-[160px] flex-col justify-stretch py-1",role:"none",children:l.map(g=>d.jsxs("button",{className:"group relative mx-1 flex grow cursor-pointer items-center rounded-[2.5px] px-8 py-1.5 pr-12 text-left text-sm hover:bg-grey-100 dark:hover:bg-grey-800",type:"button",onClick:()=>{h(g.id)},children:[g.selected?d.jsx(ge,{className:"absolute left-2",name:"check",size:"xs"}):null,g.label,g.selected?d.jsx("button",{className:"absolute right-1 flex size-6 cursor-pointer items-center justify-center rounded-full hover:bg-grey-300 dark:hover:bg-grey-700",title:`${u==="asc"?"Ascending":"Descending"}`,type:"button",onClick:p,children:u==="asc"?d.jsx(ge,{name:"arrow-up",size:"xs"}):d.jsx(ge,{name:"arrow-down",size:"xs"})}):null]},g.id))})]})})},hD=({pagination:n})=>n?d.jsx(fI,{...n}):null,pD=({showMore:n})=>{if(n){if(!n.hasMore)return d.jsx("div",{})}else return null;return d.jsx("div",{className:"mt-1 flex items-center gap-2 text-sm font-bold text-green hover:text-green-400",children:d.jsx("button",{type:"button",onClick:n.loadMore,children:"Show all"})})},Ti=({header:n,children:e,borderTop:t,hint:r,hintSeparator:i,pageTitle:s,className:a,pagination:o,showMore:l,isLoading:c,fillContainer:u=!1,horizontalScroll:f=!1,paddingXClassName:h})=>{const p=Y.useRef(null),g=Y.useRef(0),[m,v]=Y.useState(void 0),b=o&&o.pages&&o.pages>1;Y.useEffect(()=>{if(p.current){const M=new ResizeObserver(R=>{const T=R[0].target.clientHeight;v(T),T>g.current&&(g.current=T)});return M.observe(p.current),()=>{M.disconnect()}}},[c,o]);const x=Y.useMemo(()=>m===void 0?{height:"auto"}:{height:g.current},[m]),w=Y.useMemo(()=>m===void 0?{height:0}:{height:g.current-m},[m]),S=_("h-9 border-b border-grey-200 dark:border-grey-600"),k=_("w-full",u?"min-w-full":"w-full",(t||s)&&"border-t border-grey-300",s?"mb-0 mt-14":"my-0",a),A=_(f?"overflow-x-auto":"",u?"absolute inset-0 min-w-full":"w-full"),C=_(u?"max-h-[calc(100%-38px)] w-full overflow-y-auto":"w-full",h),E=_("sticky bottom-0 -mt-px bg-white pb-3 dark:bg-black",h);return d.jsx(d.Fragment,{children:d.jsxs("div",{className:A,children:[s&&d.jsx(ft,{children:s}),d.jsx("div",{className:C,children:d.jsxs("table",{className:k,children:[n&&d.jsx("thead",{className:S,children:d.jsx(tu,{bgOnHover:!1,separator:!1,children:n})}),!c&&d.jsx("tbody",{ref:p,children:e}),b&&d.jsx("div",{style:w})]})}),c&&d.jsx("div",{className:"p-5",children:d.jsx(Nf,{delay:200,size:"lg",style:x})}),(r||o||l)&&d.jsxs("footer",{className:E,children:[(i||o)&&d.jsx(Ct,{}),d.jsxs("div",{className:"mt-1 flex flex-col-reverse items-start justify-between gap-1 pt-2 md:flex-row md:items-center md:gap-0 md:pt-0",children:[d.jsx(pD,{showMore:l}),d.jsx(Mn,{children:r??" "}),d.jsx(hD,{pagination:o})]})]})]})})},Hn=({className:n,children:e,padding:t=!0,align:r="left",valign:i="top",...s})=>{const a=_(t?"!py-3 !pl-0 !pr-6":"",r==="center"&&"text-center",r==="right"&&"text-right",i==="top"&&"align-top",i==="center"&&"align-center",i==="bottom"&&"align-bottom",s.onClick&&"hover:cursor-pointer",n);return d.jsx("td",{className:a,...s,children:e})},mD=({heading:n,value:e,hint:t,hideEmptyValue:r,...i})=>!e&&r?d.jsx(d.Fragment,{}):d.jsxs("div",{className:"flex flex-col",...i,children:[n&&d.jsx(ft,{grey:!1,level:6,children:n}),d.jsx("div",{className:`flex items-center ${n&&"mt-1"}`,children:e}),t&&d.jsx("p",{className:"mt-1 text-xs",children:t})]}),Ye=({columns:n,values:e,children:t,className:r})=>{let i="flex flex-col gap-x-5";return n===2&&(i="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6"),i+=r?` ${r}`:" gap-y-7",d.jsxs("div",{className:i,children:[e&&e.map(({key:s,...a})=>d.jsx(mD,{...a},s)),t]})},cs=({title:n,isVisible:e,children:t})=>e?d.jsxs(d.Fragment,{children:[n&&d.jsx("h2",{className:"mb-4 ml-2 text-base font-semibold tracking-normal text-black dark:text-grey-400",children:n}),t&&d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"-mt-1 mb-7",children:t}),d.jsx(Ct,{className:"mx-2 mb-7 border-grey-300 dark:border-grey-950"})]})]}):null,gD=({title:n,sticky:e=!1})=>{const t=_("z-20 mb-px pb-10 text-3xl font-bold tracking-tight",e?"sticky top-0 mt-[calc(-8vmin-4px)] bg-gradient-to-t from-transparent via-white via-20% to-white pt-[calc(8vmin-4px)] dark:bg-black":"mt-[-5px]");return d.jsx("h2",{className:t,children:n})},vD=({title:n,isVisible:e=!0,children:t})=>{const r=_("mb-[10vh]",e?"":"hidden");return d.jsxs("div",{className:r,children:[n&&d.jsx(gD,{title:n}),t&&d.jsx("div",{className:"mb-10 flex flex-col gap-12",children:t})]})},Dp=({label:n,className:e,...t})=>{const r=_("inline-block cursor-pointer rounded-md bg-[#625BF6] font-semibold text-white transition-all hover:opacity-90",n?"px-5 py-2 text-sm":"px-6 py-[9px]",e);return n||(n=d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"sr-only",children:"Connect with Stripe"}),d.jsxs("svg",{fill:"none",height:"16",width:"132",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("g",{clipPath:"url(#clip0_1443_3527)",fill:"#fff",children:d.jsx("path",{d:"M2 7.6c0-2.3 1.3-3.9 3-3.9 1.3 0 2.2.8 2.5 2l1.8-.6C8.7 3.2 7.2 2 5 2 2.1 2 0 4.3 0 7.6s2.1 5.6 5 5.6c2.2 0 3.7-1.2 4.3-3.1l-1.8-.6c-.3 1.3-1.2 2-2.5 2-1.8 0-3-1.6-3-3.9zm15.6 1.5C17.6 6.7 16 5 13.8 5 11.6 5 10 6.6 10 9.1c0 2.5 1.6 4.1 3.8 4.1 2.3 0 3.8-1.7 3.8-4.1zm-5.7 0c0-1.6.8-2.6 2-2.6s2 1 2 2.6-.8 2.6-2 2.6-2-1-2-2.6zM19 13h1.8V8.4c0-1.1.8-1.7 1.6-1.7 1 0 1.4.7 1.4 1.7V13h1.8V7.8c0-1.7-1-2.8-2.6-2.8-1 0-1.7.5-2.2 1v-.8H19V13zm8.5 0h1.8V8.4c0-1.1.8-1.7 1.6-1.7 1 0 1.4.7 1.4 1.7V13h1.8V7.8c0-1.7-1-2.8-2.6-2.8-1 0-1.7.5-2.2 1v-.8h-1.8V13zm11.8.2c1.6 0 2.8-.8 3.4-2.2l-1.5-.6c-.2.8-.9 1.3-1.8 1.3-1.2 0-2-.8-2.1-2.2h5.5v-.6c0-2.2-1.2-3.9-3.5-3.9-2.2 0-3.8 1.8-3.8 4.1 0 2.4 1.5 4.1 3.8 4.1zm-.1-6.7c1.1 0 1.7.8 1.7 1.6h-3.6c.2-1.1 1-1.6 1.9-1.6zm6.2 2.6c0-1.6.8-2.5 2.1-2.5 1 0 1.5.6 1.8 1.5l1.5-.8c-.4-1.3-1.6-2.2-3.3-2.2-2.2 0-3.9 1.7-3.9 4.1 0 2.4 1.6 4.1 3.9 4.1 1.7 0 2.9-1 3.3-2.3l-1.5-.8c-.2.9-.8 1.5-1.8 1.5-1.3-.1-2.1-1-2.1-2.6zM52 11c0 1.6.8 2.1 2.3 2.1.5 0 .9 0 1.2-.1v-1.5h-.7c-.6 0-1.1-.1-1.1-.8V6.6h1.7V5.1h-1.7V2.8h-1.8v2.3h-1.1v1.5h1.1L52 11zm11.7-5.9l-1.4 5.2-1.4-5.2h-1.8l2.4 7.9h1.6l1.4-5.2 1.4 5.2h1.6l2.4-7.9h-1.8l-1.5 5.2-1.4-5.2h-1.5zm7.1-1h1.8V2.3h-1.9l.1 1.8zm1.8 1h-1.8V13h1.8V5.1zm2 5.9c0 1.6.8 2.1 2.3 2.1.5 0 .9 0 1.2-.1v-1.5h-.7c-.6 0-1.1-.1-1.1-.8V6.6H78V5.1h-1.7V2.8h-1.7v2.3h-1.1v1.5h1.1V11zm4.9 2h1.8V8.4c0-1.1.8-1.7 1.6-1.7 1 0 1.4.7 1.4 1.7V13h1.8V7.8c0-1.7-1-2.8-2.6-2.8-1 0-1.7.5-2.2 1V2.3h-1.8V13zM117.1 15.4v-3c.4.3.9.7 1.9.7 1.9 0 3.6-1.5 3.6-4.9 0-3.1-1.7-4.8-3.6-4.8-1 0-1.7.5-2.1.9l-.1-.6h-2.3V16l2.6-.6zm1.2-9.7c1 0 1.6 1.1 1.6 2.5 0 1.5-.6 2.5-1.6 2.5-.6 0-1-.2-1.3-.5v-4c.4-.2.7-.5 1.3-.5zM127.701 13.2c1.3 0 2.2-.3 3-.7v-2.2c-.7.4-1.5.6-2.6.6s-1.9-.4-2.1-1.7h5.2v-1c0-2.8-1.3-4.9-3.8-4.9s-4.1 2.2-4.1 4.9c0 3.3 1.8 5 4.4 5zm-.3-7.7c.6 0 1.3.5 1.3 1.7h-2.8c.1-1.1.8-1.7 1.5-1.7zM107.6 6.5c.6-.9 1.7-.7 2-.6V3.4c-.4-.1-1.6-.4-2.1.8l-.2-.8H105v9.4h2.6V6.5zM95.602 10.2c0 .5-.4.6-1 .6-.9 0-2-.4-2.9-.9v2.6c1 .4 2 .6 2.9.6 2.2 0 3.7-1.1 3.7-3 0-3.2-4-2.6-4-3.8 0-.4.3-.6.9-.6.8 0 1.8.2 2.6.7V3.8c-.9-.4-1.7-.5-2.6-.5-2.1 0-3.6 1.1-3.6 3 0 3.1 4 2.6 4 3.9zM102.001 13.2c.8 0 1.5-.2 1.9-.4v-2.2c-.3.1-2 .6-2-1V5.8h2V3.5h-2V1.2l-2.6.6v8.6c0 1.6 1.1 2.8 2.7 2.8zM110.5.6v2.1l2.7-.5V0l-2.7.6zM113.1 3.5h-2.6v9.3h2.6V3.5z"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1443_3527",children:d.jsx("path",{d:"M0 0h132v16H0z",fill:"#fff"})})})]})]})),d.jsx(ne,{className:r,label:n,unstyled:!0,...t})},bD=({darkMode:n,fetchKoenigLexical:e,className:t,children:r,...i})=>{const s=_("admin-x-base",t);return d.jsx("div",{className:s,...i,children:d.jsx(Y2,{darkMode:n,fetchKoenigLexical:e,children:r})})},xD=n=>y.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},y.createElement("title",null,"social-facebook"),y.createElement("path",{d:"M20 40.004c11.046 0 20-8.955 20-20 0-11.046-8.954-20-20-20s-20 8.954-20 20c0 11.045 8.954 20 20 20z",fill:"#1977F3"}),y.createElement("path",{d:"m27.785 25.785.886-5.782h-5.546V16.25c0-1.58.773-3.125 3.26-3.125h2.522V8.204s-2.29-.39-4.477-.39c-4.568 0-7.555 2.767-7.555 7.781v4.408h-5.08v5.782h5.08v13.976a20.08 20.08 0 0 0 3.125.242c1.063 0 2.107-.085 3.125-.242V25.785h4.66z",fill:"#fff"})),h6=n=>y.createElement("svg",{viewBox:"0 0 770 294",style:{backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",backgroundImage:"url(https://assets.ghost.io/admin/1597/assets/img/logos/ghost-logo-black-1-fb561a374422b405ec90fa586b05ebdf.png)"},alt:"Ghost",...n}),p6=n=>y.createElement("svg",{fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",...n},y.createElement("path",{clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM11.8326 2.33879C6.37785 2.95189 3.95901 5.20797 3.41126 9.74699C3.34896 10.2632 3.22642 10.7805 3.10443 11.2954C2.93277 12.02 2.76221 12.74 2.76221 13.4458C2.76221 17.9885 6.5856 21.556 11.1283 21.556C12.8959 21.556 14.4433 20.8144 15.8756 20.048C19.0536 18.3478 22.0328 16.2597 22.0328 12.5411C22.0328 9.91512 20.1051 7.56932 18.466 5.5747C18.3834 5.47416 18.3015 5.37451 18.2206 5.27577C17.3866 4.25742 14.4333 2.04643 11.8326 2.33879Z",fill:"currentColor",fillRule:"evenodd"})),yD=n=>y.createElement("svg",{fill:"none",viewBox:"0 0 92 31",...n},y.createElement("title",null,"google"),y.createElement("path",{d:"M39.15 15.898c0 4.303-3.378 7.473-7.525 7.473s-7.526-3.17-7.526-7.473c0-4.334 3.38-7.474 7.526-7.474 4.147 0 7.526 3.14 7.526 7.474zm-3.294 0c0-2.69-1.958-4.529-4.231-4.529-2.273 0-4.231 1.84-4.231 4.529 0 2.662 1.958 4.528 4.231 4.528 2.273 0 4.231-1.87 4.231-4.528z",fill:"#EA4335"}),y.createElement("path",{d:"M55.386 15.898c0 4.303-3.379 7.473-7.526 7.473-4.146 0-7.526-3.17-7.526-7.473 0-4.33 3.38-7.474 7.526-7.474 4.147 0 7.526 3.14 7.526 7.474zm-3.294 0c0-2.69-1.959-4.529-4.232-4.529s-4.231 1.84-4.231 4.529c0 2.662 1.958 4.528 4.231 4.528 2.273 0 4.232-1.87 4.232-4.528z",fill:"#FBBC05"}),y.createElement("path",{d:"M70.945 8.875v13.418c0 5.52-3.267 7.774-7.13 7.774-3.636 0-5.825-2.423-6.65-4.404l2.868-1.19c.511 1.217 1.763 2.652 3.779 2.652 2.472 0 4.004-1.52 4.004-4.38V21.67h-.115c-.737.906-2.158 1.698-3.95 1.698-3.751 0-7.188-3.255-7.188-7.443 0-4.22 3.437-7.501 7.188-7.501 1.789 0 3.21.792 3.95 1.671h.115V8.88h3.129v-.004zm-2.895 7.05c0-2.632-1.763-4.556-4.005-4.556-2.273 0-4.177 1.924-4.177 4.556 0 2.604 1.904 4.501 4.177 4.501 2.242 0 4.005-1.897 4.005-4.501z",fill:"#4285F4"}),y.createElement("path",{d:"M76.103 1.01v21.903H72.89V1.011h3.213z",fill:"#34A853"}),y.createElement("path",{d:"M88.624 18.357l2.558 1.699c-.826 1.216-2.815 3.312-6.251 3.312-4.262 0-7.445-3.282-7.445-7.474 0-4.444 3.21-7.473 7.076-7.473 3.893 0 5.798 3.086 6.42 4.754l.341.85-10.028 4.137c.768 1.5 1.962 2.264 3.636 2.264 1.678 0 2.841-.822 3.693-2.069zm-7.87-2.688l6.703-2.774c-.368-.933-1.478-1.583-2.783-1.583-1.674 0-4.005 1.472-3.92 4.357z",fill:"#EA4335"}),y.createElement("path",{d:"M11.936 13.953v-3.17h10.726c.105.552.159 1.206.159 1.914 0 2.378-.653 5.32-2.757 7.416-2.046 2.123-4.66 3.255-8.124 3.255-6.42 0-11.818-5.21-11.818-11.605C.122 5.368 5.52.158 11.94.158c3.551 0 6.081 1.389 7.982 3.198l-2.246 2.237c-1.363-1.273-3.21-2.264-5.74-2.264-4.688 0-8.354 3.764-8.354 8.434s3.666 8.434 8.354 8.434c3.041 0 4.773-1.216 5.882-2.322.9-.896 1.492-2.176 1.725-3.925l-7.607.003z",fill:"#4285F4"})),wD=n=>y.createElement("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...n},y.createElement("g",null,y.createElement("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",fill:"currentColor"}))),Qf=({initialState:n,savingDelay:e,savedDelay:t=2e3,onSave:r,onSaveError:i,onSavedStateReset:s,onValidate:a})=>{const[o,l]=y.useState(n),[c,u]=y.useState(""),[f,h]=y.useState({});y.useEffect(()=>{c==="saved"&&setTimeout(()=>{s?.(),u(S=>S==="saved"?"":S)},t)},[c,t]);const p=S=>Object.values(S).filter(Boolean).length===0,g=y.useCallback(()=>{if(!a)return!0;const S=a(o);return h(S),p(S)},[o,a]),m=y.useCallback(async(S={})=>{if(!g())return u("error"),!1;if(c!=="unsaved"&&!S.force&&!S.fakeWhenUnchanged)return!0;const k=Date.now();u("saving");try{(c==="unsaved"||S.force)&&await r(o);const A=Date.now()-k;return e&&A<e&&await new Promise(C=>{setTimeout(C,e-A)}),u("saved"),!0}catch(A){throw await i?.(A),u("unsaved"),A}},[o,c,e,r,i,g]),v=y.useCallback(S=>{l(S),u("unsaved")},[]);let b="black";c==="saved"?b="green":c==="error"&&(b="red");let x="";c==="saved"?x="Saved":c==="saving"?x="Saving...":c==="error"&&(x="Retry");const w={disabled:c==="saving",color:b,label:x||void 0};return{formState:o,saveState:c,handleSave:m,updateForm:v,setFormState:l,reset(){l(n),u("")},validate:g,isValid:p(f),clearError:S=>{h(k=>({...k,[S]:""}))},errors:f,setErrors:h,okProps:w}},SD=n=>"'"+n.replace(/'/g,"\\'")+"'",Fu=({path:n,filterKey:e,responseKey:t,limit:r=20})=>{const i=QS(),s=y.useRef({}),a=async l=>{var c;if((s.current.allLoaded||s.current.lastInput===l)&&s.current.data)return s.current.data.filter(f=>{var h;return(h=f[e])==null?void 0:h.toLowerCase().includes(l.toLowerCase())});const u=await i(Fh(n,{filter:l?`${e}:~${SD(l)}`:"",limit:r.toString()}));return s.current.data=u[t],s.current.allLoaded=!l&&!((c=u.meta)!=null&&c.pagination.next),s.current.lastInput=l,u[t]};return{loadData:a,loadInitialValues:async(l,c)=>{await a("");const u=[...s.current.data||[]],f=l.filter(h=>{var p;return!((p=s.current.data)!=null&&p.find(g=>g[c]===h))});if(f.length){const h=await i(Fh(n,{filter:`${c}:[${f.join(",")}]`,limit:"100"}));u.push(...h[t])}return l.map(h=>u.find(p=>p[c]===h))}}};class ke{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),$n.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let r=[];return this.decompose(e,t,r,0),$n.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new As(this),s=new As(e);for(let a=t,o=t;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new As(this,e)}iterRange(e,t=this.length){return new Hx(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Vx(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ke.empty:e.length<=32?new Qe(e):$n.from(Qe.split(e,[]))}}class Qe extends ke{constructor(e,t=kD(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.text[s],o=i+a.length;if((t?r:o)>=e)return new CD(i,o,r,a);i=o+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new Qe(Rp(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),o=Ul(s.text,a.text.slice(),0,s.length);if(o.length<=32)r.push(new Qe(o,a.length+s.length));else{let l=o.length>>1;r.push(new Qe(o.slice(0,l)),new Qe(o.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof Qe))return super.replace(e,t,r);let i=Ul(this.text,Ul(r.text,Rp(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new Qe(i,s):$n.from(Qe.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){let i="";for(let s=0,a=0;s<=t&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>e&&a&&(i+=r),e<l&&t>s&&(i+=o.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new Qe(r,i)),r=[],i=-1);return i>-1&&t.push(new Qe(r,i)),t}}class $n extends ke{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let a=this.children[s],o=i+a.length,l=r+a.lines-1;if((t?l:o)>=e)return a.lineInner(e,t,r,i);i=o+1,r=l+1}}decompose(e,t,r,i){for(let s=0,a=0;a<=t&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(e<=l&&t>=a){let c=i&((a<=e?1:0)|(l>=t?2:0));a>=e&&l<=t&&!c?r.push(o):o.decompose(e-a,t-a,r,c)}a=l+1}}replace(e,t,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],o=s+a.length;if(e>=s&&t<=o){let l=a.replace(e-s,t-s,r),c=this.lines-a.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new $n(u,this.length-(t-e)+r.length)}return super.replace(s,o,l)}s=o+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){let i="";for(let s=0,a=0;s<this.children.length&&a<=t;s++){let o=this.children[s],l=a+o.length;a>e&&s&&(i+=r),e<l&&t>a&&(i+=o.sliceString(e-a,t-a,r)),a=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof $n))return 0;let r=0,[i,s,a,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==a||s==o)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of e)r+=p.lines;if(r<32){let p=[];for(let g of e)g.flatten(p);return new Qe(p,t)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,o=[],l=0,c=-1,u=[];function f(p){let g;if(p.lines>s&&p instanceof $n)for(let m of p.children)f(m);else p.lines>a&&(l>a||!l)?(h(),o.push(p)):p instanceof Qe&&l&&(g=u[u.length-1])instanceof Qe&&p.lines+g.lines<=32?(l+=p.lines,c+=p.length+1,u[u.length-1]=new Qe(g.text.concat(p.text),g.length+1+p.length)):(l+p.lines>i&&h(),l+=p.lines,c+=p.length+1,u.push(p))}function h(){l!=0&&(o.push(u.length==1?u[0]:$n.from(u,c)),c=-1,l=u.length=0)}for(let p of e)f(p);return h(),o.length==1?o[0]:new $n(o,t)}}ke.empty=new Qe([""],0);function kD(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Ul(n,e,t=0,r=1e9){for(let i=0,s=0,a=!0;s<n.length&&i<=r;s++){let o=n[s],l=i+o.length;l>=t&&(l>r&&(o=o.slice(0,r-i)),i<t&&(o=o.slice(t-i)),a?(e[e.length-1]+=o,a=!1):e.push(o)),i=l+1}return e}function Rp(n,e,t){return Ul(n,[""],e,t)}class As{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Qe?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,o=i instanceof Qe?i.text.length:i.children.length;if(a==(t>0?o:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Qe){let l=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Qe?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Hx{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new As(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Vx{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ke.prototype[Symbol.iterator]=function(){return this.iter()},As.prototype[Symbol.iterator]=Hx.prototype[Symbol.iterator]=Vx.prototype[Symbol.iterator]=function(){return this});class CD{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}let Ni="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Ni.length;n++)Ni[n]+=Ni[n-1];function AD(n){for(let e=1;e<Ni.length;e+=2)if(Ni[e]>n)return Ni[e-1]<=n;return!1}function Op(n){return n>=127462&&n<=127487}const Tp=8205;function Et(n,e,t=!0,r=!0){return(t?Ux:MD)(n,e,r)}function Ux(n,e,t){if(e==n.length)return e;e&&zx(n.charCodeAt(e))&&Wx(n.charCodeAt(e-1))&&e--;let r=wt(n,e);for(e+=dn(r);e<n.length;){let i=wt(n,e);if(r==Tp||i==Tp||t&&AD(i))e+=dn(i),r=i;else if(Op(i)){let s=0,a=e-2;for(;a>=0&&Op(wt(n,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function MD(n,e,t){for(;e>0;){let r=Ux(n,e-2,t);if(r<e)return r;e--}return 0}function zx(n){return n>=56320&&n<57344}function Wx(n){return n>=55296&&n<56320}function wt(n,e){let t=n.charCodeAt(e);if(!Wx(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return zx(r)?(t-55296<<10)+(r-56320)+65536:t}function eh(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function dn(n){return n<65536?1:2}const Nd=/\r\n?|\n/;var kt=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(kt||(kt={}));class qn{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,t=!1){Pd(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new qn(e)}composeDesc(e){return this.empty?e:e.empty?this:qx(this,e)}mapDesc(e,t=!1){return e.empty?this:Ld(this,e,t)}mapPos(e,t=-1,r=kt.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],c=i+o;if(l<0){if(c>e)return s+(e-i);s+=o}else{if(r!=kt.Simple&&c>=e&&(r==kt.TrackDel&&i<e&&c>e||r==kt.TrackBefore&&i<e||r==kt.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!o)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],a=this.sections[r++],o=i+s;if(a>=0&&i<=t&&o>=e)return i<e&&o>t?"cover":!0;i=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new qn(e)}static create(e){return new qn(e)}}class ct extends qn{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Pd(this,(t,r,i,s,a)=>e=e.replace(i,i+(r-t),a),!1),e}mapDesc(e,t=!1){return Ld(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let a=t[i],o=t[i+1];if(o>=0){t[i]=o,t[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(ke.empty);r.push(a?e.slice(s,s+a):ke.empty)}s+=a}return new ct(t,r)}compose(e){return this.empty?e:e.empty?this:qx(this,e,!0)}map(e,t=!1){return e.empty?this:Ld(this,e,t,!0)}iterChanges(e,t=!1){Pd(this,e,t)}get desc(){return qn.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Bs(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-o);It(i,u,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;It(t,u,f),f>0&&vr(r,t,s.text),s.forward(u),o+=u}let c=e[a++];for(;o<c;){if(s.done)break e;let u=Math.min(s.len,c-o);It(t,u,-1),It(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),o+=u}}return{changes:new ct(t,r),filtered:qn.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],a=0,o=null;function l(u=!1){if(!u&&!i.length)return;a<t&&It(i,t-a,-1);let f=new ct(i,s);o=o?o.compose(f.map(o)):f,i=[],s=[],a=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof ct){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),o=o?o.compose(u.map(o)):u}else{let{from:f,to:h=f,insert:p}=u;if(f>h||f<0||h>t)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${t})`);let g=p?typeof p=="string"?ke.of(p.split(r||Nd)):p:ke.empty,m=g.length;if(f==h&&m==0)return;f<a&&l(),f>a&&It(i,f-a,-1),It(i,h-f,m),vr(s,i,g),a=h}}return c(e),l(!o),o}static empty(e){return new ct(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(ke.empty);r[i]=ke.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new ct(t,r)}static createSet(e,t){return new ct(e,t)}}function It(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function vr(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(ke.empty);n.push(t)}}function Pd(n,e,t){let r=n.inserted;for(let i=0,s=0,a=0;a<n.sections.length;){let o=n.sections[a++],l=n.sections[a++];if(l<0)i+=o,s+=o;else{let c=i,u=s,f=ke.empty;for(;c+=o,u+=l,l&&r&&(f=f.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)o=n.sections[a++],l=n.sections[a++];e(i,c,s,u,f),i=c,s=u}}}function Ld(n,e,t,r=!1){let i=[],s=r?[]:null,a=new Bs(n),o=new Bs(e);for(let l=-1;;)if(a.ins==-1&&o.ins==-1){let c=Math.min(a.len,o.len);It(i,c,-1),a.forward(c),o.forward(c)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!t))){let c=o.len;for(It(i,o.ins,-1);c;){let u=Math.min(a.len,c);a.ins>=0&&l<a.i&&a.len<=u&&(It(i,0,a.ins),s&&vr(s,i,a.text),l=a.i),a.forward(u),c-=u}o.next()}else if(a.ins>=0){let c=0,u=a.len;for(;u;)if(o.ins==-1){let f=Math.min(u,o.len);c+=f,u-=f,o.forward(f)}else if(o.ins==0&&o.len<u)u-=o.len,o.next();else break;It(i,c,l<a.i?a.ins:0),s&&l<a.i&&vr(s,i,a.text),l=a.i,a.forward(a.len-u)}else{if(a.done&&o.done)return s?ct.createSet(i,s):qn.create(i);throw new Error("Mismatched change set lengths")}}function qx(n,e,t=!1){let r=[],i=t?[]:null,s=new Bs(n),a=new Bs(e);for(let o=!1;;){if(s.done&&a.done)return i?ct.createSet(r,i):qn.create(r);if(s.ins==0)It(r,s.len,0,o),s.next();else if(a.len==0&&!a.done)It(r,0,a.ins,o),i&&vr(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),c=r.length;if(s.ins==-1){let u=a.ins==-1?-1:a.off?0:a.ins;It(r,l,u,o),i&&u&&vr(i,r,a.text)}else a.ins==-1?(It(r,s.off?0:s.len,l,o),i&&vr(i,r,s.textBit(l))):(It(r,s.off?0:s.len,a.off?0:a.ins,o),i&&!a.off&&vr(i,r,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||r.length>c),s.forward2(l),a.forward(l)}}}}class Bs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ke.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?ke.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ur{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Ur(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return B.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return B.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return B.range(e.anchor,e.head)}static create(e,t,r){return new Ur(e,t,r)}}class B{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:B.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new B([this.main],0)}addRange(e,t=!0){return B.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,B.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new B(e.ranges.map(t=>Ur.fromJSON(t)),e.main)}static single(e,t=e){return new B([B.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return B.normalized(e.slice(),t);r=s.to}return new B(e,t)}static cursor(e,t=0,r,i){return Ur.create(e,e,(t==0?0:t<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,t,r,i){let s=(r??33554431)<<5|(i==null?3:Math.min(2,i));return t<e?Ur.create(t,e,24|s):Ur.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?B.range(l,o):B.range(o,l))}}return new B(e,t)}}function Gx(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let th=0;class J{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=th++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new J(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:nh),!!e.static,e.enables)}of(e){return new zl([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new zl(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new zl(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function nh(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class zl{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=th++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:(((t=e[f.id])!==null&&t!==void 0?t:1)&1)==0&&u.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||_d(f,u)){let p=r(f);if(o?!Np(p,f.values[a],i):!i(p,f.values[a]))return f.values[a]=p,1}return 0},reconfigure:(f,h)=>{let p,g=h.config.address[s];if(g!=null){let m=gc(h,g);if(this.dependencies.every(v=>v instanceof J?h.facet(v)===f.facet(v):v instanceof vt?h.field(v,!1)==f.field(v,!1):!0)||(o?Np(p=r(f),m,i):i(p=r(f),m)))return f.values[a]=m,0}else p=r(f);return f.values[a]=p,1}}}}function Np(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function _d(n,e){let t=!1;for(let r of e)Ms(n,r)&1&&(t=!0);return t}function ID(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),a=n[e.id]>>1;function o(l){let c=[];for(let u=0;u<r.length;u++){let f=gc(l,r[u]);if(i[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(l){for(let c of r)Ms(l,c);return l.values[a]=o(l),1},update(l,c){if(!_d(l,s))return 0;let u=o(l);return e.compare(u,l.values[a])?0:(l.values[a]=u,1)},reconfigure(l,c){let u=_d(l,r),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&nh(t,f))return l.values[a]=h,0;let p=o(l);return e.compare(p,h)?(l.values[a]=h,0):(l.values[a]=p,1)}}}const Pp=J.define({static:!0});class vt{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new vt(th++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Pp).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[t]=a,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,Pp.of({field:this,create:e})]}get extension(){return this}}const Fr={lowest:4,low:3,default:2,high:1,highest:0};function us(n){return e=>new Kx(e,n)}const ti={highest:us(Fr.highest),high:us(Fr.high),default:us(Fr.default),low:us(Fr.low),lowest:us(Fr.lowest)};class Kx{constructor(e,t){this.inner=e,this.prec=t}}class nu{of(e){return new jd(this,e)}reconfigure(e){return nu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class jd{constructor(e,t){this.compartment=e,this.inner=t}}class mc{constructor(e,t,r,i,s,a){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),a=new Map;for(let h of ED(e,t,a))h instanceof vt?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let o=Object.create(null),l=[],c=[];for(let h of i)o[h.id]=c.length<<1,c.push(p=>h.slot(p));let u=r?.config.facets;for(let h in s){let p=s[h],g=p[0].facet,m=u&&u[h]||[];if(p.every(v=>v.type==0))if(o[g.id]=l.length<<1|1,nh(m,p))l.push(r.facet(g));else{let v=g.combine(p.map(b=>b.value));l.push(r&&g.compare(v,r.facet(g))?r.facet(g):v)}else{for(let v of p)v.type==0?(o[v.id]=l.length<<1|1,l.push(v.value)):(o[v.id]=c.length<<1,c.push(b=>v.dynamicSlot(b)));o[g.id]=c.length<<1,c.push(v=>ID(v,g,p))}}let f=c.map(h=>h(o));return new mc(e,a,f,o,l,s)}}function ED(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(a,o){let l=i.get(a);if(l!=null){if(l<=o)return;let c=r[l].indexOf(a);c>-1&&r[l].splice(c,1),a instanceof jd&&t.delete(a.compartment)}if(i.set(a,o),Array.isArray(a))for(let c of a)s(c,o);else if(a instanceof jd){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(a.compartment)||a.inner;t.set(a.compartment,c),s(c,o)}else if(a instanceof Kx)s(a.inner,a.prec);else if(a instanceof vt)r[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof zl)r[o].push(a),a.facet.extensions&&s(a.facet.extensions,Fr.default);else{let c=a.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,o)}}return s(n,Fr.default),r.reduce((a,o)=>a.concat(o))}function Ms(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function gc(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Zx=J.define(),Yx=J.define({combine:n=>n.some(e=>e),static:!0}),Jx=J.define({combine:n=>n.length?n[0]:void 0,static:!0}),Xx=J.define(),Qx=J.define(),e1=J.define(),t1=J.define({combine:n=>n.length?n[0]:!1});class Zn{constructor(e,t){this.type=e,this.value=t}static define(){return new DD}}class DD{of(e){return new Zn(this,e)}}class RD{constructor(e){this.map=e}of(e){return new pe(this,e)}}class pe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new pe(this.type,t)}is(e){return this.type==e}static define(e={}){return new RD(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}pe.reconfigure=pe.define();pe.appendConfig=pe.define();class ut{constructor(e,t,r,i,s,a){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&Gx(r,t.newLength),s.some(o=>o.type==ut.time)||(this.annotations=s.concat(ut.time.of(Date.now())))}static create(e,t,r,i,s,a){return new ut(e,t,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ut.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ut.time=Zn.define();ut.userEvent=Zn.define();ut.addToHistory=Zn.define();ut.remote=Zn.define();function OD(n,e){let t=[];for(let r=0,i=0;;){let s,a;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],a=n[r++];else if(i<e.length)s=e[i++],a=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function n1(n,e,t){var r;let i,s,a;return t?(i=e.changes,s=ct.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:pe.mapEffects(n.effects,i).concat(pe.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Bd(n,e,t){let r=e.selection,i=Pi(e.annotations);return e.userEvent&&(i=i.concat(ut.userEvent.of(e.userEvent))),{changes:e.changes instanceof ct?e.changes:ct.of(e.changes||[],t,n.facet(Jx)),selection:r&&(r instanceof B?r:B.single(r.anchor,r.head)),effects:Pi(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function r1(n,e,t){let r=Bd(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let a=!!e[s].sequential;r=n1(r,Bd(n,e[s],a?r.changes.newLength:n.doc.length),a)}let i=ut.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return ND(t?TD(i):i)}function TD(n){let e=n.startState,t=!0;for(let i of e.facet(Xx)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:OD(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=ct.empty(e.doc.length);else{let a=n.changes.filter(t);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}n=ut.create(e,i,n.selection&&n.selection.map(s),pe.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(Qx);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof ut?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ut?n=s[0]:n=r1(e,Pi(s),!1)}return n}function ND(n){let e=n.startState,t=e.facet(e1),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=n1(r,Bd(e,s,n.changes.newLength),!0))}return r==n?n:ut.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const PD=[];function Pi(n){return n==null?PD:Array.isArray(n)?n:[n]}var Ue=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(Ue||(Ue={}));const LD=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let $d;try{$d=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function _D(n){if($d)return $d.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||LD.test(t)))return!0}return!1}function jD(n){return e=>{if(!/\S/.test(e))return Ue.Space;if(_D(e))return Ue.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Ue.Word;return Ue.Other}}class ye{constructor(e,t,r,i,s,a){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Ms(this,o<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Ms(this,r),gc(this,r)}update(...e){return r1(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(nu.reconfigure)?(t&&(i=new Map,t.compartments.forEach((o,l)=>i.set(l,o)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(pe.reconfigure)?(t=null,r=a.value):a.is(pe.appendConfig)&&(t=null,r=Pi(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=mc.resolve(r,i,this),s=new ye(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(o,l)=>l.reconfigure(o,this),null).values),new ye(t,e.newDoc,e.newSelection,s,(a,o)=>o.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:B.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],a=Pi(r.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),c=this.changes(l.changes),u=c.map(i);for(let h=0;h<o;h++)s[h]=s[h].map(u);let f=i.mapDesc(c,!0);s.push(l.range.map(f)),i=i.compose(u),a=pe.mapEffects(a,u).concat(pe.mapEffects(Pi(l.effects),f))}return{changes:i,selection:B.create(s,t.mainIndex),effects:a}}changes(e=[]){return e instanceof ct?e:ct.of(e,this.doc.length,this.facet(ye.lineSeparator))}toText(e){return ke.of(e.split(this.facet(ye.lineSeparator)||Nd))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Ms(this,t),gc(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof vt&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let a=r[s],o=e[s];i.push(a.init(l=>a.spec.fromJSON(o,l)))}}return ye.create({doc:e.doc,selection:B.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=mc.resolve(e.extensions||[],new Map),r=e.doc instanceof ke?e.doc:ke.of((e.doc||"").split(t.staticFacet(ye.lineSeparator)||Nd)),i=e.selection?e.selection instanceof B?e.selection:B.single(e.selection.anchor,e.selection.head):B.single(0);return Gx(i,r.length),t.staticFacet(Yx)||(i=i.asSingle()),new ye(t,r,i,t.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(ye.tabSize)}get lineBreak(){return this.facet(ye.lineSeparator)||`
`}get readOnly(){return this.facet(t1)}phrase(e,...t){for(let r of this.facet(ye.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(Zx))for(let a of s(this,t,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return jD(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-r,o=e-r;for(;a>0;){let l=Et(t,a,!1);if(s(t.slice(l,a))!=Ue.Word)break;a=l}for(;o<i;){let l=Et(t,o);if(s(t.slice(o,l))!=Ue.Word)break;o=l}return a==o?null:B.range(a+r,o+r)}}ye.allowMultipleSelections=Yx;ye.tabSize=J.define({combine:n=>n.length?n[0]:4});ye.lineSeparator=Jx;ye.readOnly=t1;ye.phrases=J.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});ye.languageData=Zx;ye.changeFilter=Xx;ye.transactionFilter=Qx;ye.transactionExtender=e1;nu.reconfigure=pe.define();function Yn(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let a=i[s],o=r[s];if(o===void 0)r[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Zr{eq(e){return this==e}range(e,t=e){return Fd.create(e,t,this)}}Zr.prototype.startSide=Zr.prototype.endSide=0;Zr.prototype.point=!1;Zr.prototype.mapMode=kt.TrackDel;let Fd=class i1{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new i1(e,t,r)}};function Hd(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class rh{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let a=i,o=s.length;;){if(a==o)return a;let l=a+o>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return c>=0?a:o;c>=0?o=l:a=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h,p;if(u==f){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(h=p=g,c.startSide!=c.endSide&&(p=t.mapPos(u,c.endSide),p<h)))continue}else if(h=t.mapPos(u,c.startSide),p=t.mapPos(f,c.endSide),h>p||h==p&&c.startSide>0&&c.endSide<=0)continue;(p-h||c.endSide-c.startSide)<0||(a<0&&(a=h),c.point&&(o=Math.max(o,p-h)),r.push(c),i.push(h-a),s.push(p-a))}return{mapped:r.length?new rh(i,s,r,o):null,pos:a}}}class Pe{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Pe(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(r&&(t=t.slice().sort(Hd)),this.isEmpty)return t.length?Pe.of(t):this;let o=new s1(this,null,-1).goto(0),l=0,c=[],u=new Cr;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let f=t[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!a||i>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||i>o.to||s<o.from||a(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||c.push(Fd.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Pe.empty:this.nextLayer.update({add:c,filter:a,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],c=e.touchesRange(o,o+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(o));else if(c===!0){let{mapped:u,pos:f}=l.map(o,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(f))}}let s=this.nextLayer.map(e);return t.length==0?s:new Pe(r,t,s||Pe.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(t>=s&&e<=s+a.length&&a.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return $s.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return $s.from(e).goto(t)}static compare(e,t,r,i,s=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),o=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=Lp(a,o,r),c=new ds(a,l,s),u=new ds(o,l,s);r.iterGaps((f,h,p)=>_p(c,f,u,h,p,i)),r.empty&&r.length==0&&_p(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),a=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=Lp(s,a),l=new ds(s,o,0).goto(r),c=new ds(a,o,0).goto(r);for(;;){if(l.to!=c.to||!Vd(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,s=-1){let a=new ds(e,null,s).goto(t),o=t,l=a.openStart;for(;;){let c=Math.min(a.to,r);if(a.point){let u=a.activeForPoint(a.to),f=a.pointFrom<t?u.length+1:Math.min(u.length,l);i.point(o,c,a.point,u,f,a.pointRank),l=Math.min(a.openEnd(c),u.length)}else c>o&&(i.span(o,c,a.active,l),l=a.openEnd(c));if(a.to>r)return l+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(e,t=!1){let r=new Cr;for(let i of e instanceof Fd?[e]:t?BD(e):e)r.add(i.from,i.to,i.value);return r.finish()}}Pe.empty=new Pe([],[],null,-1);function BD(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(Hd(e,r)>0)return n.slice().sort(Hd);e=r}return n}Pe.empty.nextLayer=Pe.empty;class Cr{finishChunk(e){this.chunks.push(new rh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Cr)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Pe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Pe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Lp(n,e,t){let r=new Map;for(let s of n)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=r.get(s.chunk[a]);o!=null&&(t?t.mapPos(o):o)==s.chunkPos[a]&&!t?.touchesRange(o,o+s.chunk[a].length)&&i.add(s.chunk[a])}return i}class s1{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class $s{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new s1(a,t,r,s));return i.length==1?i[0]:new $s(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Hu(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Hu(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Hu(this.heap,0)}}}function Hu(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class ds{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=$s.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ra(this.active,e),Ra(this.activeTo,e),Ra(this.activeRank,e),this.minActive=jp(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Oa(this.active,t,r),Oa(this.activeTo,t,i),Oa(this.activeRank,t,s),e&&Oa(e,t,this.cursor.from),this.minActive=jp(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Ra(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function _p(n,e,t,r,i,s){n.goto(e),t.goto(r);let a=r+i,o=r,l=r-e;for(;;){let c=n.to+l-t.to||n.endSide-t.endSide,u=c<0?n.to+l:t.to,f=Math.min(u,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Vd(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(o,f,n.point,t.point):f>o&&!Vd(n.active,t.active)&&s.compareRange(o,f,n.active,t.active),u>a)break;o=u,c<=0&&n.next(),c>=0&&t.next()}}function Vd(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Ra(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Oa(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function jp(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function oa(n,e,t=n.length){let r=0;for(let i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Et(n,i));return r}function Ud(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=Et(n,i)}return r===!0?-1:n.length}const zd="",Bp=typeof Symbol>"u"?"__"+zd:Symbol.for(zd),Wd=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),$p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ar{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,c){let u=[],f=/^@(\w+)\b/.exec(a[0]),h=f&&f[1]=="keyframes";if(f&&o==null)return l.push(a[0]+";");for(let p in o){let g=o[p];if(/&/.test(p))s(p.split(/,\s*/).map(m=>a.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),g,l);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),g,u,h)}else g!=null&&u.push(p.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+g+";")}(u.length||h)&&l.push((r&&!f&&!c?a.map(r):a).join(", ")+" {"+u.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=$p[Bp]||1;return $p[Bp]=e+1,zd+e.toString(36)}static mount(e,t,r){let i=e[Wd],s=r&&r.nonce;i?s&&i.setNonce(s):i=new $D(e,s),i.mount(Array.isArray(t)?t:[t])}}let Fp=new Map;class $D{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Fp.get(r);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Wd]=s;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Fp.set(r,this)}else{this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Wd]=this}mount(e){let t=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let a=e[s],o=this.modules.indexOf(a);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),o==-1){if(this.modules.splice(i++,0,a),t)for(let l=0;l<a.rules.length;l++)t.insertRule(a.rules[l],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!t){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Mr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},FD=typeof navigator<"u"&&/Mac/.test(navigator.platform),HD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var St=0;St<10;St++)Mr[48+St]=Mr[96+St]=String(St);for(var St=1;St<=24;St++)Mr[St+111]="F"+St;for(var St=65;St<=90;St++)Mr[St]=String.fromCharCode(St+32),Fs[St]=String.fromCharCode(St);for(var Vu in Mr)Fs.hasOwnProperty(Vu)||(Fs[Vu]=Mr[Vu]);function VD(n){var e=FD&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||HD&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Fs:Mr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function vc(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function qd(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function UD(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wl(n,e){if(!e.anchorNode)return!1;try{return qd(n,e.anchorNode)}catch{return!1}}function Fi(n){return n.nodeType==3?Yr(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function bc(n,e,t,r){return t?Hp(n,e,t,r,-1)||Hp(n,e,t,r,1):!1}function xc(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Hp(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ir(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=xc(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Ir(n):0}else return!1}}function Ir(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ru(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function zD(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function WD(n,e,t,r,i,s,a,o){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,f=!1;u&&!f;)if(u.nodeType==1){let h,p=u==l.body;if(p)h=zD(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let v=u.getBoundingClientRect();h={left:v.left,right:v.left+u.clientWidth,top:v.top,bottom:v.top+u.clientHeight}}let g=0,m=0;if(i=="nearest")e.top<h.top?(m=-(h.top-e.top+a),t>0&&e.bottom>h.bottom+m&&(m=e.bottom-h.bottom+m+a)):e.bottom>h.bottom&&(m=e.bottom-h.bottom+a,t<0&&e.top-m<h.top&&(m=-(h.top+m-e.top+a)));else{let v=e.bottom-e.top,b=h.bottom-h.top;m=(i=="center"&&v<=b?e.top+v/2-b/2:i=="start"||i=="center"&&t<0?e.top-a:e.bottom-b+a)-h.top}if(r=="nearest"?e.left<h.left?(g=-(h.left-e.left+s),t>0&&e.right>h.right+g&&(g=e.right-h.right+g+s)):e.right>h.right&&(g=e.right-h.right+s,t<0&&e.left<h.left+g&&(g=-(h.left+g-e.left+s))):g=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==o?e.left-s:e.right-(h.right-h.left)+s)-h.left,g||m)if(p)c.scrollBy(g,m);else{let v=0,b=0;if(m){let x=u.scrollTop;u.scrollTop+=m,b=u.scrollTop-x}if(g){let x=u.scrollLeft;u.scrollLeft+=g,v=u.scrollLeft-x}e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b},v&&Math.abs(v-g)<1&&(r="nearest"),b&&Math.abs(b-m)<1&&(i="nearest")}if(p)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function qD(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class GD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Ir(t):0),r,Math.min(e.focusOffset,r?Ir(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let ai=null;function a1(n){if(n.setActive)return n.setActive();if(ai)return n.focus(ai);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ai==null?{get preventScroll(){return ai={preventScroll:!0},!0}}:void 0),!ai){ai=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let Vp;function Yr(n,e,t=e){let r=Vp||(Vp=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function Li(n,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,n.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,n.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function KD(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function o1(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function ZD(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ir(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Ir(t))}else{if(t==n)return!0;r=xc(t),t=t.parentNode}}function l1(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}class Bt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Bt(e.parentNode,xc(e),t)}static after(e,t){return new Bt(e.parentNode,xc(e)+1,t)}}const ih=[];class Fe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let a of this.children){if(a.flags&7){if(!a.dom&&(s=i?i.nextSibling:r.firstChild)){let o=Fe.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,t),a.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=a.dom&&(t.written=!0),a.dom.parentNode==r)for(;s&&s!=a.dom;)s=Up(s);else r.insertBefore(a.dom,s);i=a.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Up(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Ir(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Fe.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let a=this.children[i];if(a.dom==r)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,a=-1,o=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let f=this.children[l],h=c+f.length;if(c<e&&h>t)return f.domBoundsAround(e,t,c);if(h>=e&&i==-1&&(i=l,s=c),c>t&&f.dom.parentNode==this.dom){a=l,o=u;break}u=h,c=h+f.breakAfter}return{from:s,to:o<0?r+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=ih){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new c1(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}Fe.prototype.breakAfter=0;function Up(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class c1{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function u1(n,e,t,r,i,s,a,o,l){let{children:c}=n,u=c.length?c[e]:null,f=s.length?s[s.length-1]:null,h=f?f.breakAfter:a;if(!(e==r&&u&&!a&&!h&&s.length<2&&u.merge(t,i,s.length?f:null,t==0,o,l))){if(r<c.length){let p=c[r];p&&i<p.length?(e==r&&(p=p.split(i),i=0),!h&&f&&p.merge(0,i,f,!0,0,l)?s[s.length-1]=p:(i&&p.merge(0,i,null,!1,0,l),s.push(p))):p?.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,t>0&&(!a&&s.length&&u.merge(t,u.length,s[0],!1,o,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,o,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:o;else if(c[e].become(s[0]))e++,s.shift(),o=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,o,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function d1(n,e,t,r,i,s){let a=n.childCursor(),{i:o,off:l}=a.findPos(t,1),{i:c,off:u}=a.findPos(e,-1),f=e-t;for(let h of r)f+=h.length;n.length+=f,u1(n,c,u,o,l,r,0,i,s)}const Ci="";class f1{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(ye.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ci}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==t)break;let o=Fe.get(i),l=Fe.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:zp(i))||zp(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=a}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=i.exec(t))&&(s=o.index,a=o[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=s+a}}readNode(e){if(e.cmIgnore)return;let t=Fe.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function zp(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class Wp{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}let sn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Gd=typeof document<"u"?document:{documentElement:{style:{}}};const Kd=/Edge\/(\d+)/.exec(sn.userAgent),h1=/MSIE \d/.test(sn.userAgent),Zd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sn.userAgent),iu=!!(h1||Zd||Kd),qp=!iu&&/gecko\/(\d+)/i.test(sn.userAgent),Uu=!iu&&/Chrome\/(\d+)/.exec(sn.userAgent),YD="webkitFontSmoothing"in Gd.documentElement.style,p1=!iu&&/Apple Computer/.test(sn.vendor),Gp=p1&&(/Mobile\/\w+/.test(sn.userAgent)||sn.maxTouchPoints>2);var X={mac:Gp||/Mac/.test(sn.platform),windows:/Win/.test(sn.platform),linux:/Linux|X11/.test(sn.platform),ie:iu,ie_version:h1?Gd.documentMode||6:Zd?+Zd[1]:Kd?+Kd[1]:0,gecko:qp,gecko_version:qp?+(/Firefox\/(\d+)/.exec(sn.userAgent)||[0,0])[1]:0,chrome:!!Uu,chrome_version:Uu?+Uu[1]:0,ios:Gp,android:/Android\b/.test(sn.userAgent),safari:p1,webkit_version:YD?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Gd.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const JD=256;class Gn extends Fe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Gn)||this.length-(t-e)+r.length>JD||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Gn(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Bt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return XD(this.dom,e,t)}}class nr extends Fe{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(o1(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,a){return r&&(!(r instanceof nr&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)?!1:(d1(this,e,t,r?r.children:[],s-1,a-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let o of this.children){let l=r+o.length;l>e&&t.push(r<e?o.split(e-r):o),i<0&&r>=e&&(i=s),r=l,s++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new nr(this.mark,t,a)}domAtPos(e){return m1(this,e)}coordsAt(e,t){return v1(this,e,t)}}function XD(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;e==0&&t<0||e==r&&t>=0?X.chrome||X.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):t<0?i--:s<r&&s++;let o=Yr(n,i,s).getClientRects();if(!o.length)return null;let l=o[(a?a<0:t>=0)?0:o.length-1];return X.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,c=>c.width)||l),a?ru(l,a<0):l||null}class br extends Fe{static create(e,t,r){return new br(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=br.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,i,s,a){return r&&(!(r instanceof br)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof br&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ke.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):ke.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Bt.before(this.dom):Bt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let o=a?i.length-1:0;s=i[o],!(e>0?o==0:o==i.length-1||s.top<s.bottom);o+=a?-1:1);return ru(s,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Hi extends Fe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Hi&&e.side==this.side}split(){return new Hi(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Bt.before(this.dom):Bt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ke.empty}get isHidden(){return!0}}Gn.prototype.children=br.prototype.children=Hi.prototype.children=ih;function m1(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let a=r[i],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(e>s&&e<o&&a.dom.parentNode==t)return a.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=i;s>0;s--){let a=r[s-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let s=i;s<r.length;s++){let a=r[s];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Bt(t,0)}function g1(n,e,t){let r,{children:i}=n;t>0&&e instanceof nr&&i.length&&(r=i[i.length-1])instanceof nr&&r.mark.eq(e.mark)?g1(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function v1(n,e,t){let r=null,i=-1,s=null,a=-1;function o(c,u){for(let f=0,h=0;f<c.children.length&&h<=u;f++){let p=c.children[f],g=h+p.length;g>=u&&(p.children.length?o(p,u-h):(!s||s.isHidden&&t>0)&&(g>u||h==g&&p.getSide()>0)?(s=p,a=u-h):(h<u||h==g&&p.getSide()<0&&!p.isHidden)&&(r=p,i=u-h)),h=g}}o(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:a),t):QD(n)}function QD(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Fi(e);return t[t.length-1]||null}function Yd(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Kp=Object.create(null);function sh(n,e,t){if(n==e)return!0;n||(n=Kp),e||(e=Kp);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function Jd(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function eR(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class sr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}destroy(e){}}var Ge=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Ge||(Ge={}));class le extends Zr{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new la(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Er(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=b1(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(a?t?2e8:1:-6e8)+1}return new Er(e,r,i,t,e.widget||null,!0)}static line(e){return new ca(e)}static set(e,t=!1){return Pe.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}le.none=Pe.empty;class la extends le{constructor(e){let{start:t,end:r}=b1(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof la&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&sh(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}la.prototype.point=!1;class ca extends le{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ca&&this.spec.class==e.spec.class&&sh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ca.prototype.mapMode=kt.TrackBefore;ca.prototype.point=!0;class Er extends le{constructor(e,t,r,i,s,a){super(t,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?t<=0?kt.TrackBefore:kt.TrackAfter:kt.TrackDel}get type(){return this.startSide<this.endSide?Ge.WidgetRange:this.startSide<=0?Ge.WidgetBefore:Ge.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Er&&tR(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Er.prototype.point=!0;function b1(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function tR(n,e){return n==e||!!(n&&e&&n.compare(e))}function Xd(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class jt extends Fe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,a){if(r){if(!(r instanceof jt))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),d1(this,e,t,r?r.children:[],s,a),!0}split(e){let t=new jt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){sh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){g1(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Yd(t,this.attrs||{})),r&&(this.attrs=Yd({class:r},this.attrs||{}))}domAtPos(e){return m1(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(o1(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Jd(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Fe.get(i)instanceof nr;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Fe.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!X.ios||!this.children.some(s=>s instanceof Gn))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Gn)||/[^ -~]/.test(r.text))return null;let i=Fi(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=v1(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let a=(s-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return Ge.Text}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],a=i+s.length;if(a>=t){if(s instanceof jt)return s;if(a>t)break}i=a+s.breakAfter}return null}}class Wr extends Fe{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,a){return r&&(!(r instanceof Wr)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Bt.before(this.dom):Bt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Wr(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return ih}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ke.empty}domBoundsAround(){return null}become(e){return e instanceof Wr&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Is{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Wr&&e.type==Ge.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new jt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ta(new Hi(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Ta(new Gn(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Er){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(r instanceof Er)if(r.block){let{type:l}=r;l==Ge.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Wr(r.widget||new Zp("div"),o,l))}else{let l=br.create(r.widget||new Zp("span"),o,o?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(Ta(new Hi(1),i),s),s=i.length+Math.max(0,s-i.length)),f.append(Ta(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let a=new Is(e,t,r,s);return a.openEnd=Pe.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Ta(n,e){for(let t of e)n=new nr(t,[n],n.length);return n}class Zp extends sr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const x1=J.define(),y1=J.define(),w1=J.define(),S1=J.define(),Qd=J.define(),k1=J.define(),C1=J.define(),A1=J.define({combine:n=>n.some(e=>e)}),M1=J.define({combine:n=>n.some(e=>e)});class yc{constructor(e,t="nearest",r="nearest",i=5,s=5){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new yc(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Yp=pe.define({map:(n,e)=>n.map(e)});function mn(n,e,t){let r=n.facet(S1);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const su=J.define({combine:n=>n.length?n[0]:!0});let nR=0;const gs=J.define();class it{constructor(e,t,r,i){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}static define(e,t){const{eventHandlers:r,provide:i,decorations:s}=t||{};return new it(nR++,e,r,a=>{let o=[gs.of(a)];return s&&o.push(Hs.of(l=>{let c=l.plugin(a);return c?s(c):le.none})),i&&o.push(i(a)),o})}static fromClass(e,t){return it.define(r=>new e(r),t)}}class zu{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(mn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){mn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){mn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const I1=J.define(),ah=J.define(),Hs=J.define(),oh=J.define(),E1=J.define();function Jp(n,e,t){let r=n.state.facet(E1);if(!r.length)return r;let i=r.map(a=>a instanceof Function?a(n):a),s=[];return Pe.spans(i,e,t,{point(){},span(a,o,l,c){let u=s;for(let f=l.length-1;f>=0;f--,c--){let h=l[f].spec.bidiIsolate,p;if(h!=null)if(c>0&&u.length&&(p=u[u.length-1]).to==a&&p.direction==h)p.to=o,u=p.inner;else{let g={from:a,to:o,direction:h,inner:[]};u.push(g),u=g.inner}}}}),s}const D1=J.define();function R1(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(D1)){let a=s(n);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:t,top:r,bottom:i}}const vs=J.define();class gn{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new gn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,a=0,o=0;;i++){let l=i==e.length?null:e[i],c=a-o,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let f=t[s],h=t[s+1],p=Math.max(o,f),g=Math.min(u,h);if(p<=g&&new gn(p+c,g+c,p,g).addToSet(r),h>u)break;s+=2}if(!l)return r;new gn(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,o=l.toB}}}class wc{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ct.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,o,l)=>i.push(new gn(s,a,o,l))),this.changedRanges=i}static create(e,t,r){return new wc(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var qe=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(qe||(qe={}));const Vs=qe.LTR,O1=qe.RTL;function T1(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const rR=T1("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),iR=T1("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ef=Object.create(null),Tn=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);ef[e]=t,ef[t]=-e}function sR(n){return n<=247?rR[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?iR[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const aR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xr{get dir(){return this.level%2?O1:Vs}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,i){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==r)return a;(s<0||(i!=0?i<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function N1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!N1(r.inner,i.inner))return!1}return!0}const je=[];function oR(n,e,t,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:e,o=s<r.length?r[s].from:t,l=s?256:i;for(let c=a,u=l,f=l;c<o;c++){let h=sR(n.charCodeAt(c));h==512?h=u:h==8&&f==4&&(h=16),je[c]=h==4?2:h,h&7&&(f=h),u=h}for(let c=a,u=l,f=l;c<o;c++){let h=je[c];if(h==128)c<o-1&&u==je[c+1]&&u&24?h=je[c]=u:je[c]=256;else if(h==64){let p=c+1;for(;p<o&&je[p]==64;)p++;let g=c&&u==8||p<t&&je[p]==8?f==1?1:8:256;for(let m=c;m<p;m++)je[m]=g;c=p-1}else h==8&&f==1&&(je[c]=1);u=h,h&7&&(f=h)}}}function lR(n,e,t,r,i){let s=i==1?2:1;for(let a=0,o=0,l=0;a<=r.length;a++){let c=a?r[a-1].to:e,u=a<r.length?r[a].from:t;for(let f=c,h,p,g;f<u;f++)if(p=ef[h=n.charCodeAt(f)])if(p<0){for(let m=o-3;m>=0;m-=3)if(Tn[m+1]==-p){let v=Tn[m+2],b=v&2?i:v&4?v&1?s:i:0;b&&(je[f]=je[Tn[m]]=b),o=m;break}}else{if(Tn.length==189)break;Tn[o++]=f,Tn[o++]=h,Tn[o++]=l}else if((g=je[f])==2||g==1){let m=g==i;l=m?0:1;for(let v=o-3;v>=0;v-=3){let b=Tn[v+2];if(b&2)break;if(m)Tn[v+2]|=2;else{if(b&4)break;Tn[v+2]|=4}}}}}function cR(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let a=i?t[i-1].to:n,o=i<t.length?t[i].from:e;for(let l=a;l<o;){let c=je[l];if(c==256){let u=l+1;for(;;)if(u==o){if(i==t.length)break;u=t[i++].to,o=i<t.length?t[i].from:e}else if(je[u]==256)u++;else break;let f=s==1,h=(u<e?je[u]:r)==1,p=f==h?f?1:2:r;for(let g=u,m=i,v=m?t[m-1].to:n;g>l;)g==v&&(g=t[--m].from,v=m?t[m-1].to:n),je[--g]=p;l=u}else s=c,l++}}}function tf(n,e,t,r,i,s,a){let o=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,f=!1;if(c==s.length||l<s[c].from){let m=je[l];m!=o&&(u=!1,f=m==16)}let h=!u&&o==1?[]:null,p=u?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(f)break e;let m=s[c];if(!u)for(let v=m.to,b=c+1;;){if(v==t)break e;if(b<s.length&&s[b].from==v)v=s[b++].to;else{if(je[v]==o)break e;break}}if(c++,h)h.push(m);else{m.from>l&&a.push(new xr(l,m.from,p));let v=m.direction==Vs!=!(p%2);nf(n,v?r+1:r,i,m.inner,m.from,m.to,a),l=m.to}g=m.to}else{if(g==t||(u?je[g]!=o:je[g]==o))break;g++}h?tf(n,l,g,r+1,i,h,a):l<g&&a.push(new xr(l,g,p)),l=g}else for(let l=t,c=s.length;l>e;){let u=!0,f=!1;if(!c||l>s[c-1].to){let m=je[l-1];m!=o&&(u=!1,f=m==16)}let h=!u&&o==1?[]:null,p=u?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(f)break e;let m=s[--c];if(!u)for(let v=m.from,b=c;;){if(v==e)break e;if(b&&s[b-1].to==v)v=s[--b].from;else{if(je[v-1]==o)break e;break}}if(h)h.push(m);else{m.to<l&&a.push(new xr(m.to,l,p));let v=m.direction==Vs!=!(p%2);nf(n,v?r+1:r,i,m.inner,m.from,m.to,a),l=m.from}g=m.from}else{if(g==e||(u?je[g-1]!=o:je[g-1]==o))break;g--}h?tf(n,g,l,r+1,i,h,a):g<l&&a.push(new xr(g,l,p)),l=g}}function nf(n,e,t,r,i,s,a){let o=e%2?2:1;oR(n,i,s,r,o),lR(n,i,s,r,o),cR(i,s,r,o),tf(n,i,s,e,t,r,a)}function uR(n,e,t){if(!n)return[new xr(0,0,e==O1?1:0)];if(e==Vs&&!t.length&&!aR.test(n))return P1(n.length);if(t.length)for(;n.length>je.length;)je[je.length]=256;let r=[],i=e==Vs?0:1;return nf(n,i,i,t,0,n.length,r),r}function P1(n){return[new xr(0,n,0)]}let L1="";function dR(n,e,t,r,i){var s;let a=r.head-n.from,o=-1;if(a==0){if(!i||!n.length)return null;e[0].level!=t&&(a=e[0].side(!1,t),o=0)}else if(a==n.length){if(i)return null;let h=e[e.length-1];h.level!=t&&(a=h.side(!0,t),o=e.length-1)}o<0&&(o=xr.find(e,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[o];a==l.side(i,t)&&(l=e[o+=i?1:-1],a=l.side(!i,t));let c=i==(l.dir==t),u=Et(n.text,a,c);if(L1=n.text.slice(Math.min(a,u),Math.max(a,u)),u!=l.side(i,t))return B.cursor(u+n.from,c?-1:1,l.level);let f=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return!f&&l.level!=t?B.cursor(i?n.to:n.from,i?-1:1,t):f&&f.level<l.level?B.cursor(f.side(!i,t)+n.from,i?1:-1,f.level):B.cursor(u+n.from,i?-1:1,l.level)}class Xp extends Fe{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new jt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new gn(0,0,0,e.state.doc.length)],0,null)}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:l})=>l<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=this.view.inputState.composing<0?null:hR(this.view,e.changes);if(this.hasComposition){this.markedForComposition.clear();let{from:o,to:l}=this.hasComposition;t=new gn(o,l,e.changes.mapPos(o,-1),e.changes.mapPos(l,1)).addToSet(t.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(X.ie||X.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,s=this.updateDeco(),a=gR(i,s,e.changes);return t=gn.extendWithRanges(t,a),!(this.flags&7)&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=X.chrome||X.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Wr&&a.widget instanceof Qp&&s.push(a.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let a=i.length-1;;a--){let o=a>=0?i[a]:null;if(!o)break;let{fromA:l,toA:c,fromB:u,toB:f}=o,h,p,g,m;if(r&&r.range.fromB<f&&r.range.toB>u){let S=Is.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),k=Is.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);p=S.breakAtStart,g=S.openStart,m=k.openEnd;let A=this.compositionView(r);k.breakAtStart?A.breakAfter=1:k.content.length&&A.merge(A.length,A.length,k.content[0],!1,k.openStart,0)&&(A.breakAfter=k.content[0].breakAfter,k.content.shift()),S.content.length&&A.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),h=S.content.concat(A).concat(k.content)}else({content:h,breakAtStart:p,openStart:g,openEnd:m}=Is.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:b}=s.findPos(c,1),{i:x,off:w}=s.findPos(l,-1);u1(this,x,w,v,b,h,p,g,m)}r&&this.fixCompositionDOM(r)}compositionView(e){let t=new Gn(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new nr(i,[t],t.length);let r=new jt;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,a)=>{a.flags|=8,this.markedForComposition.add(a);let o=Fe.get(s);o!=a&&(o&&(o.dom=null),a.setDOM(s))},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&Wl(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.domAtPos(o.anchor),c=o.empty?l:this.domAtPos(o.head);if(X.gecko&&o.empty&&!this.hasComposition&&fR(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new Bt(f,0),a=!0}let u=this.view.observer.selectionRange;(a||!u.focusNode||!bc(l.node,l.offset,u.anchorNode,u.anchorOffset)||!bc(c.node,c.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{X.android&&X.chrome&&this.dom.contains(u.focusNode)&&vR(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=vc(this.view.root);if(f)if(o.empty){if(X.gecko){let h=pR(l.node,l.offset);if(h&&h!=3){let p=j1(l.node,l.offset,h==1?1:-1);p&&(l=new Bt(p,h==1?0:p.nodeValue.length))}}f.collapse(l.node,l.offset),o.bidiLevel!=null&&u.caretBidiLevel!=null&&(u.caretBidiLevel=o.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let h=document.createRange();o.anchor>o.head&&([l,c]=[c,l]),h.setEnd(c.node,c.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Bt(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Bt(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=vc(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let a=jt.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=t.from&&r.collapse(i,s)}nearest(e){for(let t=e;t;){let r=Fe.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof jt)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],a=r-s.breakAfter-s.length;if(e>a||e==a&&s.type!=Ge.WidgetBefore&&s.type!=Ge.WidgetAfter&&(!i||t==2||this.children[i-1].breakAfter||this.children[i-1].type==Ge.WidgetBefore&&t>-2))return s.coordsAt(e-a,t);r=a}}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof jt))return null;for(;i.children.length;){let{i:o,off:l}=i.childPos(r,1);for(;;o++){if(o==i.children.length)return null;if((i=i.children[o]).length)break}r=l}if(!(i instanceof Gn))return null;let s=Et(i.text,r);if(s==r)return null;let a=Yr(i.dom,r,s).getClientRects();return!a.length||a[0].top>=a[0].bottom?null:a[0]}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==qe.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>i)break;if(c>=r){let p=f.dom.getBoundingClientRect();if(t.push(p.height),a){let g=f.dom.lastChild,m=g?Fi(g):[];if(m.length){let v=m[m.length-1],b=l?v.right-p.left:p.right-v.left;b>o&&(o=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?qe.RTL:qe.LTR}measureTextSize(){for(let s of this.children)if(s instanceof jt){let a=s.measureTextSize();if(a)return a}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Fi(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new c1(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],a=s?s.from-1:this.length;if(a>r){let o=t.lineBlockAt(a).bottom-t.lineBlockAt(r).top;e.push(le.replace({widget:new Qp(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return le.set(e)}updateDeco(){let e=this.view.state.facet(Hs).map((t,r)=>(this.dynamicDecorationMap[r]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=R1(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom};WD(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==qe.LTR)}}function fR(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Qp extends sr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function _1(n){let e=n.observer.selectionRange,t=e.focusNode&&j1(e.focusNode,e.focusOffset,0);if(!t)return null;let r=Fe.get(t),i,s;if(r instanceof Gn)i=r.posAtStart,s=i+r.length;else e:for(let a=0,o=t;;){for(let c=o.previousSibling,u;c;c=c.previousSibling){if(u=Fe.get(c)){i=s=u.posAtEnd+a;break e}let f=new f1([],n.state);if(f.readNode(c),f.text.indexOf(Ci)>-1)return null;a+=f.text.length}if(o=o.parentNode,!o)return null;let l=Fe.get(o);if(l){i=s=l.posAtStart+a;break}}return{from:i,to:s,node:t}}function hR(n,e){let t=_1(n);if(!t)return null;let{from:r,to:i,node:s}=t,a=e.mapPos(r,-1),o=e.mapPos(i,1),l=s.nodeValue;if(/[\n\r]/.test(l))return null;if(o-a!=l.length){let h=e.mapPos(r,1),p=e.mapPos(i,-1);if(p-h==l.length)a=h,o=p;else if(n.state.doc.sliceString(o-l.length,o)==l)a=o-l.length;else if(n.state.doc.sliceString(a,a+l.length)==l)o=a+l.length;else return null}let{main:c}=n.state.selection;if(n.state.doc.sliceString(a,o)!=l||a>c.head||o<c.head)return null;let u=[],f=new gn(r,i,a,o);for(let h=s.parentNode;;h=h.parentNode){let p=Fe.get(h);if(p instanceof nr)u.push({node:h,deco:p.mark});else{if(p instanceof jt||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:f,text:s,marks:u,line:h};if(h!=n.contentDOM)u.push({node:h,deco:new la({inclusive:!0,attributes:eR(h),tagName:h.tagName.toLowerCase()})});else return null}}}function j1(n,e,t){if(t<=0)for(let r=n,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=Ir(r);else break}if(t>=0)for(let r=n,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&t>=0)r=r.childNodes[i],i=0;else break}return null}function pR(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let mR=class{constructor(){this.changes=[]}compareRange(e,t){Xd(e,t,this.changes)}comparePoint(e,t){Xd(e,t,this.changes)}};function gR(n,e,t){let r=new mR;return Pe.compare(n,e,t,r),r.changes}function vR(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function bR(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return B.cursor(e);s==0?t=1:s==i.length&&(t=-1);let a=s,o=s;t<0?a=Et(i.text,s,!1):o=Et(i.text,s);let l=r(i.text.slice(a,o));for(;a>0;){let c=Et(i.text,a,!1);if(r(i.text.slice(c,a))!=l)break;a=c}for(;o<i.length;){let c=Et(i.text,o);if(r(i.text.slice(o,c))!=l)break;o=c}return B.range(a+i.from,o+i.from)}function xR(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function yR(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Wu(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function em(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function tm(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function rf(n,e,t){let r,i,s,a,o=!1,l,c,u,f;for(let g=n.firstChild;g;g=g.nextSibling){let m=Fi(g);for(let v=0;v<m.length;v++){let b=m[v];i&&Wu(i,b)&&(b=em(tm(b,i.bottom),i.top));let x=xR(e,b),w=yR(t,b);if(x==0&&w==0)return g.nodeType==3?nm(g,e,t):rf(g,e,t);if(!r||a>w||a==w&&s>x){r=g,i=b,s=x,a=w;let S=w?t<b.top?-1:1:x?e<b.left?-1:1:0;o=!S||(S>0?v<m.length-1:v>0)}x==0?t>b.bottom&&(!u||u.bottom<b.bottom)?(l=g,u=b):t<b.top&&(!f||f.top>b.top)&&(c=g,f=b):u&&Wu(u,b)?u=tm(u,b.bottom):f&&Wu(f,b)&&(f=em(f,b.top))}}if(u&&u.bottom>=t?(r=l,i=u):f&&f.top<=t&&(r=c,i=f),!r)return{node:n,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return nm(r,h,t);if(o&&r.contentEditable!="false")return rf(r,h,t);let p=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:p}}function nm(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,a=0;for(let o=0;o<r;o++){let l=Yr(n,o,o+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;a||(a=e-u.left);let f=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<s){let h=e>=(u.left+u.right)/2,p=h;if((X.chrome||X.gecko)&&Yr(n,o).getBoundingClientRect().left==u.right&&(p=!h),f<=0)return{node:n,offset:o+(p?1:0)};i=o+(p?1:0),s=f}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function B1(n,e,t,r=-1){var i,s;let a=n.contentDOM.getBoundingClientRect(),o=a.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:f}=e,h=f-o;if(h<0)return 0;if(h>c)return n.state.doc.length;for(let S=n.viewState.heightOracle.textHeight/2,k=!1;l=n.elementAtHeight(h),l.type!=Ge.Text;)for(;h=r>0?l.bottom+S:l.top-S,!(h>=0&&h<=c);){if(k)return t?null:0;k=!0,r=-r}f=o+h;let p=l.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:rm(n,a,l,u,f);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:rm(n,a,l,u,f);let g=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:g,v=m.elementFromPoint(u,f);v&&!n.contentDOM.contains(v)&&(v=null),v||(u=Math.max(a.left+1,Math.min(a.right-1,u)),v=m.elementFromPoint(u,f),v&&!n.contentDOM.contains(v)&&(v=null));let b,x=-1;if(v&&((i=n.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let S=g.caretPositionFromPoint(u,f);S&&({offsetNode:b,offset:x}=S)}else if(g.caretRangeFromPoint){let S=g.caretRangeFromPoint(u,f);S&&({startContainer:b,startOffset:x}=S,(!n.contentDOM.contains(b)||X.safari&&wR(b,x,u)||X.chrome&&SR(b,x,u))&&(b=void 0))}}if(!b||!n.docView.dom.contains(b)){let S=jt.find(n.docView,p);if(!S)return h>l.top+l.height/2?l.to:l.from;({node:b,offset:x}=rf(S.dom,u,f))}let w=n.docView.nearest(b);if(!w)return null;if(w.isWidget&&((s=w.dom)===null||s===void 0?void 0:s.nodeType)==1){let S=w.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?w.posAtStart:w.posAtEnd}else return w.localPosFromDOM(b,x)+w.posAtStart}function rm(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-o)*.5)/o);s+=l*n.viewState.heightOracle.lineLength}let a=n.state.sliceDoc(t.from,t.to);return t.from+Ud(a,s,n.state.tabSize)}function wR(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Yr(n,r-1,r).getBoundingClientRect().left>t}function SR(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Yr(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function sf(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Ge.Text))return r}return t}function kR(n,e,t,r){let i=sf(n,e.head),s=!r||i.type!=Ge.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let a=n.dom.getBoundingClientRect(),o=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(o==qe.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(l!=null)return B.cursor(l,t?-1:1)}return B.cursor(t?i.to:i.from,t?-1:1)}function im(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),a=n.textDirectionAt(i.from);for(let o=e,l=null;;){let c=dR(i,s,a,o,t),u=L1;if(!c){if(i.number==(t?n.state.doc.lines:1))return o;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),c=B.cursor(t?i.from:i.to)}if(l){if(!l(u))return o}else{if(!r)return c;l=r(u)}o=c}}function CR(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let a=r(s);return i==Ue.Space&&(i=a),i==a}}function AR(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return B.cursor(i,e.assoc);let a=e.goalColumn,o,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i),u=n.documentTop;if(c)a==null&&(a=c.left-l.left),o=s<0?c.top:c.bottom;else{let p=n.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-p.from))),o=(s<0?p.top:p.bottom)+u}let f=l.left+a,h=r??n.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=o+(h+p)*s,m=B1(n,{x:f,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?m<i:m>i))return B.cursor(m,e.assoc,void 0,a)}}function ql(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,a,o)=>{if(e>s&&e<a){let l=r||t||(e-s<a-e?-1:1);e=l<0?s:a,r=l}});if(!r)return e}}function qu(n,e,t){let r=ql(n.state.facet(oh).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:B.cursor(r,r<t.from?1:-1)}class MR{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in rt){let i=rt[r];e.contentDOM.addEventListener(r,s=>{sm(e,s)&&t(i,s)},af[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(rt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(rt.drop,r)}),X.chrome&&X.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,X.safari&&e.contentDOM.addEventListener("input",()=>null)}ensureHandlers(e,t){var r;let i;this.customHandlers=[];for(let s of t)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&a!="scroll"&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,o=>{sm(e,o)&&this.runCustomHandlers(a,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,t,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,t)||r.defaultPrevented)return!0}catch(a){mn(t.state,a)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,t,e)}catch(s){mn(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&F1.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),X.android&&X.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return X.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((r=$1.find(i=>i.keyCode==t.keyCode))&&!t.ctrlKey||IR.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Li(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:X.safari&&!X.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const $1=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],IR="dthko",F1=[16,17,18,20,91,92,224,225],Na=6;function Pa(n){return Math.max(0,n)*.7+8}function ER(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class DR{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=qD(e.contentDOM),this.atoms=e.state.facet(oh).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ye.allowMultipleSelections)&&RR(e,t),this.dragging=TR(e,t)&&z1(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&ER(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,i=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=R1(this.view);e.clientX-a.left<=s.left+Na?r=-Pa(s.left-e.clientX):e.clientX+a.right>=s.right-Na&&(r=Pa(e.clientX-s.right)),e.clientY-a.top<=s.top+Na?i=-Pa(s.top-e.clientY):e.clientY+a.bottom>=s.bottom-Na&&(i=Pa(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let a=ql(this.atoms,i.from,0);a!=i.from&&(s=B.cursor(a,-1))}else{let a=ql(this.atoms,i.from,-1),o=ql(this.atoms,i.to,1);(a!=i.from||o!=i.to)&&(s=B.range(i.from==i.anchor?a:o,i.from==i.head?a:o))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?B.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection)||r.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function RR(n,e){let t=n.state.facet(x1);return t.length?t[0](e):X.mac?e.metaKey:e.ctrlKey}function OR(n,e){let t=n.state.facet(y1);return t.length?t[0](e):X.mac?!e.altKey:!e.ctrlKey}function TR(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=vc(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function sm(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Fe.get(t))&&r.ignoreEvent(e))return!1;return!0}const rt=Object.create(null),af=Object.create(null),H1=X.ie&&X.ie_version<15||X.ios&&X.webkit_version<604;function NR(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),V1(n,t.value)},50)}function V1(n,e){let{state:t}=n,r,i=1,s=t.toText(e),a=s.lines==t.selection.ranges.length;if(of!=null&&t.selection.ranges.every(l=>l.empty)&&of==s.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=t.toText((a?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:f},range:B.cursor(c.from+f.length)}})}else a?r=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:B.cursor(l.from+c.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}rt.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now())};rt.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};rt.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};af.touchstart=af.touchmove={passive:!0};rt.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of n.state.facet(w1))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=_R(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new DR(n,e,t,r)),r&&n.observer.ignore(()=>a1(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};function am(n,e,t,r){if(r==1)return B.cursor(e,t);if(r==2)return bR(n.state,e,t);{let i=jt.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:s.from,o=i?i.posAtEnd:s.to;return o<n.state.doc.length&&o==s.to&&o++,B.range(a,o)}}let U1=(n,e)=>n>=e.top&&n<=e.bottom,om=(n,e,t)=>U1(e,t)&&n>=t.left&&n<=t.right;function PR(n,e,t,r){let i=jt.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let a=i.coordsAt(s,-1);if(a&&om(t,r,a))return-1;let o=i.coordsAt(s,1);return o&&om(t,r,o)?1:a&&U1(r,a)?-1:1}function lm(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:PR(n,t,e.clientX,e.clientY)}}const LR=X.ie&&X.ie_version<=11;let cm=null,um=0,dm=0;function z1(n){if(!LR)return n.detail;let e=cm,t=dm;return cm=n,dm=Date.now(),um=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(um+1)%3:1}function _R(n,e){let t=lm(n,e),r=z1(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,a,o){let l=lm(n,s),c,u=am(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!a){let f=am(n,t.pos,t.bias,r),h=Math.min(f.from,u.from),p=Math.max(f.to,u.to);u=h<u.from?B.range(h,p):B.range(p,h)}return a?i.replaceRange(i.main.extend(u.from,u.to)):o&&r==1&&i.ranges.length>1&&(c=jR(i,l.pos))?c:o?i.addRange(u):B.create([u])}}}function jR(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return B.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}rt.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:r}=n.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function fm(n,e,t,r){if(!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,a=r&&s&&s.dragging&&OR(n,e)?{from:s.dragging.from,to:s.dragging.to}:null,o={from:i,insert:t},l=n.state.changes(a?[a,o]:o);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}rt.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),i=0,s=()=>{++i==t.length&&fm(n,e,r.filter(a=>a!=null).join(n.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),s()},o.readAsText(t[a])}}else fm(n,e,e.dataTransfer.getData("Text"),!0)};rt.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=H1?null:e.clipboardData;t?(V1(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):NR(n)};function BR(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function $R(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let a=n.doc.lineAt(s);a.number>i&&(e.push(a.text),t.push({from:a.from,to:Math.min(n.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:r}}let of=null;rt.copy=rt.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=$R(n.state);if(!t&&!i)return;of=i?t:null;let s=H1?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):BR(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const W1=Zn.define();function q1(n,e){let t=[];for(let r of n.facet(C1)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:W1.of(!0)}):null}function G1(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=q1(n.state,e);t?n.dispatch(t):n.update([])}},10)}rt.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),G1(n)};rt.blur=n=>{n.observer.clearSelectionRange(),G1(n)};rt.compositionstart=rt.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};rt.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,X.chrome&&X.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};rt.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};rt.beforeinput=(n,e)=>{var t;let r;if(X.chrome&&X.android&&(r=$1.find(i=>i.inputType==e.inputType))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const hm=["pre-wrap","normal","pre-line","break-spaces"];class FR{constructor(e){this.lineWrapping=e,this.doc=ke.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return hm.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,a){let o=hm.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<a.length;c++){let u=a[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class HR{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Fn{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Ge.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Er?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Fn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var He=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(He||(He={}));const Gl=.001;class $t{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Gl&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return $t.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,a=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:l,toA:c,fromB:u,toB:f}=i[o],h=s.lineAt(l,He.ByPosNoHeight,r.setDoc(t),0,0),p=h.to>=c?h:s.lineAt(c,He.ByPosNoHeight,r,0,0);for(f+=p.to-c,c=p.to;o>0&&h.from<=i[o-1].toA;)l=i[o-1].fromA,u=i[o-1].fromB,o--,l<h.from&&(h=s.lineAt(l,He.ByPosNoHeight,r,0,0));u+=h.from-l,l=h.from;let g=lh.build(r.setDoc(a),e,u,f);s=s.replace(l,c,g)}return s.updateHeight(r,0)}static empty(){return new en(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(s>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,s-=o.size}else break;else if(i<s){let o=e[t++];o&&(i+=o.size)}else{let o=e[--r];o&&(s+=o.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,r++),new VR($t.of(e.slice(0,t)),a,$t.of(e.slice(r)))}}$t.prototype.size=1;class K1 extends $t{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Fn(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class en extends K1{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Fn(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof en||i instanceof xt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof xt?i=new en(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):$t.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class xt extends $t{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);a=l/s,this.length>s+1&&(o=(this.height-l)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:o}}blockAt(e,t,r,i){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),u=t.doc.lineAt(c),f=o+u.length*l,h=Math.max(r,e-f/2);return new Fn(u.from,u.length,h,f,0)}else{let c=Math.max(0,Math.min(a-s,Math.floor((e-r)/o))),{from:u,length:f}=t.doc.line(s+c);return new Fn(u,f,r+o*c,o,0)}}lineAt(e,t,r,i,s){if(t==He.ByHeight)return this.blockAt(e,r,i,s);if(t==He.ByPosNoHeight){let{from:p,to:g}=r.doc.lineAt(e);return new Fn(p,g-p,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=o+c.length*l,f=c.number-a,h=i+o*f+l*(c.from-s-f);return new Fn(c.from,c.length,Math.max(i,Math.min(h,i+this.height-u)),u,0)}forEachLine(e,t,r,i,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,f=i;u<=t;){let h=r.doc.lineAt(u);if(u==e){let g=h.number-o;f+=l*g+c*(e-s-g)}let p=l+c*h.length;a(new Fn(h.from,h.length,f,p,0)),f+=p,u=h.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof xt?r[r.length-1]=new xt(s.length+i):r.push(null,new xt(i-1))}if(e>0){let s=r[0];s instanceof xt?r[0]=new xt(e+s.length):r.unshift(new xt(e-1),null)}return $t.of(r)}decomposeLeft(e,t){t.push(new xt(e-1),null)}decomposeRight(e,t){t.push(null,new xt(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let a=[],o=Math.max(t,i.from),l=-1;for(i.from>t&&a.push(new xt(i.from-t-1).updateHeight(e,t));o<=s&&i.more;){let u=e.doc.lineAt(o).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=Gl&&(l=-2);let h=new en(u,f);h.outdated=!1,a.push(h),o+=u+1}o<=s&&a.push(null,new xt(s-o).updateHeight(e,o));let c=$t.of(a);return(l<0||Math.abs(c.height-this.height)>=Gl||Math.abs(l-this.heightMetrics(e,t).perLine)>=Gl)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class VR extends $t{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let a=i+this.left.height,o=s+this.left.length+this.break,l=t==He.ByHeight?e<a:e<o,c=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,a,o);if(this.break||(l?c.to<o:c.from>o))return c;let u=t==He.ByPosNoHeight?He.ByPosNoHeight:He.ByPos;return l?c.join(this.right.lineAt(o,u,r,a,o)):this.left.lineAt(o,u,r,i,s).join(c)}forEachLine(e,t,r,i,s,a){let o=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,a),t>=l&&this.right.forEachLine(e,t,r,o,l,a);else{let c=this.lineAt(l,He.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,a),c.to>=e&&c.from<=t&&a(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,o,l,a)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of r)s.push(o);if(e>0&&pm(s,a-1),t<this.length){let o=s.length;this.decomposeRight(t,s),pm(s,o)}return $t.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?$t.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:a}=this,o=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=o+a.length&&i.more?l=a=a.updateHeight(e,o,r,i):a.updateHeight(e,o,r),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function pm(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof xt&&(r=n[e+1])instanceof xt&&n.splice(e-1,3,new xt(t.length+1+r.length))}const UR=5;class lh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof en?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new en(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=t-e;r.block?this.addBlock(new K1(a,i,r)):(a||s||i>=UR)&&this.addLineDeco(i,s,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new en(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new xt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof en)return e;let t=new en(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let r=(t=e.deco)===null||t===void 0?void 0:t.type;r==Ge.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=Ge.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof en)&&!this.isCovered?this.nodes.push(new en(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof en&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new lh(r,e);return Pe.spans(t,r,i,s,0),s.finish(r)}}function zR(n,e,t){let r=new WR;return Pe.compare(n,e,t,r,0),r.changes}class WR{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Xd(e,t,this.changes,5)}}function qR(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();s=Math.max(s,h.left),a=Math.min(a,h.right),o=Math.max(o,h.top),l=c==n.parentNode?h.bottom:Math.min(l,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,a)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function GR(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Gu{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return le.replace({widget:new KR(this.size,e)}).range(this.from,this.to)}}class KR extends sr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class mm{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=gm,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qe.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(ah).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new FR(t),this.stateDeco=e.facet(Hs).filter(r=>typeof r!="function"),this.heightMap=$t.empty().applyChanges(this.stateDeco,ke.empty,this.heightOracle.setDoc(e.doc),[new gn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=le.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new La(s,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?gm:new JR(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:bs(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Hs).filter(u=>typeof u!="function");let i=e.changedRanges,s=gn.extendWithRanges(i,zR(r,this.stateDeco,e?e.changes:ct.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(M1)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?qe.RTL:qe.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=t.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(r.paddingTop)||0,h=parseInt(r.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=l1(e.scrollDOM);let p=(this.printing?GR:qR)(t,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=o.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(a=!0),a||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:k,textHeight:A}=e.docView.measureTextSize();a=S>0&&i.refresh(s,S,k,A,b/k,w),a&&(e.docView.minWidth=0,c|=8)}g>0&&m>0?u=Math.max(g,m):g<0&&m<0&&(u=Math.min(g,m)),i.heightChanged=!1;for(let S of this.viewports){let k=S.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(S);this.heightMap=(a?$t.empty().applyChanges(this.stateDeco,ke.empty,this.heightOracle,[new gn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new HR(S.from,k))}i.heightChanged&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new La(i.lineAt(a-r*1e3,He.ByHeight,s,0,0).from,i.lineAt(o+(1-r)*1e3,He.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,He.ByPos,s,0,0),h;t.y=="center"?h=(f.top+f.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?h=f.top:h=f.bottom-u,l=new La(i.lineAt(h-1e3/2,He.ByHeight,s,0,0).from,i.lineAt(h+u+1e3/2,He.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new La(this.heightMap.lineAt(r,He.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,He.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,He.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,He.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Gu(t.mapPos(i.from),t.mapPos(i.to),i.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=qe.LTR&&!r)return[];let o=[],l=(c,u,f,h)=>{if(u-c<s)return;let p=this.state.selection.main,g=[p.from];p.empty||g.push(p.to);for(let v of g)if(v>c&&v<u){l(c,v-10,f,h),l(v+10,u,f,h);return}let m=YR(e,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-u)<s&&!g.some(b=>v.from<b&&v.to>b));if(!m){if(u<f.to&&t&&r&&t.visibleRanges.some(v=>v.from<=u&&v.to>=u)){let v=t.moveToLineBoundary(B.cursor(u),!1,!0).head;v>c&&(u=v)}m=new Gu(c,u,this.gapSize(f,c,u,h))}o.push(m)};for(let c of this.viewportLines){if(c.length<a)continue;let u=ZR(c.from,c.to,this.stateDeco);if(u.total<a)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,v;if(f!=null){let b=ja(u,f),x=((this.visibleBottom-this.visibleTop)/2+g)/c.height;m=b-x,v=b+x}else m=(this.visibleTop-c.top-g)/c.height,v=(this.visibleBottom-c.top+g)/c.height;h=_a(u,m),p=_a(u,v)}else{let g=u.total*this.heightOracle.charWidth,m=i*this.heightOracle.charWidth,v,b;if(f!=null){let x=ja(u,f),w=((this.pixelViewport.right-this.pixelViewport.left)/2+m)/g;v=x-w,b=x+w}else v=(this.pixelViewport.left-m)/g,b=(this.pixelViewport.right+m)/g;h=_a(u,v),p=_a(u,b)}h>c.from&&l(c.from,h,c,u),p<c.to&&l(p,c.to,c,u)}return o}gapSize(e,t,r,i){let s=ja(i,r)-ja(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Gu.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=le.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Pe.spans(e,this.viewport.from,this.viewport.to,{span(i,s){t.push({from:i,to:s})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=t[s].from||i.to!=t[s].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||bs(this.heightMap.lineAt(e,He.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return bs(this.heightMap.lineAt(this.scaler.fromDOM(e),He.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return bs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class La{constructor(e,t){this.from=e,this.to=t}}function ZR(n,e,t){let r=[],i=n,s=0;return Pe.spans(t,n,e,{span(){},point(a,o){a>i&&(r.push({from:i,to:a}),s+=a-i),i=o}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function _a({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:a}=e[i],o=a-s;if(r<=o)return s+r;r-=o}}function ja(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function YR(n,e){for(let t of n)if(e(t))return t}const gm={toDOM(n){return n},fromDOM(n){return n},scale:1};class JR{constructor(e,t,r){let i=0,s=0,a=0;this.viewports=r.map(({from:o,to:l})=>{let c=t.lineAt(o,He.ByPos,e,0,0).top,u=t.lineAt(l,He.ByPos,e,0,0).bottom;return i+=u-c,{from:o,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function bs(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Fn(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>bs(i,e)):n._content)}const Ba=J.define({combine:n=>n.join(" ")}),lf=J.define({combine:n=>n.indexOf(!0)>-1}),cf=Ar.newName(),Z1=Ar.newName(),Y1=Ar.newName(),J1={"&light":"."+Z1,"&dark":"."+Y1};function uf(n,e,t){return new Ar(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const XR=uf("."+cf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},J1);class QR{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let o=s||a?[]:nO(e),l=new f1(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=rO(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!qd(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),c=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!qd(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=B.single(c,l)}}}function X1(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=i.from,c=null;(s===8||X.android&&e.text.length<o-a)&&(l=i.to,c="end");let u=tO(n.state.doc.sliceString(a,o,Ci),e.text,l-a,c);u&&(X.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Ci+Ci&&u.toB--,t={from:a+u.from,to:a+u.toA,insert:ke.of(e.text.slice(u.from,u.toB).split(Ci))})}else r&&(!n.hasFocus&&n.state.facet(su)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(X.mac||X.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=B.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:ke.of([" "])}):X.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=B.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:ke.of([" "])}),t){if(X.ios&&n.inputState.flushIOSKey(n)||X.android&&(t.from==i.from&&t.to==i.to&&t.insert.length==1&&t.insert.lines==2&&Li(n.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from)&&Li(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&Li(n.contentDOM,"Delete",46)))return!0;let a=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,l=()=>o||(o=eO(n,t,r));return n.state.facet(k1).some(c=>c(n,t.from,t.to,a,l))||n.dispatch(l()),!0}else if(r&&!r.main.eq(i)){let a=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),o=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function eO(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let o=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(o+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let o=i.changes(e),l=t&&t.main.to<=o.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u=_1(n)||n.state.doc.lineAt(s.head),f=s.to-e.to,h=s.to-s.from;r=i.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:o,range:l||p.map(o)};let g=p.to-f,m=g-c.length;if(p.to-p.from!=h||n.state.sliceDoc(m,g)!=c||u&&p.to>=u.from&&p.from<=u.to)return{range:p};let v=i.changes({from:m,to:g,insert:e.insert}),b=p.to-s.to;return{changes:v,range:l?B.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):p.map(v)}})}else r={changes:o,selection:l&&i.selection.replaceRange(l)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function tO(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let a=n.length,o=e.length;for(;a>0&&o>0&&n.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(r=="end"){let l=Math.max(0,s-Math.min(a,o));t-=a+l-s}if(a<s&&n.length<e.length){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function nO(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Wp(t,r)),(i!=t||s!=r)&&e.push(new Wp(i,s))),e}function rO(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?B.single(t+e,r+e):null}const iO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ku=X.ie&&X.ie_version<=11;class sO{constructor(e){this.view=e,this.active=!1,this.selectionRange=new GD,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(X.ie&&X.ie_version<=11||X.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Ku&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(su)?r.root.activeElement!=this.dom:!Wl(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(X.ie&&X.ie_version<=11||X.android&&X.chrome)&&!r.state.selection.main.empty&&i.focusNode&&bc(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=X.safari&&e.root.nodeType==11&&UD(this.dom.ownerDocument)==this.dom&&aO(this.view)||vc(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=Wl(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ZD(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,iO),Ku&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ku&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Li(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),t==-1?{from:t,to:r}=a:(t=Math.min(a.from,t),r=Math.max(a.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Wl(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new QR(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,i=X1(this.view,t);return this.view.state==r&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=vm(t,e.previousSibling||e.target.previousSibling,-1),i=vm(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function vm(n,e,t){for(;e;){let r=Fe.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function aO(n){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return bc(o.node,o.offset,s,a)&&([r,i,s,a]=[s,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}}class G{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(r=>r.forEach(i=>t(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||KD(e.parent)||document,this.viewState=new mm(e.state||ye.create(e)),this.plugins=this.state.facet(gs).map(r=>new zu(r));for(let r of this.plugins)r.update(this);this.observer=new sO(this),this.inputState=new MR(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Xp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof ut?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;e.some(h=>h.annotation(W1))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=q1(s,a),l||(o=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(ye.phrases)!=this.state.facet(ye.phrases))return this.setState(s);i=wc.create(this,s,e),i.flags|=o;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;f=new yc(p.empty?p:B.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is(Yp)&&(f=p.value)}this.viewState.update(i,f),this.bidiCache=Sc.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(vs)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ba)!=i.state.facet(Ba)&&(this.viewState.mustMeasureContent=!0),(t||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let h of this.state.facet(Qd))h(i);(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!X1(this,u)&&c.force&&Li(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new mm(e),this.plugins=e.facet(gs).map(r=>new zu(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new Xp(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(gs),r=e.state.facet(gs);if(t!=r){let i=[];for(let s of r){let a=t.indexOf(s);if(a<0)i.push(new zu(s));else{let o=this.plugins[a];o.mustUpdate=e,i.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,{scrollTop:i}=r,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;i!=this.viewState.scrollTop&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(l1(r))s=-1,a=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,a=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(p=>{try{return p.read(this)}catch(g){return mn(this.state,g),bm}}),f=wc.create(this,this.state,[]),h=!1;f.flags|=l,t?t.flags|=l:t=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f));for(let p=0;p<c.length;p++)if(u[p]!=bm)try{let g=c[p];g.write&&g.write(u[p],this)}catch(g){mn(this.state,g)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(g>1||g<-1){i=r.scrollTop=i+g,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(Qd))o(t)}get themeClasses(){return cf+" "+(this.state.facet(lf)?Y1:Z1)+" "+this.state.facet(Ba)}updateAttrs(){let e=xm(this,I1,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(su)?"true":"false",class:"cm-content",style:`${X.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),xm(this,ah,t);let r=this.observer.ignore(()=>{let i=Jd(this.contentDOM,this.contentAttrs,t),s=Jd(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(G.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(vs);let e=this.state.facet(G.cspNonce);Ar.mount(this.root,this.styleModules.concat(XR).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return qu(this,e,im(this,e,t,r))}moveByGroup(e,t){return qu(this,e,im(this,e,t,r=>CR(this,e.head,r)))}moveToLineBoundary(e,t,r=!0){return kR(this,e,t,r)}moveVertically(e,t,r){return qu(this,e,AR(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),B1(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),a=s[xr.find(s,e-i.from,-1,t)];return ru(r,a.dir==qe.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(A1)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>oO)return P1(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||N1(s.isolates,r=Jp(this,e.from,e.to))))return s.order;r||(r=Jp(this,e.from,e.to));let i=uR(e.text,t,r);return this.bidiCache.push(new Sc(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||X.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{a1(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Yp.of(new yc(typeof e=="number"?B.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return it.define(()=>({}),{eventHandlers:e})}static theme(e,t){let r=Ar.newName(),i=[Ba.of(r),vs.of(uf(`.${r}`,e))];return t&&t.dark&&i.push(lf.of(!0)),i}static baseTheme(e){return ti.lowest(vs.of(uf("."+cf,e,J1)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Fe.get(r)||Fe.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}G.styleModule=vs;G.inputHandler=k1;G.focusChangeEffect=C1;G.perLineTextDirection=A1;G.exceptionSink=S1;G.updateListener=Qd;G.editable=su;G.mouseSelectionStyle=w1;G.dragMovesSelection=y1;G.clickAddsSelectionRange=x1;G.decorations=Hs;G.atomicRanges=oh;G.bidiIsolatedRanges=E1;G.scrollMargins=D1;G.darkTheme=lf;G.cspNonce=J.define({combine:n=>n.length?n[0]:""});G.contentAttributes=ah;G.editorAttributes=I1;G.lineWrapping=G.contentAttributes.of({class:"cm-lineWrapping"});G.announce=pe.define();const oO=4096,bm={};class Sc{constructor(e,t,r,i,s,a){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=a}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:qe.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!t.touchesRange(a.from,a.to)&&r.push(new Sc(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function xm(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(n):s;a&&Yd(a,t)}return t}const lO=X.mac?"mac":X.windows?"win":X.linux?"linux":"key";function cO(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,a,o;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function $a(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const uO=ti.default(G.domEventHandlers({keydown(n,e){return ey(Q1(e.state),n,e,"editor")}})),ua=J.define({enables:uO}),ym=new WeakMap;function Q1(n){let e=n.facet(ua),t=ym.get(e);return t||ym.set(e,t=hO(e.reduce((r,i)=>r.concat(i),[]))),t}function dO(n,e,t){return ey(Q1(n.state),e,n,t)}let mr=null;const fO=4e3;function hO(n,e=lO){let t=Object.create(null),r=Object.create(null),i=(a,o)=>{let l=r[a];if(l==null)r[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,c,u)=>{var f,h;let p=t[a]||(t[a]=Object.create(null)),g=o.split(/ (?!$)/).map(b=>cO(b,e));for(let b=1;b<g.length;b++){let x=g.slice(0,b).join(" ");i(x,!0),p[x]||(p[x]={preventDefault:!0,stopPropagation:!1,run:[w=>{let S=mr={view:w,prefix:x,scope:a};return setTimeout(()=>{mr==S&&(mr=null)},fO),!0}]})}let m=g.join(" ");i(m,!1);let v=p[m]||(p[m]={preventDefault:!1,stopPropagation:!1,run:((h=(f=p._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let a of n){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let c of o){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in u)u[f].run.push(a.any)}let l=a[e]||a.key;if(l)for(let c of o)s(c,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(c,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return t}function ey(n,e,t,r){let i=VD(e),s=wt(i,0),a=dn(s)==i.length&&i!=" ",o="",l=!1,c=!1,u=!1;mr&&mr.view==t&&mr.scope==r&&(o=mr.prefix+" ",F1.indexOf(e.keyCode)<0&&(c=!0,mr=null));let f=new Set,h=v=>{if(v){for(let b of v.run)if(!f.has(b)&&(f.add(b),b(t,e)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},p=n[r],g,m;return p&&(h(p[o+$a(i,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(X.windows&&e.ctrlKey&&e.altKey)&&(g=Mr[e.keyCode])&&g!=i?(h(p[o+$a(g,e,!0)])||e.shiftKey&&(m=Fs[e.keyCode])!=i&&m!=g&&h(p[o+$a(m,e,!1)]))&&(l=!0):a&&e.shiftKey&&h(p[o+$a(i,e,!0)])&&(l=!0),!l&&h(p._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),l}class da{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=ty(e);return[new da(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return pO(e,t,r)}}function ty(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==qe.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function wm(n,e,t){let r=B.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(r,!0,!0).from),type:Ge.Text}}function pO(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==qe.LTR,a=n.contentDOM,o=a.getBoundingClientRect(),l=ty(n),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=o.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=o.right-(u?parseInt(u.paddingRight):0),p=sf(n,r),g=sf(n,i),m=p.type==Ge.Text?p:null,v=g.type==Ge.Text?g:null;if(m&&(n.lineWrapping||p.widgetLineBreaks)&&(m=wm(n,r,m)),v&&(n.lineWrapping||g.widgetLineBreaks)&&(v=wm(n,i,v)),m&&v&&m.from==v.from)return x(w(t.from,t.to,m));{let k=m?w(t.from,null,m):S(p,!1),A=v?w(null,t.to,v):S(g,!0),C=[];return(m||p).to<(v||g).from-(m&&v?1:0)||p.widgetLineBreaks>1&&k.bottom+n.defaultLineHeight/2<A.top?C.push(b(f,k.bottom,h,A.top)):k.bottom<A.top&&n.elementAtHeight((k.bottom+A.top)/2).type==Ge.Text&&(k.bottom=A.top=(k.bottom+A.top)/2),x(k).concat(C).concat(x(A))}function b(k,A,C,E){return new da(e,k-l.left,A-l.top-.01,C-k,E-A+.01)}function x({top:k,bottom:A,horizontal:C}){let E=[];for(let M=0;M<C.length;M+=2)E.push(b(C[M],k,C[M+1],A));return E}function w(k,A,C){let E=1e9,M=-1e9,R=[];function T(L,$,q,Z,oe){let ee=n.coordsAtPos(L,L==C.to?-2:2),de=n.coordsAtPos(q,q==C.from?2:-2);!ee||!de||(E=Math.min(ee.top,de.top,E),M=Math.max(ee.bottom,de.bottom,M),oe==qe.LTR?R.push(s&&$?f:ee.left,s&&Z?h:de.right):R.push(!s&&Z?f:de.left,!s&&$?h:ee.right))}let N=k??C.from,P=A??C.to;for(let L of n.visibleRanges)if(L.to>N&&L.from<P)for(let $=Math.max(L.from,N),q=Math.min(L.to,P);;){let Z=n.state.doc.lineAt($);for(let oe of n.bidiSpans(Z)){let ee=oe.from+Z.from,de=oe.to+Z.from;if(ee>=q)break;de>$&&T(Math.max(ee,$),k==null&&ee<=N,Math.min(de,q),A==null&&de>=P,oe.dir)}if($=Z.to+1,$>=q)break}return R.length==0&&T(N,k==null,P,A==null,n.textDirection),{top:E,bottom:M,horizontal:R}}function S(k,A){let C=o.top+(A?k.top:k.bottom);return{top:C,bottom:C,horizontal:[]}}}function mO(n,e){return n.constructor==e.constructor&&n.eq(e)}class gO{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Kl)!=e.state.facet(Kl)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Kl);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!mO(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Kl=J.define();function ny(n){return[it.define(e=>new gO(e,n)),Kl.of(n)]}const ry=!X.ios,Us=J.define({combine(n){return Yn(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function vO(n={}){return[Us.of(n),bO,xO,yO,M1.of(!0)]}function iy(n){return n.startState.facet(Us)!=n.state.facet(Us)}const bO=ny({above:!0,markers(n){let{state:e}=n,t=e.facet(Us),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||ry:t.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:B.cursor(i.head,i.head>i.anchor?-1:1);for(let l of da.forRange(n,a,o))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=iy(n);return t&&Sm(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){Sm(e.state,n)},class:"cm-cursorLayer"});function Sm(n,e){e.style.animationDuration=n.facet(Us).cursorBlinkRate+"ms"}const xO=ny({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:da.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||iy(n)},class:"cm-selectionLayer"}),sy={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};ry&&(sy[".cm-line"].caretColor="transparent !important");const yO=ti.highest(G.theme(sy)),ay=pe.define({map(n,e){return n==null?null:e.mapPos(n)}}),xs=vt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(ay)?r.value:t,n)}}),wO=it.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(xs);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(xs)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(xs),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(xs)!=n&&this.view.dispatch({effects:ay.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function SO(){return[xs,wO]}function km(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),a=t,o;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(a+o.index,o)}function kO(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class CO{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(o,l,c,u)=>i(u,c,c+o[0].length,o,l);else if(typeof r=="function")this.addMatch=(o,l,c,u)=>{let f=r(o,l,c);f&&u(c,c+o[0].length,f)};else if(r)this.addMatch=(o,l,c,u)=>u(c,c+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let t=new Cr,r=t.add.bind(t);for(let{from:i,to:s}of kO(e,this.maxLength))km(e.state.doc,this.regexp,i,s,(a,o)=>this.addMatch(o,e,a,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,a,o,l)=>{l>e.view.viewport.from&&o<e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let a=Math.max(s.from,r),o=Math.min(s.to,i);if(o>a){let l=e.state.doc.lineAt(a),c=l.to<o?e.state.doc.lineAt(o):l,u=Math.max(s.from,l.from),f=Math.min(s.to,c.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){u=a;break}for(;o<c.to;o++)if(this.boundary.test(c.text[o-c.from])){f=o;break}}let h=[],p,g=(m,v,b)=>h.push(b.range(m,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(p=this.regexp.exec(l.text))&&p.index<f-l.from;)this.addMatch(p,e,p.index+l.from,g);else km(e.state.doc,this.regexp,u,f,(m,v)=>this.addMatch(v,e,m,g));t=t.update({filterFrom:u,filterTo:f,filter:(m,v)=>m<u||v>f,add:h})}}return t}}const df=/x/.unicode!=null?"gu":"g",AO=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,df),MO={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Zu=null;function IO(){var n;if(Zu==null&&typeof document<"u"&&document.body){let e=document.body.style;Zu=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Zu||!1}const Zl=J.define({combine(n){let e=Yn(n,{render:null,specialChars:AO,addSpecialChars:null});return(e.replaceTabs=!IO())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,df)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,df)),e}});function EO(n={}){return[Zl.of(n),DO()]}let Cm=null;function DO(){return Cm||(Cm=it.fromClass(class{constructor(n){this.view=n,this.decorations=le.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Zl)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new CO({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=wt(e[0],0);if(s==9){let a=i.lineAt(r),o=t.state.tabSize,l=oa(a.text,o,r-a.from);return le.replace({widget:new NO((o-l%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=le.replace({widget:new TO(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Zl);n.startState.facet(Zl)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const RO="";function OO(n){return n>=32?RO:n==10?"":String.fromCharCode(9216+n)}class TO extends sr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=OO(this.code),r=e.state.phrase("Control character")+" "+(MO[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class NO extends sr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function PO(){return _O}const LO=le.line({class:"cm-activeLine"}),_O=it.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(LO.range(i.from)),e=i.from)}return le.set(t)}},{decorations:n=>n.decorations});class jO extends sr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?Fi(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=ru(t[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function BO(n){return it.fromClass(class{constructor(e){this.view=e,this.placeholder=n?le.set([le.widget({widget:new jO(n),side:1}).range(0)]):le.none}get decorations(){return this.view.state.doc.length?le.none:this.placeholder}},{decorations:e=>e.decorations})}const ff=2e3;function $O(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>ff||t.off>ff||e.col<0||t.col<0){let a=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=o&&s.push(B.range(c.from+a,c.to+o))}}else{let a=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=Ud(c.text,a,n.tabSize,!0);if(u<0)s.push(B.cursor(c.to));else{let f=Ud(c.text,o,n.tabSize);s.push(B.range(c.from+u,c.from+f))}}}return s}function FO(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function Am(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>ff?-1:i==r.length?FO(n,e.clientX):oa(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function HO(n,e){let t=Am(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),a=i.state.doc.lineAt(s);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let o=Am(n,i);if(!o)return r;let l=$O(n.state,t,o);return l.length?a?B.create(l.concat(r.ranges)):B.create(l):r}}:null}function VO(n){let e=(t=>t.altKey&&t.button==0);return G.mouseSelectionStyle.of((t,r)=>e(r)?HO(t,r):null)}const UO={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},zO={style:"cursor: crosshair"};function WO(n={}){let[e,t]=UO[n.key||"Alt"],r=it.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,G.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?zO:null})]}const Fa="-10000px";class oy{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[];for(let a=0;a<i.length;a++){let o=i[a],l=-1;if(o){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==o.create&&(l=c)}if(l<0)s[a]=this.createTooltipView(o);else{let c=s[a]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),(t=a.destroy)===null||t===void 0||t.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function qO(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Yu=J.define({combine:n=>{var e,t,r;return{position:X.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||qO}}}),Mm=new WeakMap,ly=it.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Yu);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new oy(n,ch,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(Yu);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Fa,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Yu).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:r}=n,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let a=this.manager.tooltips[s],o=this.manager.tooltipViews[s],{dom:l}=o,c=n.pos[s],u=n.size[s];if(!c||c.bottom<=Math.max(t.top,r.top)||c.top>=Math.min(t.bottom,r.bottom)||c.right<Math.max(t.left,r.left)-.1||c.left>Math.min(t.right,r.right)+.1){l.style.top=Fa;continue}let f=a.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,h=f?7:0,p=u.right-u.left,g=(e=Mm.get(o))!==null&&e!==void 0?e:u.bottom-u.top,m=o.offset||KO,v=this.view.textDirection==qe.LTR,b=u.width>r.right-r.left?v?r.left:r.right-u.width:v?Math.min(c.left-(f?14:0)+m.x,r.right-p):Math.max(r.left,c.left-p+(f?14:0)-m.x),x=!!a.above;!a.strictSide&&(x?c.top-(u.bottom-u.top)-m.y<r.top:c.bottom+(u.bottom-u.top)+m.y>r.bottom)&&x==r.bottom-c.bottom>c.top-r.top&&(x=!x);let w=(x?c.top-r.top:r.bottom-c.bottom)-h;if(w<g&&o.resize!==!1){if(w<this.view.defaultLineHeight){l.style.top=Fa;continue}Mm.set(o,g),l.style.height=(g=w)+"px"}else l.style.height&&(l.style.height="");let S=x?c.top-g-h-m.y:c.bottom+h+m.y,k=b+p;if(o.overlap!==!0)for(let A of i)A.left<k&&A.right>b&&A.top<S+g&&A.bottom>S&&(S=x?A.top-g-2-h:A.bottom+h+2);this.position=="absolute"?(l.style.top=S-n.parent.top+"px",l.style.left=b-n.parent.left+"px"):(l.style.top=S+"px",l.style.left=b+"px"),f&&(f.style.left=`${c.left+(v?m.x:-m.x)-(b+14-7)}px`),o.overlap!==!0&&i.push({left:b,top:S,right:k,bottom:S+g}),l.classList.toggle("cm-tooltip-above",x),l.classList.toggle("cm-tooltip-below",!x),o.positioned&&o.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Fa}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),GO=G.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),KO={x:0,y:0},ch=J.define({enables:[ly,GO]}),kc=J.define();class uh{static create(e){return new uh(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new oy(e,kc,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const ZO=ch.compute([kc],n=>{let e=n.facet(kc).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:uh.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class YO{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof br)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let o=e.coordsAtPos(i);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==qe.RTL?-1:1;s=t.x<o.left?-c:c}let a=this.source(e,i,s);if(a?.then){let o=this.pending={pos:i};a.then(l=>{this.pending==o&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>mn(e.state,l,"hover tooltip"))}else a&&e.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!Im(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=(t=r?.end)!==null&&t!==void 0?t:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!JO(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Im(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Im(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function JO(n,e,t,r,i,s){let a=document.createRange(),o=n.domAtPos(e),l=n.domAtPos(t);a.setEnd(l.node,l.offset),a.setStart(o.node,o.offset);let c=a.getClientRects();a.detach();for(let u=0;u<c.length;u++){let f=c[u];if(Math.max(f.top-i,i-f.bottom,f.left-r,r-f.right)<=s)return!0}return!1}function XO(n,e={}){let t=pe.define(),r=vt.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let a=s.changes.mapPos(i.pos,-1,kt.TrackDel);if(a==null)return null;let o=Object.assign(Object.create(null),i);o.pos=a,i.end!=null&&(o.end=s.changes.mapPos(i.end)),i=o}for(let a of s.effects)a.is(t)&&(i=a.value),a.is(QO)&&(i=null);return i},provide:i=>kc.from(i)});return[r,it.define(i=>new YO(i,n,r,t,e.hoverTime||300)),ZO]}function cy(n,e){let t=n.plugin(ly);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const QO=pe.define(),Em=J.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function zs(n,e){let t=n.plugin(uy),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const uy=it.fromClass(class{constructor(n){this.input=n.state.facet(Ws),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(Em);this.top=new Ha(n,!0,e.topContainer),this.bottom=new Ha(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(Em);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ha(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ha(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Ws);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],a=[],o=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),o.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?s:a).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>G.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Ha{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Dm(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Dm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Dm(n){let e=n.nextSibling;return n.remove(),e}const Ws=J.define({enables:uy});class rr extends Zr{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}rr.prototype.elementClass="";rr.prototype.toDOM=void 0;rr.prototype.mapMode=kt.TrackBefore;rr.prototype.startSide=rr.prototype.endSide=-1;rr.prototype.point=!0;const Yl=J.define(),eT={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Pe.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Es=J.define();function tT(n){return[dy(),Es.of(Object.assign(Object.assign({},eT),n))]}const Rm=J.define({combine:n=>n.some(e=>e)});function dy(n){return[nT]}const nT=it.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Es).map(e=>new Tm(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(Rm),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Rm)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Pe.iter(this.view.state.facet(Yl),this.view.viewport.from),r=[],i=this.gutters.map(s=>new rT(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let a=!0;for(let o of s.type)if(o.type==Ge.Text&&a){hf(t,r,o.from);for(let l of i)l.line(this.view,o,r);a=!1}else if(o.widget)for(let l of i)l.widget(this.view,o)}else if(s.type==Ge.Text){hf(t,r,s.from);for(let a of i)a.line(this.view,s,r)}for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Es),t=n.state.facet(Es),r=n.docChanged||n.heightChanged||n.viewportChanged||!Pe.eq(n.startState.facet(Yl),n.state.facet(Yl),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let a=e.indexOf(s);a<0?i.push(new Tm(this.view,s)):(this.gutters[a].update(n),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>G.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==qe.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Om(n){return Array.isArray(n)?n:[n]}function hf(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class rT{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Pe.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=t.top-this.height;if(this.i==i.elements.length){let a=new fy(e,t.height,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,t.height,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];hf(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t);r&&this.addElement(e,t,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Tm{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=Om(t.markers(e)),t.initialSpacer&&(this.spacer=new fy(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Om(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Pe.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class fy{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),iT(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let o=a,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){o=f,c=!0;break}}else o=this.markers.length;for(;a<o;){let u=this.markers[a++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&a++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function iT(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const sT=J.define(),Ai=J.define({combine(n){return Yn(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],a=t[i];r[i]=s?(o,l,c)=>s(o,l,c)||a(o,l,c):a}return r}})}});class Ju extends rr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Xu(n,e){return n.state.facet(Ai).formatNumber(e,n.state)}const aT=Es.compute([Ai],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(sT)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new Ju(Xu(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ai)!=e.state.facet(Ai),initialSpacer(e){return new Ju(Xu(e,Nm(e.state.doc.lines)))},updateSpacer(e,t){let r=Xu(t.view,Nm(t.view.state.doc.lines));return r==e.number?e:new Ju(r)},domEventHandlers:n.facet(Ai).domEventHandlers}));function oT(n={}){return[Ai.of(n),dy(),aT]}function Nm(n){let e=9;for(;e<n;)e=e*10+9;return e}const lT=new class extends rr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},cT=Yl.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(lT.range(i)))}return Pe.of(e)});function uT(){return cT}const dT=1024;let fT=0;class fn{constructor(e,t){this.from=e,this.to=t}}class xe{constructor(e={}){this.id=fT++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Jt.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}xe.closedBy=new xe({deserialize:n=>n.split(" ")});xe.openedBy=new xe({deserialize:n=>n.split(" ")});xe.group=new xe({deserialize:n=>n.split(" ")});xe.isolate=new xe({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});xe.contextHash=new xe({perNode:!0});xe.lookAhead=new xe({perNode:!0});xe.mounted=new xe({perNode:!0});class qs{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[xe.mounted.id]}}const hT=Object.create(null);class Jt{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):hT,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Jt(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(xe.group),s=-1;s<(i?i.length:0);s++){let a=t[s<0?r.name:i[s]];if(a)return a}}}}Jt.none=new Jt("",Object.create(null),0,8);class hy{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}t.push(i?new Jt(r.name,i,r.id,r.flags):r)}return new hy(t)}}const Va=new WeakMap,Pm=new WeakMap;var We;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(We||(We={}));class dt{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=qs.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Cc(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Va.get(this)||this.topNode,s=new Cc(i);return s.moveTo(e,t),Va.set(this,s._tree),s}get topNode(){return new Dt(this,0,0,null)}resolve(e,t=0){let r=Gs(Va.get(this)||this.topNode,e,t,!1);return Va.set(this,r),r}resolveInner(e,t=0){let r=Gs(Pm.get(this)||this.topNode,e,t,!0);return Pm.set(this,r),r}resolveStack(e,t=0){return gT(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,a=e.mode||0,o=(a&We.IncludeAnonymous)>0;for(let l=this.cursor(a|We.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(o||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:hh(Jt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new dt(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new dt(Jt.none,t,r,i)))}static build(e){return vT(e)}}dt.empty=new dt(Jt.none,[],[],0);class dh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new dh(this.buffer,this.index)}}class Dr{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Jt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,t,r,i,s){let{buffer:a}=this,o=-1;for(let l=e;l!=t&&!(py(s,i,a[l+1],a[l+2])&&(o=l,r>0));l=a[l+3]);return o}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),a=0;for(let o=e,l=0;o<t;){s[l++]=i[o++],s[l++]=i[o++]-r;let c=s[l++]=i[o++]-r;s[l++]=i[o++]-e,a=Math.max(a,c)}return new Dr(s,a,this.set)}}function py(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Gs(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let a=!r&&n instanceof Dt&&n.index<0?null:n.parent;if(!a)return n;n=a}let s=r?0:We.IgnoreOverlays;if(r)for(let a=n,o=a.parent;o;a=o,o=a.parent)a instanceof Dt&&a.index<0&&((i=o.enter(e,t,s))===null||i===void 0?void 0:i.from)!=a.from&&(n=o);for(;;){let a=n.enter(e,t,s);if(!a)return n;n=a}}class my{cursor(e=0){return new Cc(this,e)}getChild(e,t=null,r=null){let i=Lm(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return Lm(this,e,t,r)}resolve(e,t=0){return Gs(this,e,t,!1)}resolveInner(e,t=0){return Gs(this,e,t,!0)}matchContext(e){return pf(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Dt extends my{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,c=t>0?o.length:-1;e!=c;e+=t){let u=o[e],f=l[e]+a.from;if(py(i,r,f,f+u.length)){if(u instanceof Dr){if(s&We.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,r-f,i);if(h>-1)return new Vn(new pT(a,u,e,f),null,h)}else if(s&We.IncludeAnonymous||!u.type.isAnonymous||fh(u)){let h;if(!(s&We.IgnoreMounts)&&(h=qs.get(u))&&!h.overlay)return new Dt(h.tree,f,e,a);let p=new Dt(u,f,e,a);return s&We.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&We.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&We.IgnoreOverlays)&&(i=qs.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:a,to:o}of i.overlay)if((t>0?a<=s:a<s)&&(t<0?o>=s:o>s))return new Dt(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Lm(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let a=!1;!a;)if(a=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function pf(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class pT{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Vn extends my{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Vn(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&We.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Vn(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Vn(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Vn(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];e.push(r.slice(i,s,a)),t.push(0)}return new dt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function gy(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let a=n[s];(a.from>t.from||a.to<t.to)&&(t=a,e=s)}let r=t instanceof Dt&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new mT(i,t)}class mT{constructor(e,t){this.heads=e,this.node=t}get next(){return gy(this.heads)}}function gT(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Dt?r:r.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(i||(i=[r])).push(a.resolve(e,t)),s=a}else{let a=qs.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new Dt(a.tree,a.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Gs(o,e,t,!1))}}return i?gy(i):r}class Cc{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Dt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Dt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&We.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&We.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&We.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let o=r._tree.children[s];if(this.mode&We.IncludeAnonymous||o instanceof Dr||!o.type.isAnonymous||fh(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Vn(this.buffer,t,this.stack[i]);return this.bufferNode=new Vn(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return pf(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return pf(this._tree,e,i);let a=r[t.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function fh(n){return n.children.some(e=>e instanceof Dr||!e.type.isAnonymous||fh(e))}function vT(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=dT,reused:s=[],minRepeatType:a=r.types.length}=n,o=Array.isArray(t)?new dh(t,t.length):t,l=r.types,c=0,u=0;function f(k,A,C,E,M,R){let{id:T,start:N,end:P,size:L}=o,$=u,q=c;for(;L<0;)if(o.next(),L==-1){let ve=s[T];C.push(ve),E.push(N-k);return}else if(L==-3){c=T;return}else if(L==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${L}`);let Z=l[T],oe,ee,de=N-k;if(P-N<=i&&(ee=v(o.pos-A,M))){let ve=new Uint16Array(ee.size-ee.skip),K=o.pos-ee.size,fe=ve.length;for(;o.pos>K;)fe=b(ee.start,ve,fe);oe=new Dr(ve,P-ee.start,r),de=ee.start-k}else{let ve=o.pos-L;o.next();let K=[],fe=[],re=T>=a?T:-1,ue=0,Q=P;for(;o.pos>ve;)re>=0&&o.id==re&&o.size>=0?(o.end<=Q-i&&(g(K,fe,N,ue,o.end,Q,re,$,q),ue=K.length,Q=o.end),o.next()):R>2500?h(N,ve,K,fe):f(N,ve,K,fe,re,R+1);if(re>=0&&ue>0&&ue<K.length&&g(K,fe,N,ue,N,Q,re,$,q),K.reverse(),fe.reverse(),re>-1&&ue>0){let ce=p(Z,q);oe=hh(Z,K,fe,0,K.length,0,P-N,ce,ce)}else oe=m(Z,K,fe,P-N,$-P,q)}C.push(oe),E.push(de)}function h(k,A,C,E){let M=[],R=0,T=-1;for(;o.pos>A;){let{id:N,start:P,end:L,size:$}=o;if($>4)o.next();else{if(T>-1&&P<T)break;T<0&&(T=L-i),M.push(N,P,L),R++,o.next()}}if(R){let N=new Uint16Array(R*4),P=M[M.length-2];for(let L=M.length-3,$=0;L>=0;L-=3)N[$++]=M[L],N[$++]=M[L+1]-P,N[$++]=M[L+2]-P,N[$++]=$;C.push(new Dr(N,M[2]-P,r)),E.push(P-k)}}function p(k,A){return(C,E,M)=>{let R=0,T=C.length-1,N,P;if(T>=0&&(N=C[T])instanceof dt){if(!T&&N.type==k&&N.length==M)return N;(P=N.prop(xe.lookAhead))&&(R=E[T]+N.length+P)}return m(k,C,E,M,R,A)}}function g(k,A,C,E,M,R,T,N,P){let L=[],$=[];for(;k.length>E;)L.push(k.pop()),$.push(A.pop()+C-M);k.push(m(r.types[T],L,$,R-M,N-R,P)),A.push(M-C)}function m(k,A,C,E,M,R,T){if(R){let N=[xe.contextHash,R];T=T?[N].concat(T):[N]}if(M>25){let N=[xe.lookAhead,M];T=T?[N].concat(T):[N]}return new dt(k,A,C,E,T)}function v(k,A){let C=o.fork(),E=0,M=0,R=0,T=C.end-i,N={size:0,start:0,skip:0};e:for(let P=C.pos-k;C.pos>P;){let L=C.size;if(C.id==A&&L>=0){N.size=E,N.start=M,N.skip=R,R+=4,E+=4,C.next();continue}let $=C.pos-L;if(L<0||$<P||C.start<T)break;let q=C.id>=a?4:0,Z=C.start;for(C.next();C.pos>$;){if(C.size<0)if(C.size==-3)q+=4;else break e;else C.id>=a&&(q+=4);C.next()}M=Z,E+=L,R+=q}return(A<0||E==k)&&(N.size=E,N.start=M,N.skip=R),N.size>4?N:void 0}function b(k,A,C){let{id:E,start:M,end:R,size:T}=o;if(o.next(),T>=0&&E<a){let N=C;if(T>4){let P=o.pos-(T-4);for(;o.pos>P;)C=b(k,A,C)}A[--C]=N,A[--C]=R-k,A[--C]=M-k,A[--C]=E}else T==-3?c=E:T==-4&&(u=E);return C}let x=[],w=[];for(;o.pos>0;)f(n.start||0,n.bufferStart||0,x,w,-1,0);let S=(e=n.length)!==null&&e!==void 0?e:x.length?w[0]+x[0].length:0;return new dt(l[n.topID],x.reverse(),w.reverse(),S)}const _m=new WeakMap;function Jl(n,e){if(!n.isAnonymous||e instanceof Dr||e.type!=n)return 1;let t=_m.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof dt)){t=1;break}t+=Jl(n,r)}_m.set(e,t)}return t}function hh(n,e,t,r,i,s,a,o,l){let c=0;for(let g=r;g<i;g++)c+=Jl(n,e[g]);let u=Math.ceil(c*1.5/8),f=[],h=[];function p(g,m,v,b,x){for(let w=v;w<b;){let S=w,k=m[w],A=Jl(n,g[w]);for(w++;w<b;w++){let C=Jl(n,g[w]);if(A+C>=u)break;A+=C}if(w==S+1){if(A>u){let C=g[S];p(C.children,C.positions,0,C.children.length,m[S]+x);continue}f.push(g[S])}else{let C=m[w-1]+g[w-1].length-k;f.push(hh(n,g,m,S,w,k,C,null,l))}h.push(k+x-s)}}return p(e,t,r,i,0),(o||l)(f,h,a)}class g6{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Vn?this.setBuffer(e.context.buffer,e.index,t):e instanceof Dt&&this.map.set(e.tree,t)}get(e){return e instanceof Vn?this.getBuffer(e.context.buffer,e.index):e instanceof Dt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class tr{constructor(e,t,r,i,s=!1,a=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new tr(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let o=0,l=0,c=0;;o++){let u=o<t.length?t[o]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let h=a;if(l>=h.from||f<=h.to||c){let p=Math.max(h.from,l)-c,g=Math.min(h.to,f)-c;h=p>=g?null:new tr(p,g,h.tree,h.offset+c,o>0,!!u)}if(h&&i.push(h),a.to>f)break;a=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class bT{startParse(e,t,r){return typeof e=="string"&&(e=new xT(e)),r=r?r.length?r.map(i=>new fn(i.from,i.to)):[new fn(0,0)]:[new fn(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class xT{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function v6(n){return(e,t,r,i)=>new wT(e,n,t,r,i)}class jm{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function Bm(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class yT{constructor(e,t,r,i,s,a,o){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=a,this.prev=o,this.depth=0,this.ranges=[]}}const mf=new xe({perNode:!0});class wT{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new dt(r.type,r.children,r.positions,r.length,r.propValues.concat([[mf,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[xe.mounted.id]=new qs(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new CT(this.fragments),t=null,r=null,i=new Cc(new Dt(this.baseTree,this.ranges[0].from,0,null),We.IncludeAnonymous|We.IgnoreMounts);e:for(let s,a;;){let o=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)o=!1;else if(e.hasNode(i)){if(t){let c=t.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,h=u.to+c.pos;f>=i.from&&h<=i.to&&!t.ranges.some(p=>p.from<h&&p.to>f)&&t.ranges.push({from:f,to:h})}}o=!1}else if(r&&(a=ST(r.ranges,i.from,i.to)))o=a!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||kT(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new yT(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,t);else{let u=Hm(this.ranges,s.overlay||(i.from<i.to?[new fn(i.from,i.to)]:[]));u.length&&Bm(u),(u.length||!s.overlay)&&this.inner.push(new jm(s.parser,u.length?s.parser.startParse(this.input,Vm(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new fn(f.from-i.from,f.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):o=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new fn(i.from,i.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(o&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let c=Hm(this.ranges,t.ranges);c.length&&(Bm(c),this.inner.splice(t.index,0,new jm(t.parser,t.parser.startParse(this.input,Vm(t.mounts,c),c),t.ranges.map(u=>new fn(u.from-t.start,u.to-t.start)),t.target,c[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function ST(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function $m(n,e,t,r,i,s){if(e<t){let a=n.buffer[e+1];r.push(n.slice(e,t,a)),i.push(a-s)}}function kT(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),a=i.children[s],o=a.buffer,l=[s];function c(u,f,h,p,g,m){let v=t[m],b=[],x=[];$m(a,u,v,b,x,p);let w=o[v+1],S=o[v+2];l.push(b.length);let k=m?c(v+4,o[v+3],a.set.types[o[v]],w,S-w,m-1):e.toTree();return b.push(k),x.push(w-p),$m(a,o[v+3],f,b,x,p),new dt(h,b,x,g)}i.children[s]=c(0,o.length,Jt.none,0,a.length,t.length-1);for(let u of l){let f=n.tree.children[u],h=n.tree.positions[u];n.yield(new Dt(f,h+n.from,u,n._tree))}}class Fm{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(We.IncludeAnonymous|We.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,We.IgnoreOverlays|We.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof dt)t=t.children[0];else break}return!1}}class CT{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(mf))!==null&&t!==void 0?t:r.to,this.inner=new Fm(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(mf))!==null&&e!==void 0?e:t.to,this.inner=new Fm(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let a=(r=s.tree)===null||r===void 0?void 0:r.prop(xe.mounted);if(a&&a.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let l=this.fragments[o];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:a})}}}return i}}function Hm(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let a=n[i-1].to,o=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=o)break;l.to<=a||(t||(r=t=e.slice()),l.from<a?(t[s]=new fn(l.from,a),l.to>o&&t.splice(s+1,0,new fn(o,l.to))):l.to>o?t[s--]=new fn(o,l.to):t.splice(s--,1))}}return r}function AT(n,e,t,r){let i=0,s=0,a=!1,o=!1,l=-1e9,c=[];for(;;){let u=i==n.length?1e9:a?n[i].to:n[i].from,f=s==e.length?1e9:o?e[s].to:e[s].from;if(a!=o){let h=Math.max(l,t),p=Math.min(u,f,r);h<p&&c.push(new fn(h,p))}if(l=Math.min(u,f),l==1e9)break;u==l&&(a?(a=!1,i++):a=!0),f==l&&(o?(o=!1,s++):o=!0)}return c}function Vm(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let a=r+(i.overlay?i.overlay[0].from:0),o=a+i.tree.length,l=Math.max(s.from,a),c=Math.min(s.to,o);if(i.overlay){let u=i.overlay.map(h=>new fn(h.from+r,h.to+r)),f=AT(e,u,l,c);for(let h=0,p=l;;h++){let g=h==f.length,m=g?c:f[h].from;if(m>p&&t.push(new tr(p,m,i.tree,-a,s.from>=p||s.openStart,s.to<=m||s.openEnd)),g)break;p=f[h].to}}else t.push(new tr(l,c,i.tree,-a,s.from>=a||s.openStart,s.to<=o||s.openEnd))}return t}let MT=0;class Bn{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=MT++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Bn([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new Ac;return t=>t.modified.indexOf(e)>-1?t:Ac.get(t.base||t,t.modified.concat(e).sort((r,i)=>r.id-i.id))}}let IT=0;class Ac{constructor(){this.instances=[],this.id=IT++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(o=>o.base==e&&ET(t,o.modified));if(r)return r;let i=[],s=new Bn(i,e,t);for(let o of t)o.instances.push(s);let a=DT(t);for(let o of e.set)if(!o.modified.length)for(let l of a)i.push(Ac.get(o,l));return s}}function ET(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function DT(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function RT(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],a=2,o=i;for(let f=0;;){if(o=="..."&&f>0&&f+3==i.length){a=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let p=i[f++];if(f==i.length&&p=="!"){a=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);o=i.slice(f)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Mc(r,a,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return vy.add(e)}const vy=new xe;class Mc{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Mc.empty=new Mc([],2,null);function by(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let a of s.tag)t[a.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let a=i;for(let o of s)for(let l of o.set){let c=t[l.id];if(c){a=a?a+" "+c:c;break}}return a},scope:r}}function OT(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function TT(n,e,t,r=0,i=n.length){let s=new NT(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class NT{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:a,from:o,to:l}=e;if(o>=r||l<=t)return;a.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(a)));let c=i,u=PT(e)||Mc.empty,f=OT(s,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(t,o),c),u.opaque)return;let h=e.tree&&e.tree.prop(xe.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+o,1),g=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),m=e.firstChild();for(let v=0,b=o;;v++){let x=v<h.overlay.length?h.overlay[v]:null,w=x?x.from+o:l,S=Math.max(t,b),k=Math.min(r,w);if(S<k&&m)for(;e.from<k&&(this.highlightRange(e,S,k,i,s),this.startSpan(Math.min(k,e.to),c),!(e.to>=w||!e.nextSibling())););if(!x||w>r)break;b=x.to+o,b>t&&(this.highlightRange(p.cursor(),Math.max(t,x.from+o),Math.min(r,b),"",g),this.startSpan(Math.min(r,b),c))}m&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function PT(n){let e=n.type.prop(vy);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const W=Bn.define,Ua=W(),hr=W(),Um=W(hr),zm=W(hr),pr=W(),za=W(pr),Qu=W(pr),Ln=W(),jr=W(Ln),Nn=W(),Pn=W(),gf=W(),fs=W(gf),Wa=W(),j={comment:Ua,lineComment:W(Ua),blockComment:W(Ua),docComment:W(Ua),name:hr,variableName:W(hr),typeName:Um,tagName:W(Um),propertyName:zm,attributeName:W(zm),className:W(hr),labelName:W(hr),namespace:W(hr),macroName:W(hr),literal:pr,string:za,docString:W(za),character:W(za),attributeValue:W(za),number:Qu,integer:W(Qu),float:W(Qu),bool:W(pr),regexp:W(pr),escape:W(pr),color:W(pr),url:W(pr),keyword:Nn,self:W(Nn),null:W(Nn),atom:W(Nn),unit:W(Nn),modifier:W(Nn),operatorKeyword:W(Nn),controlKeyword:W(Nn),definitionKeyword:W(Nn),moduleKeyword:W(Nn),operator:Pn,derefOperator:W(Pn),arithmeticOperator:W(Pn),logicOperator:W(Pn),bitwiseOperator:W(Pn),compareOperator:W(Pn),updateOperator:W(Pn),definitionOperator:W(Pn),typeOperator:W(Pn),controlOperator:W(Pn),punctuation:gf,separator:W(gf),bracket:fs,angleBracket:W(fs),squareBracket:W(fs),paren:W(fs),brace:W(fs),content:Ln,heading:jr,heading1:W(jr),heading2:W(jr),heading3:W(jr),heading4:W(jr),heading5:W(jr),heading6:W(jr),contentSeparator:W(Ln),list:W(Ln),quote:W(Ln),emphasis:W(Ln),strong:W(Ln),link:W(Ln),monospace:W(Ln),strikethrough:W(Ln),inserted:W(),deleted:W(),changed:W(),invalid:W(),meta:Wa,documentMeta:W(Wa),annotation:W(Wa),processingInstruction:W(Wa),definition:Bn.defineModifier(),constant:Bn.defineModifier(),function:Bn.defineModifier(),standard:Bn.defineModifier(),local:Bn.defineModifier(),special:Bn.defineModifier()};by([{tag:j.link,class:"tok-link"},{tag:j.heading,class:"tok-heading"},{tag:j.emphasis,class:"tok-emphasis"},{tag:j.strong,class:"tok-strong"},{tag:j.keyword,class:"tok-keyword"},{tag:j.atom,class:"tok-atom"},{tag:j.bool,class:"tok-bool"},{tag:j.url,class:"tok-url"},{tag:j.labelName,class:"tok-labelName"},{tag:j.inserted,class:"tok-inserted"},{tag:j.deleted,class:"tok-deleted"},{tag:j.literal,class:"tok-literal"},{tag:j.string,class:"tok-string"},{tag:j.number,class:"tok-number"},{tag:[j.regexp,j.escape,j.special(j.string)],class:"tok-string2"},{tag:j.variableName,class:"tok-variableName"},{tag:j.local(j.variableName),class:"tok-variableName tok-local"},{tag:j.definition(j.variableName),class:"tok-variableName tok-definition"},{tag:j.special(j.variableName),class:"tok-variableName2"},{tag:j.definition(j.propertyName),class:"tok-propertyName tok-definition"},{tag:j.typeName,class:"tok-typeName"},{tag:j.namespace,class:"tok-namespace"},{tag:j.className,class:"tok-className"},{tag:j.macroName,class:"tok-macroName"},{tag:j.propertyName,class:"tok-propertyName"},{tag:j.operator,class:"tok-operator"},{tag:j.comment,class:"tok-comment"},{tag:j.meta,class:"tok-meta"},{tag:j.invalid,class:"tok-invalid"},{tag:j.punctuation,class:"tok-punctuation"}]);var ed;const Mi=new xe;function LT(n){return J.define({combine:n?e=>e.concat(n):void 0})}const _T=new xe;class wn{constructor(e,t,r=[],i=""){this.data=e,this.name=i,ye.prototype.hasOwnProperty("tree")||Object.defineProperty(ye.prototype,"tree",{get(){return At(this)}}),this.parser=t,this.extension=[Rr.of(this),ye.languageData.of((s,a,o)=>{let l=Wm(s,a,o),c=l.type.prop(Mi);if(!c)return[];let u=s.facet(c),f=l.type.prop(_T);if(f){let h=l.resolve(a-l.from,o);for(let p of f)if(p.test(h,s)){let g=s.facet(p.facet);return p.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return Wm(e,t,r).type.prop(Mi)==this.data}findRegions(e){let t=e.facet(Rr);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(Mi)==this.data){r.push({from:a,to:a+s.length});return}let o=s.prop(xe.mounted);if(o){if(o.tree.prop(Mi)==this.data){if(o.overlay)for(let l of o.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+s.length});return}else if(o.overlay){let l=r.length;if(i(o.tree,o.overlay[0].from+a),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof dt&&i(c,s.positions[l]+a)}};return i(At(e),0),r}get allowsNesting(){return!0}}wn.setState=pe.define();function Wm(n,e,t){let r=n.facet(Rr),i=At(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,We.ExcludeBuffers))s.type.isTop&&(i=s);return i}class vf extends wn{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=LT(e.languageData);return new vf(t,e.parser.configure({props:[Mi.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new vf(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function At(n){let e=n.field(wn.state,!1);return e?e.tree:dt.empty}class jT{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let hs=null;class Ic{constructor(e,t,r=[],i,s,a,o,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ic(e,t,[],dt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new jT(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=dt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(tr.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(tr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=hs;hs=this;try{return e()}finally{hs=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=qm(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,h)=>l.push({fromA:c,toA:u,fromB:f,toB:h})),r=tr.applyChanges(r,l),i=dt.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&o.push({from:u,to:f})}}}return new Ic(this.parser,t,r,i,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=qm(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends bT{createParse(t,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let l=hs;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new dt(Jt.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return hs}}function qm(n,e,t){return tr.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Vi{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Vi(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ic.create(e.facet(Rr).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Vi(r)}}wn.state=vt.define({create:Vi.init,update(n,e){for(let t of e.effects)if(t.is(wn.setState))return t.value;return e.startState.facet(Rr)!=e.state.facet(Rr)?Vi.init(e.state):n.apply(e)}});let xy=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(xy=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const td=typeof navigator<"u"&&(!((ed=navigator.scheduling)===null||ed===void 0)&&ed.isInputPending)?()=>navigator.scheduling.isInputPending():null,BT=it.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(wn.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(wn.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=xy(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(wn.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!td?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>td&&td()||Date.now()>a,i+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:wn.setState.of(new Vi(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>mn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Rr=J.define({combine(n){return n.length?n[0]:null},enables:n=>[wn.state,BT,G.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class x6{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const $T=J.define(),fa=J.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Ec(n){let e=n.facet(fa);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Ks(n,e){let t="",r=n.tabSize,i=n.facet(fa)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function ph(n,e){n instanceof ye&&(n=new au(n));for(let r of n.state.facet($T)){let i=r(n,e);if(i!==void 0)return i}let t=At(n.state);return t?HT(n,t,e):null}class au{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ec(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return oa(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const FT=new xe;function HT(n,e,t){return yy(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function VT(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function UT(n){let e=n.type.prop(FT);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(xe.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>wy(a,!0,1,void 0,s&&!VT(a)?i.from:void 0)}return n.parent==null?zT:null}function yy(n,e,t){for(;n;n=n.parent){let r=UT(n);if(r)return r(mh.create(t,e,n))}return null}function zT(){return 0}class mh extends au{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.node=r}static create(e,t,r){return new mh(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(WT(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){let e=this.node.parent;return e?yy(e,this.pos,this.base):0}}function WT(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function qT(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?t:null;o=l.to}}function y6({closing:n,align:e=!0,units:t=1}){return r=>wy(r,e,t,n)}function wy(n,e,t,r,i){let s=n.textAfter,a=s.match(/^\s*/)[0].length,o=r&&s.slice(a,a+r.length)==r||i==n.pos+a,l=e?qT(n):null;return l?o?n.column(l.from):n.column(l.to):n.baseIndent+(o?0:n.unit*t)}const w6=n=>n.baseIndent;function S6({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const GT=200;function KT(){return ye.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+GT)return n;let s=t.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return n;let{state:a}=n,o=-1,l=[];for(let{head:c}of a.selection.ranges){let u=a.doc.lineAt(c);if(u.from==o)continue;o=u.from;let f=ph(a,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],p=Ks(a,f);h!=p&&l.push({from:u.from,to:u.from+h.length,insert:p})}return l.length?[n,{changes:l,sequential:!0}]:n})}const ZT=J.define(),YT=new xe;function k6(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function JT(n,e,t){let r=At(n);if(r.length<t)return null;let i=r.resolveInner(t,1),s=null;for(let a=i;a;a=a.parent){if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let o=a.type.prop(YT);if(o&&(a.to<r.length-50||r.length==n.doc.length||!XT(a))){let l=o(a,n);l&&l.from<=t&&l.from>=e&&l.to>t&&(s=l)}}return s}function XT(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Dc(n,e,t){for(let r of n.facet(ZT)){let i=r(n,e,t);if(i)return i}return JT(n,e,t)}function Sy(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const ou=pe.define({map:Sy}),ha=pe.define({map:Sy});function ky(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Jr=vt.define({create(){return le.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(ou)&&!QT(n,t.value.from,t.value.to)?n=n.update({add:[Gm.range(t.value.from,t.value.to)]}):t.is(ha)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>G.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(Gm.range(r,i))}return le.set(e,!0)}});function Rc(n,e,t){var r;let i=null;return(r=n.field(Jr,!1))===null||r===void 0||r.between(e,t,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function QT(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function Cy(n,e){return n.field(Jr,!1)?e:e.concat(pe.appendConfig.of(My()))}const eN=n=>{for(let e of ky(n)){let t=Dc(n.state,e.from,e.to);if(t)return n.dispatch({effects:Cy(n.state,[ou.of(t),Ay(n,t)])}),!0}return!1},tN=n=>{if(!n.state.field(Jr,!1))return!1;let e=[];for(let t of ky(n)){let r=Rc(n.state,t.from,t.to);r&&e.push(ha.of(r),Ay(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function Ay(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return G.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const nN=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=Dc(e,i.from,i.to);s&&t.push(ou.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:Cy(n.state,t)}),!!t.length},rN=n=>{let e=n.state.field(Jr,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ha.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},iN=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:eN},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:tN},{key:"Ctrl-Alt-[",run:nN},{key:"Ctrl-Alt-]",run:rN}],sN={placeholderDOM:null,placeholderText:""},aN=J.define({combine(n){return Yn(n,sN)}});function My(n){return[Jr,cN]}const Gm=le.replace({widget:new class extends sr{toDOM(n){let{state:e}=n,t=e.facet(aN),r=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),o=Rc(n.state,a.from,a.to);o&&n.dispatch({effects:ha.of(o)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,r);let i=document.createElement("span");return i.textContent=t.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),oN={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class nd extends rr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function lN(n={}){let e=Object.assign(Object.assign({},oN),n),t=new nd(e,!0),r=new nd(e,!1),i=it.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Rr)!=a.state.facet(Rr)||a.startState.field(Jr,!1)!=a.state.field(Jr,!1)||At(a.startState)!=At(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new Cr;for(let l of a.viewportLineBlocks){let c=Rc(a.state,l.from,l.to)?r:Dc(a.state,l.from,l.to)?t:null;c&&o.add(l.from,l.from,c)}return o.finish()}}),{domEventHandlers:s}=e;return[i,tT({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(i))===null||o===void 0?void 0:o.markers)||Pe.empty},initialSpacer(){return new nd(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(a,o,l)=>{if(s.click&&s.click(a,o,l))return!0;let c=Rc(a.state,o.from,o.to);if(c)return a.dispatch({effects:ha.of(c)}),!0;let u=Dc(a.state,o.from,o.to);return u?(a.dispatch({effects:ou.of(u)}),!0):!1}})}),My()]}const cN=G.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class pa{constructor(e,t){this.specs=e;let r;function i(o){let l=Ar.newName();return(r||(r=Object.create(null)))["."+l]=o,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof wn?o=>o.prop(Mi)==a.data:a?o=>o==a:void 0,this.style=by(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=r?new Ar(r):null,this.themeType=t.themeType}static define(e,t){return new pa(e,t||{})}}const bf=J.define(),Iy=J.define({combine(n){return n.length?[n[0]]:null}});function rd(n){let e=n.facet(bf);return e.length?e:n.facet(Iy)}function Ey(n,e){let t=[dN],r;return n instanceof pa&&(n.module&&t.push(G.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(Iy.of(n)):r?t.push(bf.computeN([G.darkTheme],i=>i.facet(G.darkTheme)==(r=="dark")?[n]:[])):t.push(bf.of(n)),t}class uN{constructor(e){this.markCache=Object.create(null),this.tree=At(e.state),this.decorations=this.buildDeco(e,rd(e.state))}update(e){let t=At(e.state),r=rd(e.state),i=r!=rd(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,t){if(!t||!this.tree.length)return le.none;let r=new Cr;for(let{from:i,to:s}of e.visibleRanges)TT(this.tree,t,(a,o,l)=>{r.add(a,o,this.markCache[l]||(this.markCache[l]=le.mark({class:l})))},i,s);return r.finish()}}const dN=ti.high(it.fromClass(uN,{decorations:n=>n.decorations})),fN=pa.define([{tag:j.meta,color:"#404740"},{tag:j.link,textDecoration:"underline"},{tag:j.heading,textDecoration:"underline",fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strong,fontWeight:"bold"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.keyword,color:"#708"},{tag:[j.atom,j.bool,j.url,j.contentSeparator,j.labelName],color:"#219"},{tag:[j.literal,j.inserted],color:"#164"},{tag:[j.string,j.deleted],color:"#a11"},{tag:[j.regexp,j.escape,j.special(j.string)],color:"#e40"},{tag:j.definition(j.variableName),color:"#00f"},{tag:j.local(j.variableName),color:"#30a"},{tag:[j.typeName,j.namespace],color:"#085"},{tag:j.className,color:"#167"},{tag:[j.special(j.variableName),j.macroName],color:"#256"},{tag:j.definition(j.propertyName),color:"#00c"},{tag:j.comment,color:"#940"},{tag:j.invalid,color:"#f00"}]),hN=G.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Dy=1e4,Ry="()[]{}",Oy=J.define({combine(n){return Yn(n,{afterCursor:!0,brackets:Ry,maxScanDistance:Dy,renderMatch:gN})}}),pN=le.mark({class:"cm-matchingBracket"}),mN=le.mark({class:"cm-nonmatchingBracket"});function gN(n){let e=[],t=n.matched?pN:mN;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const vN=vt.define({create(){return le.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(Oy);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Un(e.state,i.head,-1,r)||i.head>0&&Un(e.state,i.head-1,1,r)||r.afterCursor&&(Un(e.state,i.head,1,r)||i.head<e.state.doc.length&&Un(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return le.set(t,!0)},provide:n=>G.decorations.from(n)}),bN=[vN,hN];function xN(n={}){return[Oy.of(n),bN]}const yN=new xe;function xf(n,e,t){let r=n.prop(e<0?xe.openedBy:xe.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function yf(n){let e=n.type.prop(yN);return e?e(n.node):n}function Un(n,e,t,r={}){let i=r.maxScanDistance||Dy,s=r.brackets||Ry,a=At(n),o=a.resolveInner(e,t);for(let l=o;l;l=l.parent){let c=xf(l.type,t,s);if(c&&l.from<l.to){let u=yf(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return wN(n,e,t,l,u,c,s)}}return SN(n,e,t,a,o.type,i,s)}function wN(n,e,t,r,i,s,a){let o=r.parent,l={from:i.from,to:i.to},c=0,u=o?.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let f=yf(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(xf(u.type,t,a))c++;else if(xf(u.type,-t,a)){if(c==0){let f=yf(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function SN(n,e,t,r,i,s,a){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=s;){let p=u.value;t<0&&(h+=p.length);let g=e+h*t;for(let m=t>0?0:p.length-1,v=t>0?p.length:-1;m!=v;m+=t){let b=a.indexOf(p[m]);if(!(b<0||r.resolveInner(g+m,1).type!=i))if(b%2==0==t>0)f++;else{if(f==1)return{start:c,end:{from:g+m,to:g+m+1},matched:b>>1==l>>1};f--}}t>0&&(h+=p.length)}return u.done?{start:c,matched:!1}:null}const kN=Object.create(null),Km=[Jt.none],Zm=[],CN=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])CN[n]=AN(kN,e);function id(n,e){Zm.indexOf(n)>-1||(Zm.push(n),console.warn(e))}function AN(n,e){let t=null;for(let s of e.split(".")){let a=n[s]||j[s];a?typeof a=="function"?t?t=a(t):id(s,`Modifier ${s} used at start of tag`):t?id(s,`Tag ${s} used as modifier`):t=a:id(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let r=e.replace(/ /g,"_"),i=Jt.define({id:Km.length,name:r,props:[RT({[r]:t})]});return Km.push(i),i.id}const MN=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=vh(n.state,t.from);return r.line?IN(n):r.block?DN(n):!1};function gh(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const IN=gh(TN,0),EN=gh(Ty,0),DN=gh((n,e)=>Ty(n,e,ON(e)),0);function vh(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const ps=50;function RN(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-ps,r),a=n.sliceDoc(i,i+ps),o=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(a)[0].length,c=s.length-o;if(s.slice(c-e.length,c)==e&&a.slice(l,l+t.length)==t)return{open:{pos:r-o,margin:o&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-r<=2*ps?u=f=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+ps),f=n.sliceDoc(i-ps,i));let h=/^\s*/.exec(u)[0].length,p=/\s*$/.exec(f)[0].length,g=f.length-p-t.length;return u.slice(h,h+e.length)==e&&f.slice(g,g+t.length)==t?{open:{pos:r+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:i-p-t.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function ON(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function Ty(n,e,t=e.selection.ranges){let r=t.map(s=>vh(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,a)=>RN(e,r[a],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let a=0,o;a<i.length;a++)if(o=i[a]){let l=r[a],{open:c,close:u}=o;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function TN(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of t){let o=r.length,l=1e9,c=vh(e,s).line;if(c){for(let u=s;u<=a;){let f=e.doc.lineAt(u);if(f.from>i&&(s==a||a>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,p=h==f.length,g=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<l&&(l=h),r.push({line:f,comment:g,token:c,indent:h,empty:p,single:!1})}u=f.to+1}if(l<1e9)for(let u=o;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==o+1&&(r[o].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:l,indent:c,empty:u,single:f}of r)(f||!u)&&s.push({from:o.from+c,insert:l+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:o,token:l}of r)if(o>=0){let c=a.from+o,u=c+l.length;a.text[u-a.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const wf=Zn.define(),NN=Zn.define(),PN=J.define(),Ny=J.define({combine(n){return Yn(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}});function LN(n){let e=0;return n.iterChangedRanges((t,r)=>e=r),e}const Py=vt.define({create(){return zn.empty},update(n,e){let t=e.state.facet(Ny),r=e.annotation(wf);if(r){let l=e.docChanged?B.single(LN(e.changes)):void 0,c=Kt.fromTransaction(e,l),u=r.side,f=u==0?n.undone:n.done;return c?f=Oc(f,f.length,t.minDepth,c):f=jy(f,e.startState.selection),new zn(u==0?r.rest:f,u==0?f:r.rest)}let i=e.annotation(NN);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(ut.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Kt.fromTransaction(e),a=e.annotation(ut.time),o=e.annotation(ut.userEvent);return s?n=n.addChanges(s,a,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,a,o,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new zn(n.done.map(Kt.fromJSON),n.undone.map(Kt.fromJSON))}});function _N(n={}){return[Py,Ny.of(n),G.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?Ly:e.inputType=="historyRedo"?Sf:null;return r?(e.preventDefault(),r(t)):!1}})]}function lu(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(Py,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const Ly=lu(0,!1),Sf=lu(1,!1),jN=lu(0,!0),BN=lu(1,!0);class Kt{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Kt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Kt(e.changes&&ct.fromJSON(e.changes),[],e.mapped&&qn.fromJSON(e.mapped),e.startSelection&&B.fromJSON(e.startSelection),e.selectionsAfter.map(B.fromJSON))}static fromTransaction(e,t){let r=hn;for(let i of e.startState.facet(PN)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Kt(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,hn)}static selection(e){return new Kt(void 0,hn,void 0,void 0,e)}}function Oc(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function $N(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,a,o)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];o>=c&&a<=u&&(r=!0)}}),r}function FN(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function _y(n,e){return n.length?e.length?n.concat(e):n:e}const hn=[],HN=200;function jy(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-HN));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Oc(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Kt.selection([e])]}function VN(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function sd(n,e){if(!n.length)return n;let t=n.length,r=hn;for(;t;){let i=UN(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[Kt.selection(r)]:hn}function UN(n,e,t){let r=_y(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):hn,t);if(!n.changes)return Kt.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(s):s;return new Kt(i,pe.mapEffects(n.effects,e),a,n.startSelection.map(s),r)}const zN=/^(input\.type|delete)($|\.)/;class zn{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new zn(this.done,this.undone):this}addChanges(e,t,r,i,s){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||zN.test(r))&&(!o.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,$N(o.changes,e.changes))||r=="input.type.compose")?a=Oc(a,a.length-1,i.minDepth,new Kt(e.changes.compose(o.changes),_y(e.effects,o.effects),o.mapped,o.startSelection,hn)):a=Oc(a,a.length,i.minDepth,e),new zn(a,hn,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:hn;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&FN(s[s.length-1],e)?this:new zn(jy(this.done,e),this.undone,t,r)}addMapping(e){return new zn(sd(this.done,e),sd(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:wf.of({side:e,rest:VN(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?hn:i.slice(0,i.length-1);return s.mapped&&(a=sd(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:wf.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}zn.empty=new zn(hn,hn);const WN=[{key:"Mod-z",run:Ly,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Sf,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Sf,preventDefault:!0},{key:"Mod-u",run:jN,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:BN,preventDefault:!0}];function es(n,e){return B.create(n.ranges.map(e),n.mainIndex)}function Jn(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function En({state:n,dispatch:e},t){let r=es(n.selection,t);return r.eq(n.selection)?!1:(e(Jn(n,r)),!0)}function cu(n,e){return B.cursor(e?n.to:n.from)}function By(n,e){return En(n,t=>t.empty?n.moveByChar(t,e):cu(t,e))}function Rt(n){return n.textDirectionAt(n.state.selection.main.head)==qe.LTR}const $y=n=>By(n,!Rt(n)),Fy=n=>By(n,Rt(n));function Hy(n,e){return En(n,t=>t.empty?n.moveByGroup(t,e):cu(t,e))}const qN=n=>Hy(n,!Rt(n)),GN=n=>Hy(n,Rt(n));function KN(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function uu(n,e,t){let r=At(n).resolveInner(e.head),i=t?xe.closedBy:xe.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;KN(n,c,i)?r=c:l=t?c.to:c.from}let s=r.type.prop(i),a,o;return s&&(a=t?Un(n,r.from,1):Un(n,r.to,-1))&&a.matched?o=t?a.end.to:a.end.from:o=t?r.to:r.from,B.cursor(o,t?-1:1)}const ZN=n=>En(n,e=>uu(n.state,e,!Rt(n))),YN=n=>En(n,e=>uu(n.state,e,Rt(n)));function Vy(n,e){return En(n,t=>{if(!t.empty)return cu(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const Uy=n=>Vy(n,!1),zy=n=>Vy(n,!0);function Wy(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(G.scrollMargins)){let a=s(n);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(r=Math.max(a?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function qy(n,e){let t=Wy(n),{state:r}=n,i=es(r.selection,a=>a.empty?n.moveVertically(a,e,t.height):cu(a,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let a=n.coordsAtPos(r.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,c=o.bottom-t.marginBottom;a&&a.top>l&&a.bottom<c&&(s=G.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return n.dispatch(Jn(r,i),{effects:s}),!0}const Ym=n=>qy(n,!1),kf=n=>qy(n,!0);function Tr(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=B.cursor(r.from+s))}return i}const JN=n=>En(n,e=>Tr(n,e,!0)),XN=n=>En(n,e=>Tr(n,e,!1)),QN=n=>En(n,e=>Tr(n,e,!Rt(n))),e9=n=>En(n,e=>Tr(n,e,Rt(n))),t9=n=>En(n,e=>B.cursor(n.lineBlockAt(e.head).from,1)),n9=n=>En(n,e=>B.cursor(n.lineBlockAt(e.head).to,-1));function r9(n,e,t){let r=!1,i=es(n.selection,s=>{let a=Un(n,s.head,-1)||Un(n,s.head,1)||s.head>0&&Un(n,s.head-1,1)||s.head<n.doc.length&&Un(n,s.head+1,-1);if(!a||!a.end)return s;r=!0;let o=a.start.from==s.head?a.end.to:a.end.from;return B.cursor(o)});return r?(e(Jn(n,i)),!0):!1}const i9=({state:n,dispatch:e})=>r9(n,e);function vn(n,e){let t=es(n.state.selection,r=>{let i=e(r);return B.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Jn(n.state,t)),!0)}function Gy(n,e){return vn(n,t=>n.moveByChar(t,e))}const Ky=n=>Gy(n,!Rt(n)),Zy=n=>Gy(n,Rt(n));function Yy(n,e){return vn(n,t=>n.moveByGroup(t,e))}const s9=n=>Yy(n,!Rt(n)),a9=n=>Yy(n,Rt(n)),o9=n=>vn(n,e=>uu(n.state,e,!Rt(n))),l9=n=>vn(n,e=>uu(n.state,e,Rt(n)));function Jy(n,e){return vn(n,t=>n.moveVertically(t,e))}const Xy=n=>Jy(n,!1),Qy=n=>Jy(n,!0);function ew(n,e){return vn(n,t=>n.moveVertically(t,e,Wy(n).height))}const Jm=n=>ew(n,!1),Xm=n=>ew(n,!0),c9=n=>vn(n,e=>Tr(n,e,!0)),u9=n=>vn(n,e=>Tr(n,e,!1)),d9=n=>vn(n,e=>Tr(n,e,!Rt(n))),f9=n=>vn(n,e=>Tr(n,e,Rt(n))),h9=n=>vn(n,e=>B.cursor(n.lineBlockAt(e.head).from)),p9=n=>vn(n,e=>B.cursor(n.lineBlockAt(e.head).to)),Qm=({state:n,dispatch:e})=>(e(Jn(n,{anchor:0})),!0),eg=({state:n,dispatch:e})=>(e(Jn(n,{anchor:n.doc.length})),!0),tg=({state:n,dispatch:e})=>(e(Jn(n,{anchor:n.selection.main.anchor,head:0})),!0),ng=({state:n,dispatch:e})=>(e(Jn(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),m9=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),g9=({state:n,dispatch:e})=>{let t=fu(n).map(({from:r,to:i})=>B.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:B.create(t),userEvent:"select"})),!0},v9=({state:n,dispatch:e})=>{let t=es(n.selection,r=>{var i;let s=At(n).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return B.range(s.to,s.from)});return e(Jn(n,t)),!0},b9=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=B.create([t.main]):t.main.empty||(r=B.create([B.cursor(t.main.head)])),r?(e(Jn(n,r)),!0):!1};function du(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:a,to:o}=s;if(a==o){let l=e(a);l<a?(t="delete.backward",l=qa(n,l,!1)):l>a&&(t="delete.forward",l=qa(n,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=qa(n,a,!1),o=qa(n,o,!0);return a==o?{range:s}:{changes:{from:a,to:o},range:B.cursor(a)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?G.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function qa(n,e,t){if(n instanceof G)for(let r of n.state.facet(G.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const tw=(n,e)=>du(n,t=>{let{state:r}=n,i=r.doc.lineAt(t),s,a;if(!e&&t>i.from&&t<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,t-i.from))){if(s[s.length-1]=="	")return t-1;let o=oa(s,r.tabSize),l=o%Ec(r)||Ec(r);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)t--;a=t}else a=Et(i.text,t-i.from,e,e)+i.from,a==t&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),Cf=n=>tw(n,!1),nw=n=>tw(n,!0),rw=(n,e)=>du(n,t=>{let r=t,{state:i}=n,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let o=null;;){if(r==(e?s.to:s.from)){r==t&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Et(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=a(c);if(o!=null&&u!=o)break;(c!=" "||r!=t)&&(o=u),r=l}return r}),iw=n=>rw(n,!1),x9=n=>rw(n,!0),sw=n=>du(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),y9=n=>du(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),w9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:ke.of(["",""])},range:B.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},S9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),a=i==s.from?i-1:Et(s.text,i-s.from,!1)+s.from,o=i==s.to?i+1:Et(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:o,insert:n.doc.slice(i,o).append(n.doc.slice(a,i))},range:B.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function fu(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function aw(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of fu(n)){if(t?s.to==n.doc.length:s.from==0)continue;let a=n.doc.lineAt(t?s.to+1:s.from-1),o=a.length+1;if(t){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+n.lineBreak});for(let l of s.ranges)i.push(B.range(Math.min(n.doc.length,l.anchor+o),Math.min(n.doc.length,l.head+o)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:n.lineBreak+a.text});for(let l of s.ranges)i.push(B.range(l.anchor-o,l.head-o))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:B.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const k9=({state:n,dispatch:e})=>aw(n,e,!1),C9=({state:n,dispatch:e})=>aw(n,e,!0);function ow(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of fu(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const A9=({state:n,dispatch:e})=>ow(n,e,!1),M9=({state:n,dispatch:e})=>ow(n,e,!0),I9=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(fu(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=es(e.selection,i=>n.moveVertically(i,!0)).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function E9(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=At(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(xe.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const D9=lw(!1),R9=lw(!0);function lw(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:a}=i,o=e.doc.lineAt(s),l=!n&&s==a&&E9(e,s);n&&(s=a=(a<=o.to?o:e.doc.lineAt(a)).to);let c=new au(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=ph(c,s);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:s,to:a}=l:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let f=["",Ks(e,u)];return l&&f.push(Ks(e,c.lineIndent(o.from,-1))),{changes:{from:s,to:a,insert:ke.of(f)},range:B.cursor(s+1+f[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function bh(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let o=n.doc.lineAt(a);o.number>t&&(r.empty||r.to>o.from)&&(e(o,i,r),t=o.number),a=o.to+1}let s=n.changes(i);return{changes:i,range:B.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const O9=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new au(n,{overrideIndentation:s=>{let a=t[s];return a??-1}}),i=bh(n,(s,a,o)=>{let l=ph(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Ks(n,l);(c!=u||o.from<s.from+c.length)&&(t[s.from]=l,a.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},cw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(bh(n,(t,r)=>{r.push({from:t.from,insert:n.facet(fa)})}),{userEvent:"input.indent"})),!0),uw=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(bh(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=oa(i,n.tabSize),a=0,o=Ks(n,Math.max(0,s-Ec(n)));for(;a<i.length&&a<o.length&&i.charCodeAt(a)==o.charCodeAt(a);)a++;r.push({from:t.from+a,to:t.from+i.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),T9=[{key:"Ctrl-b",run:$y,shift:Ky,preventDefault:!0},{key:"Ctrl-f",run:Fy,shift:Zy},{key:"Ctrl-p",run:Uy,shift:Xy},{key:"Ctrl-n",run:zy,shift:Qy},{key:"Ctrl-a",run:t9,shift:h9},{key:"Ctrl-e",run:n9,shift:p9},{key:"Ctrl-d",run:nw},{key:"Ctrl-h",run:Cf},{key:"Ctrl-k",run:sw},{key:"Ctrl-Alt-h",run:iw},{key:"Ctrl-o",run:w9},{key:"Ctrl-t",run:S9},{key:"Ctrl-v",run:kf}],N9=[{key:"ArrowLeft",run:$y,shift:Ky,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:qN,shift:s9,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:QN,shift:d9,preventDefault:!0},{key:"ArrowRight",run:Fy,shift:Zy,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:GN,shift:a9,preventDefault:!0},{mac:"Cmd-ArrowRight",run:e9,shift:f9,preventDefault:!0},{key:"ArrowUp",run:Uy,shift:Xy,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Qm,shift:tg},{mac:"Ctrl-ArrowUp",run:Ym,shift:Jm},{key:"ArrowDown",run:zy,shift:Qy,preventDefault:!0},{mac:"Cmd-ArrowDown",run:eg,shift:ng},{mac:"Ctrl-ArrowDown",run:kf,shift:Xm},{key:"PageUp",run:Ym,shift:Jm},{key:"PageDown",run:kf,shift:Xm},{key:"Home",run:XN,shift:u9,preventDefault:!0},{key:"Mod-Home",run:Qm,shift:tg},{key:"End",run:JN,shift:c9,preventDefault:!0},{key:"Mod-End",run:eg,shift:ng},{key:"Enter",run:D9},{key:"Mod-a",run:m9},{key:"Backspace",run:Cf,shift:Cf},{key:"Delete",run:nw},{key:"Mod-Backspace",mac:"Alt-Backspace",run:iw},{key:"Mod-Delete",mac:"Alt-Delete",run:x9},{mac:"Mod-Backspace",run:y9},{mac:"Mod-Delete",run:sw}].concat(T9.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),P9=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ZN,shift:o9},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:YN,shift:l9},{key:"Alt-ArrowUp",run:k9},{key:"Shift-Alt-ArrowUp",run:A9},{key:"Alt-ArrowDown",run:C9},{key:"Shift-Alt-ArrowDown",run:M9},{key:"Escape",run:b9},{key:"Mod-Enter",run:R9},{key:"Alt-l",mac:"Ctrl-l",run:g9},{key:"Mod-i",run:v9,preventDefault:!0},{key:"Mod-[",run:uw},{key:"Mod-]",run:cw},{key:"Mod-Alt-\\",run:O9},{key:"Shift-Mod-k",run:I9},{key:"Shift-Mod-\\",run:i9},{key:"Mod-/",run:MN},{key:"Alt-A",run:EN}].concat(N9),L9={key:"Tab",run:cw,shift:uw};function $e(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)dw(n,arguments[e]);return n}function dw(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)dw(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const rg=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Ui{constructor(e,t,r=0,i=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?o=>s(rg(o)):rg,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return wt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=eh(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=dn(e);let i=this.normalize(t);for(let s=0,a=r;;s++){let o=i.charCodeAt(s),l=this.match(o,a);if(s==i.length-1){if(l)return this.value=l,this;break}a==r&&s<t.length&&t.charCodeAt(s)==o&&a++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:t+1}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(Ui.prototype[Symbol.iterator]=function(){return this});const fw={from:-1,to:-1,match:/.*/.exec("")},xh="gm"+(/x/.unicode==null?"":"u");class hw{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=fw,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new pw(e,t,r,i,s);this.re=new RegExp(t,xh+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=Tc(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Tc(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ad=new WeakMap;class _i{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=ad.get(e);if(!i||i.from>=r||i.to<=t){let o=new _i(t,e.sliceString(t,r));return ad.set(e,o),o}if(i.from==t&&i.to==r)return i;let{text:s,from:a}=i;return a>t&&(s=e.sliceString(t,a)+s,a=t),i.to<r&&(s+=e.sliceString(i.to,r)),ad.set(e,new _i(a,s)),new _i(t,s.slice(t-a,r-a))}}class pw{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=fw,this.matchPos=Tc(e,i),this.re=new RegExp(t,xh+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=_i.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Tc(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=_i.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(hw.prototype[Symbol.iterator]=pw.prototype[Symbol.iterator]=function(){return this});function _9(n){try{return new RegExp(n,xh),!0}catch{return!1}}function Tc(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function Af(n){let e=$e("input",{class:"cm-textfield",name:"line"}),t=$e("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),n.dispatch({effects:Nc.of(!1)}),n.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},$e("label",n.state.phrase("Go to line"),": ",e)," ",$e("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,o,l,c,u]=i,f=c?+c.slice(1):0,h=l?+l:a.number;if(l&&u){let m=h/100;o&&(m=m*(o=="-"?-1:1)+a.number/s.doc.lines),h=Math.round(s.doc.lines*m)}else l&&o&&(h=h*(o=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,h))),g=B.cursor(p.from+Math.max(0,Math.min(f,p.length)));n.dispatch({effects:[Nc.of(!1),G.scrollIntoView(g.from,{y:"center"})],selection:g}),n.focus()}return{dom:t}}const Nc=pe.define(),ig=vt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Nc)&&(n=t.value);return n},provide:n=>Ws.from(n,e=>e?Af:null)}),j9=n=>{let e=zs(n,Af);if(!e){let t=[Nc.of(!0)];n.state.field(ig,!1)==null&&t.push(pe.appendConfig.of([ig,B9])),n.dispatch({effects:t}),e=zs(n,Af)}return e&&e.dom.querySelector("input").focus(),!0},B9=G.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),$9={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},F9=J.define({combine(n){return Yn(n,$9,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function H9(n){return[q9,W9]}const V9=le.mark({class:"cm-selectionMatch"}),U9=le.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function sg(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Ue.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Ue.Word)}function z9(n,e,t,r){return n(e.sliceDoc(t,t+1))==Ue.Word&&n(e.sliceDoc(r-1,r))==Ue.Word}const W9=it.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(F9),{state:t}=n,r=t.selection;if(r.ranges.length>1)return le.none;let i=r.main,s,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return le.none;let l=t.wordAt(i.head);if(!l)return le.none;a=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return le.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),a=t.charCategorizer(i.head),!(sg(a,t,i.from,i.to)&&z9(a,t,i.from,i.to)))return le.none}else if(s=t.sliceDoc(i.from,i.to).trim(),!s)return le.none}let o=[];for(let l of n.visibleRanges){let c=new Ui(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!a||sg(a,t,u,f))&&(i.empty&&u<=i.from&&f>=i.to?o.push(U9.range(u,f)):(u>=i.to||f<=i.from)&&o.push(V9.range(u,f)),o.length>e.maxMatches))return le.none}}return le.set(o)}},{decorations:n=>n.decorations}),q9=G.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),G9=({state:n,dispatch:e})=>{let{selection:t}=n,r=B.create(t.ranges.map(i=>n.wordAt(i.head)||B.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function K9(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let a=!1,o=new Ui(n.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new Ui(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(l=>l.from==o.value.from))continue;if(s){let l=n.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const Z9=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return G9({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=K9(n,r);return i?(e(n.update({selection:n.selection.addRange(B.range(i.from,i.to),!1),effects:G.scrollIntoView(i.to)})),!0):!1},ts=J.define({combine(n){return Yn(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new oP(e),scrollToMatch:e=>G.scrollIntoView(e)})}});class mw{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||_9(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Q9(this):new J9(this)}getCursor(e,t=0,r){let i=e.doc?e:ye.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?wi(this,i,t,r):yi(this,i,t,r)}}class gw{constructor(e){this.spec=e}}function yi(n,e,t,r){return new Ui(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?Y9(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Y9(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Pc(i,t-s))!=Ue.Word||e(Lc(i,t-s))!=Ue.Word)&&(e(Lc(i,r-s))!=Ue.Word||e(Pc(i,r-s))!=Ue.Word))}class J9 extends gw{constructor(e){super(e)}nextMatch(e,t,r){let i=yi(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=yi(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),a=yi(this.spec,e,s,i),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=yi(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=yi(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function wi(n,e,t,r){return new hw(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?X9(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Pc(n,e){return n.slice(Et(n,e,!1),e)}function Lc(n,e){return n.slice(e,Et(n,e))}function X9(n){return(e,t,r)=>!r[0].length||(n(Pc(r.input,r.index))!=Ue.Word||n(Lc(r.input,r.index))!=Ue.Word)&&(n(Lc(r.input,r.index+r[0].length))!=Ue.Word||n(Pc(r.input,r.index+r[0].length))!=Ue.Word)}class Q9 extends gw{nextMatch(e,t,r){let i=wi(this.spec,e,r,e.doc.length).next();return i.done&&(i=wi(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),a=wi(this.spec,e,s,r),o=null;for(;!a.next().done;)o=a.value;if(o&&(s==t||o.from>s+10))return o;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=wi(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=wi(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Zs=pe.define(),yh=pe.define(),wr=vt.define({create(n){return new od(Mf(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Zs)?n=new od(t.value.create(),n.panel):t.is(yh)&&(n=new od(n.query,t.value?wh:null));return n},provide:n=>Ws.from(n,e=>e.panel)});class od{constructor(e,t){this.query=e,this.panel=t}}const eP=le.mark({class:"cm-searchMatch"}),tP=le.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nP=it.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(wr))}update(n){let e=n.state.field(wr);(e!=n.startState.field(wr)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return le.none;let{view:t}=this,r=new Cr;for(let i=0,s=t.visibleRanges,a=s.length;i<a;i++){let{from:o,to:l}=s[i];for(;i<a-1&&l>s[i+1].from-500;)l=s[++i].to;n.highlight(t.state,o,l,(c,u)=>{let f=t.state.selection.ranges.some(h=>h.from==c&&h.to==u);r.add(c,u,f?tP:eP)})}return r.finish()}},{decorations:n=>n.decorations});function ma(n){return e=>{let t=e.state.field(wr,!1);return t&&t.query.spec.valid?n(e,t):xw(e)}}const _c=ma((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=B.single(r.from,r.to),s=n.state.facet(ts);return n.dispatch({selection:i,effects:[Sh(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),bw(n),!0}),jc=ma((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=B.single(i.from,i.to),a=n.state.facet(ts);return n.dispatch({selection:s,effects:[Sh(n,i),a.scrollToMatch(s.main,n)],userEvent:"select.search"}),bw(n),!0}),rP=ma((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:B.create(t.map(r=>B.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),iP=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],a=0;for(let o=new Ui(n.doc,n.sliceDoc(r,i));!o.next().done;){if(s.length>1e3)return!1;o.value.from==r&&(a=s.length),s.push(B.range(o.value.from,o.value.to))}return e(n.update({selection:B.create(s,a),userEvent:"select.search.matches"})),!0},ag=ma((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let a=[],o,l,c=[];if(s.from==r&&s.to==i&&(l=t.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(t,s.from,s.to),c.push(G.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),s){let u=a.length==0||a[0].from>=s.to?0:s.to-s.from-l.length;o=B.single(s.from-u,s.to-u),c.push(Sh(n,s)),c.push(t.facet(ts).scrollToMatch(o.main,n))}return n.dispatch({changes:a,selection:o,effects:c,userEvent:"input.replace"}),!0}),sP=ma((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:G.announce.of(r),userEvent:"input.replace.all"}),!0});function wh(n){return n.state.facet(ts).createPanel(n)}function Mf(n,e){var t,r,i,s,a;let o=n.selection.main,l=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!l)return e;let c=n.facet(ts);return new mw({search:((t=e?.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:c.wholeWord})}function vw(n){let e=zs(n,wh);return e&&e.dom.querySelector("[main-field]")}function bw(n){let e=vw(n);e&&e==n.root.activeElement&&e.select()}const xw=n=>{let e=n.state.field(wr,!1);if(e&&e.panel){let t=vw(n);if(t&&t!=n.root.activeElement){let r=Mf(n.state,e.query.spec);r.valid&&n.dispatch({effects:Zs.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[yh.of(!0),e?Zs.of(Mf(n.state,e.query.spec)):pe.appendConfig.of(cP)]});return!0},yw=n=>{let e=n.state.field(wr,!1);if(!e||!e.panel)return!1;let t=zs(n,wh);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:yh.of(!1)}),!0},aP=[{key:"Mod-f",run:xw,scope:"editor search-panel"},{key:"F3",run:_c,shift:jc,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:_c,shift:jc,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yw,scope:"editor search-panel"},{key:"Mod-Shift-l",run:iP},{key:"Alt-g",run:j9},{key:"Mod-d",run:Z9,preventDefault:!0}];class oP{constructor(e){this.view=e;let t=this.query=e.state.field(wr).query.spec;this.commit=this.commit.bind(this),this.searchField=$e("input",{value:t.search,placeholder:Qt(e,"Find"),"aria-label":Qt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$e("input",{value:t.replace,placeholder:Qt(e,"Replace"),"aria-label":Qt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$e("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=$e("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=$e("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,a){return $e("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.dom=$e("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>_c(e),[Qt(e,"next")]),r("prev",()=>jc(e),[Qt(e,"previous")]),r("select",()=>rP(e),[Qt(e,"all")]),$e("label",null,[this.caseField,Qt(e,"match case")]),$e("label",null,[this.reField,Qt(e,"regexp")]),$e("label",null,[this.wordField,Qt(e,"by word")]),...e.state.readOnly?[]:[$e("br"),this.replaceField,r("replace",()=>ag(e),[Qt(e,"replace")]),r("replaceAll",()=>sP(e),[Qt(e,"replace all")])],$e("button",{name:"close",onclick:()=>yw(e),"aria-label":Qt(e,"close"),type:"button"},[""])])}commit(){let e=new mw({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Zs.of(e)}))}keydown(e){dO(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?jc:_c)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),ag(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Zs)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(ts).top}}function Qt(n,e){return n.state.phrase(e)}const Ga=30,Ka=/[\s\.,:;?!]/;function Sh(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-Ga),a=Math.min(i,t+Ga),o=n.state.sliceDoc(s,a);if(s!=r.from){for(let l=0;l<Ga;l++)if(!Ka.test(o[l+1])&&Ka.test(o[l])){o=o.slice(l);break}}if(a!=i){for(let l=o.length-1;l>o.length-Ga;l--)if(!Ka.test(o[l-1])&&Ka.test(o[l])){o=o.slice(0,l);break}}return G.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${r.number}.`)}const lP=G.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),cP=[wr,ti.lowest(nP),lP];class ww{constructor(e,t,r){this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let t=At(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(Sw(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function og(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function uP(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=og(e)+og(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function dP(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:uP(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function C6(n,e){return t=>{for(let r=At(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class lg{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Sr(n){return n.selection.main.from}function Sw(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const kw=Zn.define();function fP(n,e,t,r){let{main:i}=n.selection,s=t-i.from,a=r-i.from;return Object.assign(Object.assign({},n.changeByRange(o=>o!=i&&t!=r&&n.sliceDoc(o.from+s,o.from+a)!=n.sliceDoc(t,r)?{range:o}:{changes:{from:o.from+s,to:r==i.from?o.to:o.from+a,insert:e},range:B.cursor(o.from+s+e.length)})),{userEvent:"input.complete"})}const cg=new WeakMap;function hP(n){if(!Array.isArray(n))return n;let e=cg.get(n);return e||cg.set(n,e=dP(n)),e}const kh=pe.define(),Ys=pe.define();class pP{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=wt(e,t),i=dn(r);this.chars.push(r);let s=e.slice(t,t+i),a=s.toUpperCase();this.folded.push(wt(a==s?s.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:r,any:i,precise:s,byWord:a}=this;if(t.length==1){let x=wt(e,0),w=dn(x),S=w==e.length?0:-100;if(x!=t[0])if(x==r[0])S+=-200;else return!1;return this.ret(S,[0,w])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(o<0){for(let x=0,w=Math.min(e.length,200);x<w&&c<l;){let S=wt(e,x);(S==t[c]||S==r[c])&&(i[c++]=x),x+=dn(S)}if(c<l)return!1}let u=0,f=0,h=!1,p=0,g=-1,m=-1,v=/[a-z]/.test(e),b=!0;for(let x=0,w=Math.min(e.length,200),S=0;x<w&&f<l;){let k=wt(e,x);o<0&&(u<l&&k==t[u]&&(s[u++]=x),p<l&&(k==t[p]||k==r[p]?(p==0&&(g=x),m=x+1,p++):p=0));let A,C=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(A=eh(k))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!x||C==1&&v||S==0&&C!=0)&&(t[f]==k||r[f]==k&&(h=!0)?a[f++]=x:a.length&&(b=!1)),S=C,x+=dn(k)}return f==l&&a[0]==0&&b?this.result(-100+(h?-200:0),a,e):p==l&&g==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):p==l?this.ret(-900-e.length,[g,m]):f==l?this.result(-100+(h?-200:0)+-700+(b?0:-1100),a,e):t.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let a of t){let o=a+(this.astral?dn(wt(r,a)):1);s&&i[s-1]==a?i[s-1]=o:(i[s++]=a,i[s++]=o)}return this.ret(e-r.length,i)}}const Zt=J.define({combine(n){return Yn(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:mP,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>ug(e(r),t(r)),optionClass:(e,t)=>r=>ug(e(r),t(r)),addToOptions:(e,t)=>e.concat(t)})}});function ug(n,e){return n?e?n+" "+e:n:e}function mP(n,e,t,r,i){let s=n.textDirection==qe.RTL,a=s,o=!1,l="top",c,u,f=e.left-i.left,h=i.right-e.right,p=r.right-r.left,g=r.bottom-r.top;if(a&&f<Math.min(p,h)?a=!1:!a&&h<Math.min(p,f)&&(a=!0),p<=(a?f:h))c=Math.max(i.top,Math.min(t.top,i.bottom-g))-e.top,u=Math.min(400,a?f:h);else{o=!0,u=Math.min(400,(s?e.right:i.right-e.left)-30);let m=i.bottom-e.bottom;m>=g||m>e.top?c=t.bottom-e.top:(l="bottom",c=e.bottom-t.top)}return{style:`${l}: ${c}px; max-width: ${u}px`,class:"cm-completionInfo-"+(o?s?"left-narrow":"right-narrow":a?"left":"right")}}function gP(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,o=0;for(let l=0;l<i.length;){let c=i[l++],u=i[l++];c>o&&s.appendChild(document.createTextNode(a.slice(o,c)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(c,u))),f.className="cm-completionMatchedText",o=u}return o<a.length&&s.appendChild(document.createTextNode(a.slice(o))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function dg(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class vP{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:a}=i.open,o=e.state.facet(Zt);this.optionContent=gP(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=dg(s.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let c=l.target,u;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(u=/-(\d+)$/.exec(c.id))&&+u[1]<s.length){this.applyCompletion(e,s[+u[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Zt).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ys.of(null)})}),this.list=this.dom.appendChild(this.createListBox(s,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,r,i;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=a&&(this.updateSel(),((t=s.open)===null||t===void 0?void 0:t.disabled)!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=dg(t.options.length,t.selected,this.view.state.facet(Zt).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,r)}).catch(a=>mn(this.view.state,a,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&xP(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Zt).positionInfo(this.view,t,i,r,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let a=r.from;a<r.to;a++){let{completion:o,match:l}=e[a],{section:c}=o;if(c){let h=typeof c=="string"?c:c.name;if(h!=s&&(a>r.from||r.from==0))if(s=h,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=h}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+a,u.setAttribute("role","option");let f=this.optionClass(o);f&&(u.className=f);for(let h of this.optionContent){let p=h(o,this.view.state,l);p&&u.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function bP(n,e){return t=>new vP(t,n,e)}function xP(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<t.top?n.scrollTop-=t.top-r.top:r.bottom>t.bottom&&(n.scrollTop+=r.bottom-t.bottom)}function fg(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function yP(n,e){let t=[],r=null,i=l=>{t.push(l);let{section:c}=l.completion;if(c){r||(r=[]);let u=typeof c=="string"?c:c.name;r.some(f=>f.name==u)||r.push(typeof c=="string"?{name:u}:c)}};for(let l of n)if(l.hasResult()){let c=l.result.getMatch;if(l.result.filter===!1)for(let u of l.result.options)i(new lg(u,l.source,c?c(u):[],1e9-t.length));else{let u=new pP(e.sliceDoc(l.from,l.to));for(let f of l.result.options)if(u.match(f.label)){let h=f.displayLabel?c?c(f,u.matched):[]:u.matched;i(new lg(f,l.source,h,u.score+(f.boost||0)))}}}if(r){let l=Object.create(null),c=0,u=(f,h)=>{var p,g;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(f.name<h.name?-1:1)};for(let f of r.sort(u))c-=1e5,l[f.name]=c;for(let f of t){let{section:h}=f.completion;h&&(f.score+=l[typeof h=="string"?h:h.name])}}let s=[],a=null,o=e.facet(Zt).compareCompletions;for(let l of t.sort((c,u)=>u.score-c.score||o(c.completion,u.completion))){let c=l.completion;!a||a.label!=c.label||a.detail!=c.detail||a.type!=null&&c.type!=null&&a.type!=c.type||a.apply!=c.apply||a.boost!=c.boost?s.push(l):fg(l.completion)>fg(a)&&(s[s.length-1]=l),a=l.completion}return s}class Ii{constructor(e,t,r,i,s,a){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Ii(this.options,hg(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s){let a=yP(e,t);if(!a.length)return i&&e.some(l=>l.state==1)?new Ii(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let o=t.facet(Zt).selectOnOpen?0:-1;if(i&&i.selected!=o&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==l){o=c;break}}return new Ii(a,hg(r,o),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:bP(nn,Mw),above:s.aboveCursor},i?i.timestamp:Date.now(),o,!1)}map(e){return new Ii(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Bc{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Bc(kP,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Zt),s=(r.override||t.languageDataAt("autocomplete",Sr(t)).map(hP)).map(o=>(this.active.find(c=>c.source==o)||new Gt(o,this.active.some(c=>c.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((o,l)=>o==this.active[l])&&(s=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!wP(s,this.active)?a=Ii.build(s,t,this.id,a,r):a&&a.disabled&&!s.some(o=>o.state==1)&&(a=null),!a&&s.every(o=>o.state!=1)&&s.some(o=>o.hasResult())&&(s=s.map(o=>o.hasResult()?new Gt(o.source,0):o));for(let o of e.effects)o.is(Aw)&&(a=a&&a.setSelected(o.value,this.id));return s==this.active&&a==this.open?this:new Bc(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:SP}}function wP(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const SP={"aria-autocomplete":"list"};function hg(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const kP=[];function If(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Gt{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=If(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new Gt(i.source,0));for(let s of e.effects)if(s.is(kh))i=new Gt(i.source,1,s.value?Sr(e.state):-1);else if(s.is(Ys))i=new Gt(i.source,0);else if(s.is(Cw))for(let a of s.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,t,r){return t=="delete"||!r.activateOnTyping?this.map(e.changes):new Gt(this.source,1)}handleChange(e){return e.changes.touchesRange(Sr(e.startState))?new Gt(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Gt(this.source,this.state,e.mapPos(this.explicitPos))}}class ji extends Gt{constructor(e,t,r,i,s){super(e,2,t),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,t,r){var i;let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=Sr(e.state);if((this.explicitPos<0?o<=s:o<this.from)||o>a||t=="delete"&&Sr(e.startState)==this.from)return new Gt(this.source,t=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return CP(this.result.validFor,e.state,s,a)?new ji(this.source,l,this.result,s,a):this.result.update&&(c=this.result.update(this.result,s,a,new ww(e.state,o,l>=0)))?new ji(this.source,l,c,c.from,(i=c.to)!==null&&i!==void 0?i:Sr(e.state)):new Gt(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Gt(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new ji(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function CP(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):Sw(n,!0).test(i)}const Cw=pe.define({map(n,e){return n.map(t=>t.map(e))}}),Aw=pe.define(),nn=vt.define({create(){return Bc.start()},update(n,e){return n.update(e)},provide:n=>[ch.from(n,e=>e.tooltip),G.contentAttributes.from(n,e=>e.attrs)]});function Mw(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(nn).active.find(i=>i.source==e.source);return r instanceof ji?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},fP(n.state,t,r.from,r.to)),{annotations:kw.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}function Za(n,e="option"){return t=>{let r=t.state.field(nn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Zt).interactionDelay)return!1;let i=1,s;e=="page"&&(s=cy(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:Aw.of(o)}),!0}}const AP=n=>{let e=n.state.field(nn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Zt).interactionDelay?!1:Mw(n,e.open.options[e.open.selected])},MP=n=>n.state.field(nn,!1)?(n.dispatch({effects:kh.of(!0)}),!0):!1,IP=n=>{let e=n.state.field(nn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Ys.of(null)}),!0)};class EP{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const pg=50,DP=50,RP=1e3,OP=it.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(nn).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(nn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(nn)==e)return;let t=n.transactions.some(r=>(r.selection||r.docChanged)&&!If(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(t||i.updates.length+n.transactions.length>DP&&Date.now()-i.time>RP){for(let s of i.context.abortListeners)try{s()}catch(a){mn(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),pg):-1,this.composing!=0)for(let r of n.transactions)If(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(nn);for(let t of e.active)t.state==1&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Sr(e),r=new ww(e,t,n.explicitPos==t),i=new EP(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ys.of(null)}),mn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),pg))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Zt);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let a=new ji(i.active.source,i.active.explicitPos,i.done,i.done.from,(n=i.done.to)!==null&&n!==void 0?n:Sr(i.updates.length?i.updates[0].startState:this.view.state));for(let o of i.updates)a=a.update(o,t);if(a.hasResult()){e.push(a);continue}}let s=this.view.state.field(nn).active.find(a=>a.source==i.active.source);if(s&&s.state==1)if(i.done==null){let a=new Gt(i.active.source,0);for(let o of i.updates)a=a.update(o,t);a.state!=1&&e.push(a)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:Cw.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(nn,!1);if(e&&e.tooltip&&this.view.state.facet(Zt).closeOnBlur){let t=e.open&&cy(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:Ys.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:kh.of(!1)}),20),this.composing=0}}}),Iw=G.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class TP{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class Ch{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,kt.TrackDel),r=e.mapPos(this.to,1,kt.TrackDel);return t==null||r==null?null:new Ch(this.field,t,r)}}class Ah{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),a=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=a,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(fa);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let o=this.fieldPositions.map(l=>new Ch(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:o}}static parse(e){let t=[],r=[],i=[],s;for(let a of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(a);){let o=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1;for(let u=0;u<t.length;u++)(o!=null?t[u].seq==o:l&&t[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<t.length&&(o==null||t[u].seq!=null&&t[u].seq<o);)u++;t.splice(u,0,{seq:o,name:l}),c=u;for(let f of i)f.field>=c&&f.field++}i.push(new TP(c,r.length,s.index,s.index+l.length)),a=a.slice(0,s.index)+l+a.slice(s.index+s[0].length)}for(let o;o=/\\([{}])/.exec(a);){a=a.slice(0,o.index)+o[1]+a.slice(o.index+o[0].length);for(let l of i)l.line==r.length&&l.from>o.index&&(l.from--,l.to--)}r.push(a)}return new Ah(r,i)}}let NP=le.widget({widget:new class extends sr{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),PP=le.mark({class:"cm-snippetField"});class ns{constructor(e,t){this.ranges=e,this.active=t,this.deco=le.set(e.map(r=>(r.from==r.to?NP:PP).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new ns(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const ga=pe.define({map(n,e){return n&&n.map(e)}}),LP=pe.define(),Js=vt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(ga))return t.value;if(t.is(LP)&&n)return new ns(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>G.decorations.from(n,e=>e?e.deco:le.none)});function Mh(n,e){return B.create(n.filter(t=>t.field==e).map(t=>B.range(t.from,t.to)))}function _P(n){let e=Ah.parse(n);return(t,r,i,s)=>{let{text:a,ranges:o}=e.instantiate(t.state,i),l={changes:{from:i,to:s,insert:ke.of(a)},scrollIntoView:!0,annotations:r?kw.of(r):void 0};if(o.length&&(l.selection=Mh(o,0)),o.length>1){let c=new ns(o,0),u=l.effects=[ga.of(c)];t.state.field(Js,!1)===void 0&&u.push(pe.appendConfig.of([Js,HP,VP,Iw]))}t.dispatch(t.state.update(l))}}function Ew(n){return({state:e,dispatch:t})=>{let r=e.field(Js,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(a=>a.field==i+n);return t(e.update({selection:Mh(r.ranges,i),effects:ga.of(s?null:new ns(r.ranges,i))})),!0}}const jP=({state:n,dispatch:e})=>n.field(Js,!1)?(e(n.update({effects:ga.of(null)})),!0):!1,BP=Ew(1),$P=Ew(-1),FP=[{key:"Tab",run:BP,shift:$P},{key:"Escape",run:jP}],mg=J.define({combine(n){return n.length?n[0]:FP}}),HP=ti.highest(ua.compute([mg],n=>n.facet(mg)));function A6(n,e){return Object.assign(Object.assign({},e),{apply:_P(n)})}const VP=G.domEventHandlers({mousedown(n,e){let t=e.state.field(Js,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:Mh(t.ranges,i.field),effects:ga.of(t.ranges.some(s=>s.field>i.field)?new ns(t.ranges,i.field):null)}),!0)}}),Xs={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},zr=pe.define({map(n,e){let t=e.mapPos(n,-1,kt.TrackAfter);return t??void 0}}),Ih=new class extends Zr{};Ih.startSide=1;Ih.endSide=-1;const Dw=vt.define({create(){return Pe.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(r,-1)&&(n=Pe.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(zr)&&(n=n.update({add:[Ih.range(t.value,t.value+1)]}));return n}});function UP(){return[WP,Dw]}const ld="()[]{}<>";function Rw(n){for(let e=0;e<ld.length;e+=2)if(ld.charCodeAt(e)==n)return ld.charAt(e+1);return eh(n<128?n:n+1)}function Ow(n,e){return n.languageDataAt("closeBrackets",e)[0]||Xs}const zP=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),WP=G.inputHandler.of((n,e,t,r)=>{if((zP?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&dn(wt(r,0))==1||e!=i.from||t!=i.to)return!1;let s=KP(n.state,r);return s?(n.dispatch(s),!0):!1}),qP=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=Ow(n,n.selection.main.head).brackets||Xs.brackets,i=null,s=n.changeByRange(a=>{if(a.empty){let o=ZP(n.doc,a.head);for(let l of r)if(l==o&&hu(n.doc,a.head)==Rw(wt(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:B.cursor(a.head-l.length)}}return{range:i=a}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},GP=[{key:"Backspace",run:qP}];function KP(n,e){let t=Ow(n,n.selection.main.head),r=t.brackets||Xs.brackets;for(let i of r){let s=Rw(wt(i,0));if(e==i)return s==i?XP(n,i,r.indexOf(i+i+i)>-1,t):YP(n,i,s,t.before||Xs.before);if(e==s&&Tw(n,n.selection.main.from))return JP(n,i,s)}return null}function Tw(n,e){let t=!1;return n.field(Dw).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function hu(n,e){let t=n.sliceString(e,e+2);return t.slice(0,dn(wt(t,0)))}function ZP(n,e){let t=n.sliceString(e-2,e);return dn(wt(t,0))==t.length?t:t.slice(1)}function YP(n,e,t,r){let i=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:zr.of(a.to+e.length),range:B.range(a.anchor+e.length,a.head+e.length)};let o=hu(n.doc,a.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+t,from:a.head},effects:zr.of(a.head+e.length),range:B.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function JP(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&hu(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:B.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function XP(n,e,t,r){let i=r.stringPrefixes||Xs.stringPrefixes,s=null,a=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:zr.of(o.to+e.length),range:B.range(o.anchor+e.length,o.head+e.length)};let l=o.head,c=hu(n.doc,l),u;if(c==e){if(gg(n,l))return{changes:{insert:e+e,from:l},effects:zr.of(l+e.length),range:B.cursor(l+e.length)};if(Tw(n,l)){let h=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:B.cursor(l+h.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=vg(n,l-2*e.length,i))>-1&&gg(n,u))return{changes:{insert:e+e+e+e,from:l},effects:zr.of(l+e.length),range:B.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Ue.Word&&vg(n,l,i)>-1&&!QP(n,l,e,i))return{changes:{insert:e+e,from:l},effects:zr.of(l+e.length),range:B.cursor(l+e.length)}}return{range:s=o}});return s?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function gg(n,e){let t=At(n).resolveInner(e+1);return t.parent&&t.from==e}function QP(n,e,t,r){let i=At(n).resolveInner(e,-1),s=r.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=o.indexOf(t);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function vg(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Ue.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Ue.Word)return s}return-1}function e3(n={}){return[nn,Zt.of(n),OP,t3,Iw]}const Nw=[{key:"Ctrl-Space",run:MP},{key:"Escape",run:IP},{key:"ArrowDown",run:Za(!0)},{key:"ArrowUp",run:Za(!1)},{key:"PageDown",run:Za(!0,"page")},{key:"PageUp",run:Za(!1,"page")},{key:"Enter",run:AP}],t3=ti.highest(ua.computeN([Zt],n=>n.facet(Zt).defaultKeymap?[Nw]:[]));class n3{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Hr{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(_w).markerFilter;s&&(i=s(i));let a=le.set(i.map(o=>o.from==o.to||o.from==o.to-1&&r.doc.lineAt(o.from).to==o.from?le.widget({widget:new d3(o),diagnostic:o}).range(o.from):le.mark({attributes:{class:"cm-lintRange cm-lintRange-"+o.severity+(o.markClass?" "+o.markClass:"")},diagnostic:o}).range(o.from,o.to)),!0);return new Hr(a,t,zi(a))}}function zi(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:a})=>{if(!(e&&a.diagnostic!=e))return r=new n3(i,s,a.diagnostic),!1}),r}function r3(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(r=>r.is(Pw))||n.changes.touchesRange(t.from,t.to))}function i3(n,e){return n.field(an,!1)?e:e.concat(pe.appendConfig.of(p3))}const Pw=pe.define(),Eh=pe.define(),Lw=pe.define(),an=vt.define({create(){return new Hr(le.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),r=null;if(n.selected){let i=e.changes.mapPos(n.selected.from,1);r=zi(t,n.selected.diagnostic,i)||zi(t,null,i)}n=new Hr(t,n.panel,r)}for(let t of e.effects)t.is(Pw)?n=Hr.init(t.value,n.panel,e.state):t.is(Eh)?n=new Hr(n.diagnostics,t.value?pu.open:null,n.selected):t.is(Lw)&&(n=new Hr(n.diagnostics,n.panel,t.value));return n},provide:n=>[Ws.from(n,e=>e.panel),G.decorations.from(n,e=>e.diagnostics)]}),s3=le.mark({class:"cm-lintRange cm-lintRange-active"});function a3(n,e,t){let{diagnostics:r}=n.state.field(an),i=[],s=2e8,a=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(i.push(u.diagnostic),s=Math.min(l,s),a=Math.max(c,a))});let o=n.state.facet(_w).tooltipFilter;return o&&(i=o(i)),i.length?{pos:s,end:a,above:n.state.doc.lineAt(s).to<a,create(){return{dom:o3(n,i)}}}:null}function o3(n,e){return $e("ul",{class:"cm-tooltip-lint"},e.map(t=>Bw(n,t,!1)))}const l3=n=>{let e=n.state.field(an,!1);(!e||!e.panel)&&n.dispatch({effects:i3(n.state,[Eh.of(!0)])});let t=zs(n,pu.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},bg=n=>{let e=n.state.field(an,!1);return!e||!e.panel?!1:(n.dispatch({effects:Eh.of(!1)}),!0)},c3=n=>{let e=n.state.field(an,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},u3=[{key:"Mod-Shift-m",run:l3,preventDefault:!0},{key:"F8",run:c3}],_w=J.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Yn(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function jw(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Bw(n,e,t){var r;let i=t?jw(e.actions):[];return $e("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},$e("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,a)=>{let o=!1,l=h=>{if(h.preventDefault(),o)return;o=!0;let p=zi(n.state.field(an).diagnostics,e);p&&s.apply(n,p.from,p.to)},{name:c}=s,u=i[a]?c.indexOf(i[a]):-1,f=u<0?c:[c.slice(0,u),$e("u",c.slice(u,u+1)),c.slice(u+1)];return $e("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[a]})"`}.`},f)}),e.source&&$e("div",{class:"cm-diagnosticSource"},e.source))}class d3 extends sr{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return $e("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class xg{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Bw(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class pu{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)bg(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=jw(s.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==i.keyCode){let l=zi(this.view.state.field(an).diagnostics,s);l&&s.actions[o].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=$e("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=$e("div",{class:"cm-panel-lint"},this.list,$e("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>bg(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(an).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(an),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(a,o,{spec:l})=>{let c=-1,u;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new xg(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new xg(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:o})=>{a.top<o.top?this.list.scrollTop-=o.top-a.top:a.bottom>o.bottom&&(this.list.scrollTop+=a.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(an),r=zi(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Lw.of(r)})}static open(e){return new pu(e)}}function f3(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Ya(n){return f3(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const h3=G.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ya("#d11")},".cm-lintRange-warning":{backgroundImage:Ya("orange")},".cm-lintRange-info":{backgroundImage:Ya("#999")},".cm-lintRange-hint":{backgroundImage:Ya("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),p3=[an,G.decorations.compute([an],n=>{let{selected:e,panel:t}=n.field(an);return!e||!t||e.from==e.to?le.none:le.set([s3.range(e.from,e.to)])}),XO(a3,{hideOn:r3}),h3];var yg=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(GP)),e.defaultKeymap!==!1&&(r=r.concat(P9)),e.searchKeymap!==!1&&(r=r.concat(aP)),e.historyKeymap!==!1&&(r=r.concat(WN)),e.foldKeymap!==!1&&(r=r.concat(iN)),e.completionKeymap!==!1&&(r=r.concat(Nw)),e.lintKeymap!==!1&&(r=r.concat(u3));var i=[];return e.lineNumbers!==!1&&i.push(oT()),e.highlightActiveLineGutter!==!1&&i.push(uT()),e.highlightSpecialChars!==!1&&i.push(EO()),e.history!==!1&&i.push(_N()),e.foldGutter!==!1&&i.push(lN()),e.drawSelection!==!1&&i.push(vO()),e.dropCursor!==!1&&i.push(SO()),e.allowMultipleSelections!==!1&&i.push(ye.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(KT()),e.syntaxHighlighting!==!1&&i.push(Ey(fN,{fallback:!0})),e.bracketMatching!==!1&&i.push(xN()),e.closeBrackets!==!1&&i.push(UP()),e.autocompletion!==!1&&i.push(e3()),e.rectangularSelection!==!1&&i.push(VO()),t!==!1&&i.push(WO()),e.highlightActiveLine!==!1&&i.push(PO()),e.highlightSelectionMatches!==!1&&i.push(H9()),e.tabSize&&typeof e.tabSize=="number"&&i.push(fa.of(" ".repeat(e.tabSize))),i.concat([ua.of(r.flat())]).filter(Boolean)};const m3="#e5c07b",wg="#e06c75",g3="#56b6c2",v3="#ffffff",Xl="#abb2bf",Ef="#7d8799",b3="#61afef",x3="#98c379",Sg="#d19a66",y3="#c678dd",w3="#21252b",kg="#2c313a",Cg="#282c34",cd="#353a42",S3="#3E4451",Ag="#528bff",k3=G.theme({"&":{color:Xl,backgroundColor:Cg},".cm-content":{caretColor:Ag},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ag},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:S3},".cm-panels":{backgroundColor:w3,color:Xl},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Cg,color:Ef,border:"none"},".cm-activeLineGutter":{backgroundColor:kg},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:cd},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:cd,borderBottomColor:cd},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:kg,color:Xl}}},{dark:!0}),C3=pa.define([{tag:j.keyword,color:y3},{tag:[j.name,j.deleted,j.character,j.propertyName,j.macroName],color:wg},{tag:[j.function(j.variableName),j.labelName],color:b3},{tag:[j.color,j.constant(j.name),j.standard(j.name)],color:Sg},{tag:[j.definition(j.name),j.separator],color:Xl},{tag:[j.typeName,j.className,j.number,j.changed,j.annotation,j.modifier,j.self,j.namespace],color:m3},{tag:[j.operator,j.operatorKeyword,j.url,j.escape,j.regexp,j.link,j.special(j.string)],color:g3},{tag:[j.meta,j.comment],color:Ef},{tag:j.strong,fontWeight:"bold"},{tag:j.emphasis,fontStyle:"italic"},{tag:j.strikethrough,textDecoration:"line-through"},{tag:j.link,color:Ef,textDecoration:"underline"},{tag:j.heading,fontWeight:"bold",color:wg},{tag:[j.atom,j.bool,j.special(j.variableName)],color:Sg},{tag:[j.processingInstruction,j.string,j.inserted],color:x3},{tag:j.invalid,color:v3}]),A3=[k3,Ey(C3)];var M3=G.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),I3=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:a="",basicSetup:o=!0}=e,l=[];switch(t&&l.unshift(ua.of([L9])),o&&(typeof o=="boolean"?l.unshift(yg()):l.unshift(yg(o))),a&&l.unshift(BO(a)),s){case"light":l.push(M3);break;case"dark":l.push(A3);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(G.editable.of(!1)),i&&l.push(ye.readOnly.of(!0)),[...l]},E3=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class D3{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Mg{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var ud=null,R3=()=>typeof window>"u"?new Mg:(ud||(ud=new Mg),ud),Ig=Zn.define(),O3=200,T3=[];function N3(n){var{value:e,selection:t,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:a,extensions:o=T3,autoFocus:l,theme:c="light",height:u=null,minHeight:f=null,maxHeight:h=null,width:p=null,minWidth:g=null,maxWidth:m=null,placeholder:v="",editable:b=!0,readOnly:x=!1,indentWithTab:w=!0,basicSetup:S=!0,root:k,initialState:A}=n,[C,E]=y.useState(),[M,R]=y.useState(),[T,N]=y.useState(),P=y.useState(()=>({current:null}))[0],L=y.useState(()=>({current:null}))[0],$=G.theme({"&":{height:u,minHeight:f,maxHeight:h,width:p,minWidth:g,maxWidth:m},"& .cm-scroller":{height:"100% !important"}}),q=G.updateListener.of(ee=>{if(ee.docChanged&&typeof r=="function"&&!ee.transactions.some(K=>K.annotation(Ig))){P.current?P.current.reset():(P.current=new D3(()=>{if(L.current){var K=L.current;L.current=null,K()}P.current=null},O3),R3().add(P.current));var de=ee.state.doc,ve=de.toString();r(ve,ee)}i&&i(E3(ee))}),Z=I3({theme:c,editable:b,readOnly:x,placeholder:v,indentWithTab:w,basicSetup:S}),oe=[q,$,...Z];return a&&typeof a=="function"&&oe.push(G.updateListener.of(a)),oe=oe.concat(o),y.useLayoutEffect(()=>{if(C&&!T){var ee={doc:e,selection:t,extensions:oe},de=A?ye.fromJSON(A.json,ee,A.fields):ye.create(ee);if(N(de),!M){var ve=new G({state:de,parent:C,root:k});R(ve),s&&s(ve,de)}}return()=>{M&&(N(void 0),R(void 0))}},[C,T]),y.useEffect(()=>{n.container&&E(n.container)},[n.container]),y.useEffect(()=>()=>{M&&(M.destroy(),R(void 0)),P.current&&(P.current.cancel(),P.current=null)},[M]),y.useEffect(()=>{l&&M&&M.focus()},[l,M]),y.useEffect(()=>{M&&M.dispatch({effects:pe.reconfigure.of(oe)})},[c,o,u,f,h,p,g,m,v,b,x,w,S,r,a]),y.useEffect(()=>{if(e!==void 0){var ee=M?M.state.doc.toString():"";if(M&&e!==ee){var de=P.current&&!P.current.isDone,ve=()=>{M&&e!==M.state.doc.toString()&&M.dispatch({changes:{from:0,to:M.state.doc.toString().length,insert:e||""},annotations:[Ig.of(!0)]})};de?L.current=ve:ve()}}},[e,M]),{state:T,setState:N,view:M,setView:R,container:C,setContainer:E}}var P3=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],L3=y.forwardRef((n,e)=>{var{className:t,value:r="",selection:i,extensions:s=[],onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:f="light",height:h,minHeight:p,maxHeight:g,width:m,minWidth:v,maxWidth:b,basicSetup:x,placeholder:w,indentWithTab:S,editable:k,readOnly:A,root:C,initialState:E}=n,M=Cb(n,P3),R=y.useRef(null),{state:T,view:N,container:P,setContainer:L}=N3({root:C,value:r,autoFocus:u,theme:f,height:h,minHeight:p,maxHeight:g,width:m,minWidth:v,maxWidth:b,basicSetup:x,placeholder:w,indentWithTab:S,editable:k,readOnly:A,selection:i,onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:c,extensions:s,initialState:E});y.useImperativeHandle(e,()=>({editor:R.current,state:T,view:N}),[R,P,T,N]);var $=y.useCallback(Z=>{R.current=Z,L(Z)},[L]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var q=typeof f=="string"?"cm-theme-"+f:"cm-theme";return d.jsx("div",se({ref:$,className:""+q+(t?" "+t:"")},M))});L3.displayName="CodeMirror";const _3=()=>{const{isDirty:n}=Vc(),e=()=>{window.location.hash="/"};return d.jsx(ne,{className:"text-grey-700 hover:!text-grey-900","data-testid":"exit-settings",icon:"close",id:"done-button",label:"",link:!0,title:"Close (ESC)",onClick:()=>Ps(n,e)})},j3=""+new URL("logo-loader-88VPEpXE.mp4",import.meta.url).href,B3=""+new URL("logo-loader-dark-CuSPz-zc.mp4",import.meta.url).href,$w=y.createContext(void 0),$3=({children:n})=>{const e=e2(),t=t2(),r=n2(),i=nb(),[s,a]=y.useState(!1);y.useEffect(()=>{a(document.documentElement.classList.contains("dark"))},[]);const o=[e,t,r,i],l=o.map(c=>c.error).find(Boolean);if(l)throw l;return o.some(c=>c.isLoading)?d.jsx("div",{className:"gh-loading-orb-container",style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8vh"},children:d.jsx("video",{autoPlay:!0,className:"gh-loading-orb",height:"100",preload:"metadata",style:{width:"100px",height:"100px"},width:"100",loop:!0,muted:!0,playsInline:!0,children:d.jsx("source",{src:s?B3:j3,type:"video/mp4"})})}):d.jsx($w.Provider,{value:{settings:e.data.settings,siteData:t.data.site,config:r.data.config,currentUser:i.data},children:n})},Le=()=>y.useContext($w),Ot=({savingDelay:n,onValidate:e}={})=>{const t=y.useRef(null),{siteData:r,settings:i}=Le(),{mutateAsync:s}=Xr(),a=gt(),[o,l]=y.useState(!1),{formState:c,saveState:u,handleSave:f,updateForm:h,setFormState:p,reset:g,validate:m,errors:v,clearError:b,okProps:x}=Qf({initialState:i||[],savingDelay:n,onSave:async()=>{await s?.(S())},onSaveError:a,onValidate:e}),{setGlobalDirtyState:w}=Vc();y.useEffect(()=>{w(c.some(E=>E.dirty))},[c,w]),y.useEffect(()=>{o&&t.current&&t.current.focus()},[o]),y.useEffect(()=>{(!o||u==="saving")&&p(()=>i)},[i]);const S=()=>c?.filter(E=>E.dirty)?.map(E=>({key:E.key,value:E.value}));return{localSettings:c,isEditing:o,saveState:u,focusRef:t,siteData:r,handleSave:async()=>{const E=await f();return E&&l(!1),E},handleCancel:()=>{g(),l(!1)},updateSetting:(E,M)=>{h(R=>R.some(T=>T.key===E)?R.map(T=>T.key===E?{...T,value:M,dirty:!0}:T):[...R,{key:E,value:M,dirty:!0}])},handleEditingChange:E=>{l(E)},validate:m,errors:v,clearError:b,okProps:x}},F3=(n,e)=>{const[t,r]=y.useState("Save"),[i,s]=y.useState(!1);return{savingTitle:t,isSaving:i,onSaveClick:async()=>{s(!0),r("Saving"),await n({fakeWhenUnchanged:e}),setTimeout(()=>{r("Saved"),setTimeout(()=>{r("Save"),s(!1)},1e3)},1e3)}}},H3=({afterClose:n})=>{const{localSettings:e,handleSave:t,updateSetting:r}=Ot(),i=ir(),[s,a]=Te(e,["codeinjection_head","codeinjection_foot"]),[o,l]=y.useState("header"),c=y.useRef(null),u=y.useRef(null),f=y.useMemo(()=>ea(()=>import("./index-nb8rSrz_.js"),__vite__mapDeps([7,1,2,3,4,5,6]),import.meta.url).then(x=>x.html()),[]),h={extensions:[f],hint:"Code here will be injected into the {{ghost_head}} tag on every page of the site",value:s||"",onChange:x=>r("codeinjection_head",x)},p={extensions:[f],hint:"Code here will be injected into the {{ghost_foot}} tag on every page of the site",value:a||"",onChange:x=>r("codeinjection_foot",x)},g=[{id:"header",title:"Site header",contents:d.jsx(Vh,{height:"full",...h,ref:c,className:"mt-2","data-testid":"header-code",autoFocus:!0}),tabWrapperClassName:"flex-auto",containerClassName:"h-full"},{id:"footer",title:"Site footer",contents:d.jsx(Vh,{height:"full",...p,ref:u,className:"mt-2","data-testid":"footer-code"}),tabWrapperClassName:"flex-auto",containerClassName:"h-full"}],{savingTitle:m,isSaving:v,onSaveClick:b}=F3(t,!0);return y.useEffect(()=>{const x=w=>{(w.metaKey||w.ctrlKey)&&w.key==="s"&&(w.preventDefault(),b())};return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}}),d.jsx(Or,{afterClose:n,backDropClick:!1,cancelLabel:"Close",footer:d.jsx(d.Fragment,{}),height:"full",size:"full",testId:"modal-code-injection",children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[d.jsx(ft,{level:2,children:"Code injection"}),d.jsx(Ns,{buttons:[{label:"Close",color:"outline",onClick:()=>{i.remove(),n?.()}},{disabled:v,label:m,color:m==="Saved"?"green":"black",onClick:b}]})]}),d.jsx(Kn,{containerClassName:"flex-auto flex flex-col mb-16",selectedTab:o,tabs:g,onTabChange:l})]})})},V3=Ke.create(H3),U3=(n,e)=>`${n}-${e}`,z3=()=>{const[n,e]=y.useState(""),[t,r]=y.useState(!1),i=y.useRef(new Map),[s,a]=y.useState(new Set),o=p=>p.length?p.some(g=>g.toLowerCase().includes(n.toLowerCase())):!0,l=y.useCallback((p,g)=>{i.current.set(p,g),(!n||g.some(v=>v.toLowerCase().includes(n.toLowerCase())))&&a(v=>new Set(v).add(p))},[n]),c=y.useCallback(p=>{i.current.delete(p),a(g=>{const m=new Set(g);return m.delete(p),m})},[]);y.useEffect(()=>{const p=new Set;i.current.forEach((g,m)=>{(!n||g.some(b=>b.toLowerCase().includes(n.toLowerCase())))&&p.add(m)}),a(p)},[n]);const u=y.useCallback(p=>s.size===1&&s.has(p),[s]),f=y.useCallback(()=>s,[s]),h=p=>{if(!n)return p;if(typeof p=="string"){const g=n.split(/\s+/).map(b=>b.toLowerCase()),m=g.map(b=>b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");return p.split(new RegExp(`(${m})`,"gi")).map(b=>g.includes(b.toLowerCase())?d.jsx("span",{className:"bg-yellow-500/40",children:b}):b)}else return Array.isArray(p)?p.map(g=>h(g)):p&&typeof p=="object"&&p?Y.Children.map(p,g=>g&&typeof g=="object"&&"props"in g?h(g.props.children):g):p};return{filter:n,setFilter:e,checkVisible:o,highlightKeywords:h,noResult:t,setNoResult:r,registerComponent:l,unregisterComponent:c,getVisibleComponents:f,isOnlyVisibleComponent:u}},Fw=y.createContext({route:"",updateRoute:()=>{},loadingModal:!1,eventTarget:new EventTarget});function W3(n,e){if(!e)return null;const t=new RegExp(`/${n}/(.*)`),r=e?.match(t);return r?r[1]:null}const q3=(n,e,t,r)=>{let i=window.location.hash;i=i.substring(1);const s=`${window.location.protocol}//${window.location.hostname}`,a=new URL(i,s),o=W3(n,a.pathname);if(!r||!t)return{pathName:o||""};const l=a.searchParams;if(o&&r&&t){const[,c]=Object.entries(r).find(([h])=>dd(e||"",h))||[],[u,f]=Object.entries(r).find(([h])=>dd(o,h))||[];return{pathName:o,changingModal:f&&f!==c,modal:u&&f?t().then(({default:h})=>{Ke.show(h[f],{pathName:o,params:dd(o,u),searchParams:l})}):void 0}}return{pathName:""}},dd=(n,e)=>{const t=new RegExp("^"+e.replace(/:(\w+)/g,"(?<$1>[^/]+)")+"/?$"),r=n.match(t);if(r)return r.groups||{}},G3=({basePath:n,modals:e,children:t})=>{const{externalNavigate:r}=r2(),[i,s]=y.useState(void 0),[a,o]=y.useState(!1),[l]=y.useState(new EventTarget),c=y.useCallback(u=>{const f=typeof u=="string"?{route:u}:u;if(f.isExternal){r(f);return}const h=f.route.replace(/^\//,"");h===i||(h?window.location.hash=`/${n}/${h}`:window.location.hash=`/${n}`),l.dispatchEvent(new CustomEvent("routeChange",{detail:{newPath:h,oldPath:i}}))},[n,l,r,i]);return y.useEffect(()=>{setTimeout(()=>{e?.load()},1e3)},[]),y.useEffect(()=>{const u=()=>{s(f=>{const{pathName:h,modal:p,changingModal:g}=q3(n,f,e?.load,e?.paths);return p&&g&&(o(!0),p.then(()=>o(!1))),h})};return u(),window.addEventListener("hashchange",u),()=>{window.removeEventListener("hashchange",u)}},[]),i===void 0?null:d.jsx(Fw.Provider,{value:{route:i,updateRoute:c,loadingModal:a,eventTarget:l},children:t})};function be(){return y.useContext(Fw)}function K3(n,e){const{eventTarget:t}=be(),r=y.useCallback(n,e);y.useEffect(()=>{const i=s=>{const a=s;r(a.detail.newPath,a.detail.oldPath)};return t.addEventListener("routeChange",i),()=>t.removeEventListener("routeChange",i)},[t,r])}const Hw=y.createContext({updateSection:()=>{},updateNav:()=>{},currentSection:null,updateNavigatedSection:()=>{},scrollToSection:()=>{}}),mu=()=>y.useContext(Hw),Vw=193,fd=(n,e)=>{const t=document.getElementById("admin-x-settings-scroller"),r=n.getBoundingClientRect().top+t.scrollTop;t.scrollTo({behavior:e?"smooth":"instant",top:r-Vw})},Z3=(n,e)=>{const t=document.getElementById("admin-x-settings-sidebar-scroller"),r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),s=i.top+40;if(r.top>=s&&r.left>=i.left&&r.right<=i.right&&r.bottom<=i.bottom||!["auto","scroll"].includes(getComputedStyle(t).overflowY))return;const a=e?"smooth":"instant";t.querySelector("[data-setting-nav-item]")===n?t.scrollTo({top:0,behavior:a}):r.top<s?t.scrollTo({top:t.scrollTop+r.top-s,behavior:a}):t.scrollTo({top:t.scrollTop+r.top-i.top-i.height+r.height+4,behavior:a})},Y3=(n,e,t)=>{const r=e.map(({isIntersecting:o,target:l})=>({isIntersecting:o,id:Object.entries(t).find(([,c])=>c===l)?.[0]})).filter(o=>o.id),i=r.filter(o=>!n.includes(o.id)&&o.isIntersecting).map(o=>o.id),s=r.filter(o=>!o.isIntersecting).map(o=>o.id),a=n.filter(o=>!s.includes(o)).concat(i);return a.sort((o,l)=>{const c=t[o],u=t[l];return!c||!u?0:c.getBoundingClientRect().top-u.getBoundingClientRect().top}),a},J3=({children:n})=>{const[e,t]=y.useState(null),r=y.useRef({}),i=y.useRef(null),[s,a]=y.useState([]),[o,l]=y.useState(null),[c,u]=y.useState(!1),[f,h]=y.useState(!1),[,p]=y.useState(!1),g=y.useCallback(k=>{t(k),u(!0)},[]),m=y.useRef({}),v=y.useCallback(()=>{const k=new IntersectionObserver(A=>{a(C=>{const E=Y3(C,A,r.current);return E.length&&l(E[0]),E})},{rootMargin:`-${Vw-50}px 0px -40% 0px`});return Object.values(r.current).forEach(A=>k.observe(A)),k},[]),b=y.useCallback((k,A)=>{r.current[k]!==A&&(r.current[k]&&i.current?.unobserve(r.current[k]),r.current[k]=A,i.current?.observe(A),!f&&k===e&&(fd(A,!1),h(!0)))},[i,e,f]),x=y.useCallback((k,A)=>{m.current[k]=A},[]),w=y.useCallback(k=>{r.current[k]&&fd(r.current[k],!0)},[]),S=y.useMemo(()=>e&&s.includes(e)?e:s.length?s[0]:o,[s,o,e]);return y.useEffect(()=>{c&&(e&&r.current[e]?h(k=>(fd(r.current[e],k),!0)):h(!0),setTimeout(()=>v()))},[c,e,v]),y.useEffect(()=>{c&&S&&m.current[S]&&p(k=>(Z3(m.current[S],k),!0))},[c,S]),d.jsx(Hw.Provider,{value:{updateSection:b,updateNav:x,currentSection:S,updateNavigatedSection:g,scrollToSection:w},children:n})},X3=n=>{const{updateSection:e}=mu(),t=y.useRef(null);return y.useEffect(()=>{n&&t.current&&e(n,t.current)},[n,e]),{ref:t}},Q3=n=>{const{updateNav:e}=mu(),t=y.useRef(null);return y.useEffect(()=>{n&&t.current&&(Array.isArray(n)?n:[n]).forEach(i=>{e(i,t.current)})},[n,e]),{ref:t,props:{"data-setting-nav-item":!0}}},va="IntegrationsResponseType",M6=va,eL=Qr({dataType:va,path:"/integrations/",defaultSearchParams:{include:"api_keys,webhooks",limit:"50"}}),I6=ze({method:"POST",path:()=>"/integrations/",body:n=>({integrations:[n]}),searchParams:()=>({include:"api_keys,webhooks"}),updateQueries:{dataType:va,emberUpdateType:"createOrUpdate",update:(n,e)=>e&&{...e,integrations:e.integrations.concat(n.integrations)}}}),E6=ze({method:"PUT",path:n=>`/integrations/${n.id}/`,body:n=>({integrations:[n]}),searchParams:()=>({include:"api_keys,webhooks"}),updateQueries:{dataType:va,emberUpdateType:"createOrUpdate",update:(n,e)=>e&&{...e,integrations:e.integrations.map(t=>n.integrations.find(({id:i})=>i===t.id)||t)}}}),tL=ze({method:"DELETE",path:n=>`/integrations/${n}/`,updateQueries:{dataType:va,emberUpdateType:"delete",update:(n,e,t)=>({...e,integrations:e.integrations.filter(r=>r.id!==t)})}}),nL=""+new URL("Alto-DUBY3bpV.png",import.meta.url).href,rL=""+new URL("Bulletin-Dk9xtKp1.png",import.meta.url).href,iL=""+new URL("Casper-DD4Wf4m4.png",import.meta.url).href,sL=""+new URL("Dawn-LGQGnvjr.png",import.meta.url).href,aL=""+new URL("Digest-BLKH5JOV.png",import.meta.url).href,oL=""+new URL("Dope-CSZZPvqs.png",import.meta.url).href,lL=""+new URL("Ease-DYfAZLvD.png",import.meta.url).href,cL=""+new URL("Edge-_GS6qiG-.png",import.meta.url).href,uL=""+new URL("Edition-BvM1Yi9K.png",import.meta.url).href,dL=""+new URL("Episode-Cwq-Mrvr.png",import.meta.url).href,fL=""+new URL("Headline-DcIZ47eY.png",import.meta.url).href,hL=""+new URL("Journal-BLX3grkP.png",import.meta.url).href,pL=""+new URL("London-D_cZW51W.png",import.meta.url).href,mL=""+new URL("Ruby-rSwalIMT.png",import.meta.url).href,gL=""+new URL("Solo-D2tiac6Z.png",import.meta.url).href,vL=""+new URL("Source-B2xHWmHB.png",import.meta.url).href,bL=""+new URL("Source-Magazine-DpXmb6XM.png",import.meta.url).href,xL=""+new URL("Source-Newsletter-DPpaH3AQ.png",import.meta.url).href,yL=""+new URL("Taste-DFhBlbR7.png",import.meta.url).href,wL=""+new URL("Wave-DajHSkAT.png",import.meta.url).href,Uw=[{name:"Source",category:"News",previewUrl:"https://source.ghost.io/",ref:"default",image:vL,variants:[{category:"Magazine",previewUrl:"https://source-magazine.ghost.io/",image:bL},{category:"Newsletter",previewUrl:"https://source-newsletter.ghost.io/",image:xL}]},{name:"Casper",category:"Blog",previewUrl:"https://demo.ghost.io/",ref:"TryGhost/Casper",image:iL},{name:"Edition",category:"Newsletter",url:"https://github.com/TryGhost/Edition",previewUrl:"https://edition.ghost.io/",ref:"TryGhost/Edition",image:uL},{name:"Solo",category:"Blog",url:"https://github.com/TryGhost/Solo",previewUrl:"https://solo.ghost.io",ref:"TryGhost/Solo",image:gL},{name:"Taste",category:"Blog",url:"https://github.com/TryGhost/Taste",previewUrl:"https://taste.ghost.io",ref:"TryGhost/Taste",image:yL},{name:"Episode",category:"Podcast",url:"https://github.com/TryGhost/Episode",previewUrl:"https://episode.ghost.io",ref:"TryGhost/Episode",image:dL},{name:"Digest",category:"Newsletter",url:"https://github.com/TryGhost/Digest",previewUrl:"https://digest.ghost.io/",ref:"TryGhost/Digest",image:aL},{name:"Bulletin",category:"Newsletter",url:"https://github.com/TryGhost/Bulletin",previewUrl:"https://bulletin.ghost.io/",ref:"TryGhost/Bulletin",image:rL},{name:"Alto",category:"Blog",url:"https://github.com/TryGhost/Alto",previewUrl:"https://alto.ghost.io",ref:"TryGhost/Alto",image:nL},{name:"Dope",category:"Magazine",url:"https://github.com/TryGhost/Dope",previewUrl:"https://dope.ghost.io",ref:"TryGhost/Dope",image:oL},{name:"Wave",category:"Podcast",url:"https://github.com/TryGhost/Wave",previewUrl:"https://wave.ghost.io",ref:"TryGhost/Wave",image:wL},{name:"Edge",category:"Photography",url:"https://github.com/TryGhost/Edge",previewUrl:"https://edge.ghost.io",ref:"TryGhost/Edge",image:cL},{name:"Dawn",category:"Newsletter",url:"https://github.com/TryGhost/Dawn",previewUrl:"https://dawn.ghost.io/",ref:"TryGhost/Dawn",image:sL},{name:"Ease",category:"Documentation",url:"https://github.com/TryGhost/Ease",previewUrl:"https://ease.ghost.io",ref:"TryGhost/Ease",image:lL},{name:"Headline",category:"News",url:"https://github.com/TryGhost/Headline",previewUrl:"https://headline.ghost.io",ref:"TryGhost/Headline",image:fL},{name:"Ruby",category:"Magazine",url:"https://github.com/TryGhost/Ruby",previewUrl:"https://ruby.ghost.io",ref:"TryGhost/Ruby",image:mL},{name:"London",category:"Photography",url:"https://github.com/TryGhost/London",previewUrl:"https://london.ghost.io",ref:"TryGhost/London",image:pL},{name:"Journal",category:"Newsletter",url:"https://github.com/TryGhost/Journal",previewUrl:"https://journal.ghost.io/",ref:"TryGhost/Journal",image:hL}],Eg=""+new URL("orb-black-1-44nQS0Zf.png",import.meta.url).href,SL=""+new URL("orb-black-2-ua9uyJck.png",import.meta.url).href,Dg=""+new URL("orb-black-3-4B29Ahnj.png",import.meta.url).href,Rg=""+new URL("orb-black-4-BoaEuayq.png",import.meta.url).href,kL=""+new URL("orb-black-5-CC4bN-9P.png",import.meta.url).href,CL="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201818.2%202500'%20style='enable-background:new%200%200%201818.2%202500'%20xml:space='preserve'%3e%3ctitle%3egoogle-docs%3c/title%3e%3cpath%20d='M1136.4%200h-966C79.6%200%200%2079.5%200%20170.5v2159.1c0%2090.9%2079.5%20170.5%20170.5%20170.5h1477.3c90.9%200%20170.5-79.5%20170.5-170.5V681.8l-397.7-284.1L1136.4%200z'%20style='fill:%234285f4'/%3e%3cpath%20d='M454.5%201818.2h909.1v-113.6h-909l-.1%20113.6zm0%20227.3h681.8v-113.6H454.5v113.6zm0-795.5v113.6h909.1V1250H454.5zm0%20340.9h909.1v-113.6h-909l-.1%20113.6z'%20style='fill:%23f1f1f1'/%3e%3cpath%20d='M1136.4%200v511.4c0%2090.9%2079.5%20170.4%20170.4%20170.4h511.4L1136.4%200z'%20style='fill:%23a1c2fa'/%3e%3c/svg%3e",AL=""+new URL("mailchimp-DwTEN-tS.svg",import.meta.url).href,ML="data:image/svg+xml,%3csvg%20height='546'%20viewBox='0%200%20569%20546'%20width='569'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3epatreon%3c/title%3e%3cg%20fill='%23FF424D'%3e%3ccircle%20cx='362.59'%20cy='204.59'%20data-fill='1'%20r='204.59'/%3e%3cpath%20data-fill='1'%20d='M0%200h100v545.8H0z'/%3e%3c/g%3e%3c/svg%3e",Og="data:image/svg+xml,%3csvg%20width='152'%20height='179'%20viewBox='0%200%20152%20179'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3epaypal%3c/title%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M136.492%2045.453c2.179-13.894-.015-23.348-7.53-31.911C120.688%204.114%20105.741.075%2086.617.075H31.105a7.943%207.943%200%200%200-7.846%206.705L.144%20153.36a4.765%204.765%200%200%200%204.707%205.507h34.27l-2.365%2015a4.168%204.168%200%200%200%204.118%204.818H69.76a6.948%206.948%200%200%200%206.863-5.865l.283-1.468%205.442-34.507.351-1.907a6.947%206.947%200%200%201%206.862-5.865h4.322c27.984%200%2049.896-11.37%2056.299-44.25%202.675-13.74%201.292-25.208-5.783-33.27-2.14-2.439-4.802-4.455-7.907-6.1'%20fill='%23238EC2'/%3e%3cpath%20d='M136.492%2045.453c2.179-13.894-.015-23.348-7.53-31.911C120.688%204.114%20105.741.075%2086.617.075H31.105a7.943%207.943%200%200%200-7.846%206.705L.144%20153.36a4.765%204.765%200%200%200%204.707%205.507h34.27l8.609-54.588-.267%201.711c.609-3.86%203.909-6.704%207.817-6.704h16.288c31.989%200%2057.037-12.996%2064.356-50.582.217-1.113.402-2.191.568-3.251'%20fill='%2320274F'/%3e%3cpath%20d='M56.978%2045.638a6.945%206.945%200%200%201%206.863-5.866h43.514c5.155%200%209.961.337%2014.356%201.045%201.256.202%202.478.435%203.665.698a53.92%2053.92%200%200%201%203.455.885c.558.162%201.106.333%201.646.512%202.157.717%204.166%201.562%206.015%202.541%202.179-13.894-.015-23.348-7.53-31.911C120.688%204.114%20105.741.075%2086.617.075H31.105a7.943%207.943%200%200%200-7.846%206.705L.144%20153.36a4.765%204.765%200%200%200%204.707%205.507h34.27L56.978%2045.638'%20fill='%23253667'/%3e%3c/g%3e%3c/svg%3e",IL=""+new URL("slackicon-CBMgLWU6.png",import.meta.url).href,EL="data:image/svg+xml,%3csvg%20width='86'%20height='89'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3etypeform%3c/title%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M40.28%2087.561c12.464.154%2021.16-3.994%2030.135-12.175%208.975-8.18%2014.306-16.867%2014.741-28.73.436-11.862-3.412-21.43-12.564-30.581C63.441%206.923%2051.64.9%2039.4.899%2027.158.898%2018.967%206.252%2011.385%2016.07c-7.581%209.818-9.237%2022.212-9.894%2033.921-.657%2011.71-1.15%2017.111%206.608%2024.625%207.758%207.514%2019.718%2012.791%2032.182%2012.945z'%20stroke='%23262627'/%3e%3cpath%20d='M29.136%2037.976v-4.885h25.918v4.885H44.679v27.998H39.51V37.976z'%20fill='%23262627'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",DL=""+new URL("zero-bounce-ChbZnu35.png",import.meta.url).href,zw=[{ghostImage:SL,appImage:IL,title:"Share scheduled posts with your team in Slack",url:"https://zapier.com/webintent/create-zap?template=359499"},{ghostImage:Dg,appImage:ML,title:"Connect Patreon to your Ghost membership site",url:"https://zapier.com/webintent/create-zap?template=75801"},{ghostImage:Rg,appImage:DL,title:"Protect email delivery with email verification",url:"https://zapier.com/webintent/create-zap?template=359415"},{ghostImage:kL,appImage:Og,title:"Add members for successful sales in PayPal",url:"https://zapier.com/webintent/create-zap?template=184423"},{ghostImage:Dg,appImage:Og,title:"Unsubscribe members who cancel a subscription in PayPal",url:"https://zapier.com/webintent/create-zap?template=359348"},{ghostImage:Eg,appImage:CL,title:"Send new post drafts from Google Docs to Ghost",url:"https://zapier.com/webintent/create-zap?template=50924"},{ghostImage:Rg,appImage:EL,title:"Survey new members using Typeform",url:"https://zapier.com/webintent/create-zap?template=359407"},{ghostImage:Eg,appImage:AL,title:"Sync email subscribers in Ghost + Mailchimp",url:"https://zapier.com/webintent/create-zap?template=359342"}],Ww=y.createContext({officialThemes:Uw,zapierTemplates:zw,search:{filter:"",setFilter:()=>{},checkVisible:()=>!0,highlightKeywords:()=>"",noResult:!1,setNoResult:()=>{},registerComponent:()=>{},unregisterComponent:()=>{},getVisibleComponents:()=>new Set,isOnlyVisibleComponent:()=>!1},sortingState:[]}),RL=({children:n,...e})=>{const t=z3(),[r,i]=y.useState([{type:"offers",option:"date-added",direction:"desc"}]);return d.jsx(Ww.Provider,{value:{officialThemes:Uw,zapierTemplates:zw,...e,search:t,sortingState:r,setSortingState:i},children:d.jsx($3,{children:d.jsx(J3,{children:n})})})},gu=()=>y.useContext(Ww),D6=()=>gu().officialThemes,ba=()=>gu().search,R6=()=>gu().upgradeStatus,OL=()=>{const{sortingState:n,setSortingState:e}=gu();return{sortingState:n,setSortingState:e}},Se=({keywords:n,navid:e,children:t,...r})=>{const{checkVisible:i,noResult:s,registerComponent:a,unregisterComponent:o}=ba(),{route:l}=be(),[c,u]=y.useState(!1),{ref:f}=X3(e),h=y.useId(),p=U3(e||"component",h);y.useEffect(()=>(a(p,n),()=>{o(p)}),[p,n,a,o]),y.useEffect(()=>{if(u(l===e),l===e){const v=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(v)}},[l,e]);const m=Y.Children.toArray(t).some(v=>Y.isValidElement(v)&&v.type==="img")?d.jsx("div",{className:"-mx-5 -mb-5 overflow-hidden rounded-b-xl bg-grey-50 md:-mx-7 md:-mb-7",children:Y.Children.map(t,v=>Y.isValidElement(v)&&v.type==="img"?Y.cloneElement(v,{className:`${v.props.className||""} h-full w-full rounded-b-xl`.trim()}):v)}):t;return d.jsx(uD,{ref:f,highlight:c,isVisible:i(n)||s,navid:e,...r,children:m})},TL=({keywords:n})=>d.jsx(Se,{customHeader:d.jsxs("div",{className:"z-10 flex items-start justify-between",children:[d.jsx(Kr,{description:"Add custom code to your publication.",title:"Code injection"}),d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Open",size:"sm",onClick:()=>{Ke.show(V3)}})]}),description:"Add custom code to your publication",keywords:n,navid:"code-injection",testId:"code-injection",title:"Code injection"}),NL=Ce(TL,"Code injection"),PL=ze({method:"POST",path:()=>"/db/",body:n=>{const e=new FormData;return e.append("importfile",n),e}}),LL=ze({method:"DELETE",path:()=>"/db/"}),_L=()=>Df("/db/"),jL=({keywords:n})=>{const{mutateAsync:e}=LL(),t=Rf(),r=gt(),i=()=>{Ke.show(Gr,{title:"Would you really like to delete all content from your blog?",prompt:"This is permanent! No backups, no restores, no magic undo button. We warned you, k?",okColor:"red",okLabel:"Delete",onOk:async s=>{try{await e(null),pn({title:"All content deleted from database.",type:"success"}),s?.remove(),await t.refetchQueries()}catch(a){r(a)}}})};return d.jsx(Se,{customHeader:d.jsx(Kr,{description:"Permanently delete all posts and tags from the database, a hard reset",title:"Danger zone"}),keywords:n,navid:"dangerzone",testId:"dangerzone",children:d.jsx("div",{children:d.jsx(ne,{color:"red",label:"Delete all content",onClick:i})})})},BL=Ce(jL,"Danger zone"),$L=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("history/view")};return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"View history",size:"sm",onClick:t}),description:"View system event log",keywords:n,navid:"history",testId:"history",title:"History"})},FL=Ce($L,"History"),HL=""+new URL("integrations-settings-B7r1LnOP.png",import.meta.url).href,vu=n=>{const{config:e}=Le();return e.labs[n]||!1};function qw(){const{config:n,settings:e}=Le(),[t]=Te(e,["pintura"]),[r,i]=y.useState(!1),[s,a]=y.useState(!1),[o,l]=y.useState(!1),c=y.useRef(!1),[u]=Te(e,["pintura_js_url"]),[f]=Te(e,["pintura_css_url"]);let h=t&&r&&s||!1;const p=n?.pintura;y.useEffect(()=>{let v=p?.js?p?.js:u||null;if(v){if(v.startsWith("/")){const{adminRoot:b}=yd();v=window.location.origin+b.replace(/\/$/,"")+v}if(window.pintura){i(!0);return}try{const b=new URL(v);import(`${b.protocol}//${b.host}${b.pathname}`).then(()=>{i(!0)}).catch(S=>{ys(S)})}catch(b){ys(b)}}},[u,p?.js]),y.useEffect(()=>{let v=p?.css?p?.css:f||null;if(v){if(v.startsWith("/")){const{adminRoot:b}=yd();v=window.location.origin+b.replace(/\/$/,"")+v}try{if(document.querySelector(`link[href="${v}"]`))a(!0);else{let x=document.createElement("link");x.rel="stylesheet",x.type="text/css",x.href=v,x.onload=()=>{a(!0)},document.head.appendChild(x)}}catch(b){ys(b)}}},[f,p?.css]);const g=y.useCallback(({image:m,handleSave:v})=>{if(m&&h){const b=new URL(m);b.searchParams.has("v")||b.searchParams.set("v",Date.now().toString());const x=b.href,w=window.pintura.openDefaultEditor({src:x,enableTransparencyGrid:!0,util:"crop",utils:["crop","filter","finetune","redact","annotate","trim","frame","resize"],frameOptions:[[void 0,S=>S.labelNone],["solidSharp",S=>S.frameLabelMatSharp],["solidRound",S=>S.frameLabelMatRound],["lineSingle",S=>S.frameLabelLineSingle],["hook",S=>S.frameLabelCornerHooks],["polaroid",S=>S.frameLabelPolaroid]],cropSelectPresetFilter:"landscape",cropSelectPresetOptions:[[void 0,"Custom"],[1,"Square"],[2/1,"2:1"],[3/2,"3:2"],[4/3,"4:3"],[16/10,"16:10"],[16/9,"16:9"],[1/2,"1:2"],[2/3,"2:3"],[3/4,"3:4"],[10/16,"10:16"],[9/16,"9:16"]],locale:{labelButtonExport:"Save and close"},previewPad:!0,willClose:()=>c.current?(l(!1),!0):!1});w.on("loaderror",()=>{i2("Pintura editor failed to load")}),w.on("process",S=>{v(S.dest)}),l(!0)}},[h]);return y.useEffect(()=>{const m=b=>{b.key==="Escape"&&b.stopPropagation()};if(!o)return;const v=b=>{b.target instanceof Element&&b.target.closest('.PinturaModal button[title="Close"]')&&(c.current=!0)};return window.addEventListener("click",v,{capture:!0}),window.addEventListener("keydown",m,{capture:!0}),()=>{window.removeEventListener("click",v,{capture:!0}),window.removeEventListener("keydown",m,{capture:!0})}},[o]),{isEnabled:h,openEditor:g}}const $r=({icon:n,title:e,detail:t,action:r,onDelete:i,active:s,disabled:a,testId:o,custom:l=!1})=>{const{updateRoute:c}=be(),u=p=>{p?.stopPropagation(),a?c({route:"pro",isExternal:!0}):r()},f=p=>{p?.stopPropagation(),i?.()},h=l?d.jsx(ne,{color:"red",label:"Delete",link:!0,onClick:f}):a?d.jsx(ne,{icon:"lock-locked",label:"Upgrade",link:!0,onClick:u}):d.jsx(ne,{color:"green",label:"Configure",link:!0,onClick:u});return d.jsx(Zc,{action:h,avatar:n,className:a?"opacity-50 saturate-0":"",detail:t,hideActions:!a,testId:o,title:s?d.jsxs("span",{className:"inline-flex items-center gap-1",children:[e," ",d.jsx("span",{className:"inline-flex items-center rounded-full bg-[rgba(48,207,67,0.15)] px-1.5 py-0.5 text-2xs font-semibold uppercase tracking-wide text-green",children:"Active"})]}):e,onClick:u})},VL=()=>{const{config:n}=Le(),{updateRoute:e}=be(),t=h=>{e(h)},r=n.hostSettings?.limits?.customIntegrations?.disabled,i=vu("transistor"),s=qw(),{settings:a}=Le(),[o,l,c,u,f]=Te(a,["unsplash","firstpromoter","slack_url","slack_username","transistor"]);return d.jsxs(Yi,{titleSeparator:!1,children:[d.jsx($r,{action:()=>{t("integrations/zapier")},detail:"Automation for your apps",disabled:r,icon:d.jsx(ge,{name:"zapier",size:32}),testId:"zapier-integration",title:"Zapier"}),d.jsx($r,{action:()=>{t("integrations/slack")},active:c&&u,detail:"A messaging app for teams",icon:d.jsx(ge,{name:"slack",size:32}),testId:"slack-integration",title:"Slack"}),d.jsx($r,{action:()=>{t("integrations/unsplash")},active:o,detail:"Beautiful, free photos",icon:d.jsx(ge,{name:"unsplash",size:32}),testId:"unsplash-integration",title:"Unsplash"}),d.jsx($r,{action:()=>{t("integrations/firstpromoter")},active:l,detail:"Launch your member referral program",icon:d.jsx(ge,{name:"firstpromoter",size:32}),testId:"firstpromoter-integration",title:"FirstPromoter"}),d.jsx($r,{action:()=>{t("integrations/pintura")},active:s.isEnabled,detail:"Advanced image editing",icon:d.jsx(ge,{name:"pintura",size:32}),testId:"pintura-integration",title:"Pintura"}),i&&d.jsx($r,{action:()=>{t("integrations/transistor")},active:f,detail:"Give your members access to private podcasts",icon:d.jsx(ge,{name:"transistor",size:32}),testId:"transistor-integration",title:"Transistor.fm"})]})},UL=({integrations:n})=>{const{updateRoute:e}=be(),{mutateAsync:t}=tL(),r=gt();return n.length?d.jsx(Yi,{borderTop:!1,children:n.map(i=>d.jsx($r,{action:()=>e({route:`integrations/${i.id}`}),detail:d.jsx("div",{className:"line-clamp-2 break-words",children:d.jsx("span",{title:`${i.name}: ${i.description||"No description"}`,children:i.description||"No description"})}),icon:i.icon_image?d.jsx("img",{className:"size-8 shrink-0 object-cover",role:"presentation",src:i.icon_image}):d.jsx(ge,{className:"w-8 shrink-0",name:"integration"}),title:i.name,custom:!0,onDelete:()=>{Ke.show(Gr,{title:"Are you sure?",prompt:"Deleting this integration will remove all webhooks and api keys associated with it.",okColor:"red",okLabel:"Delete Integration",onOk:async s=>{try{await t(i.id),s?.remove(),pn({title:"Integration deleted",type:"info",options:{position:"bottom-left"}})}catch(a){r(a)}}})}}))}):d.jsx(ei,{icon:"integration",children:"No custom integration."})},zL=({keywords:n})=>{const[e,t]=y.useState("built-in"),{data:{integrations:r}={integrations:[]}}=eL(),{updateRoute:i}=be(),s=[{id:"built-in",title:"Built-in",contents:d.jsx(VL,{})},{id:"custom",title:"Custom",contents:d.jsx(UL,{integrations:r.filter(o=>o.type==="custom")})}],a=d.jsx(ne,{className:"mt-[-5px] inline-flex h-7 cursor-pointer items-center justify-center whitespace-nowrap rounded px-3 text-sm font-semibold text-grey-900 transition hover:bg-grey-200 dark:text-white dark:hover:bg-grey-900 [&:hover]:text-black",color:"clear",label:"Add custom integration",link:!0,onClick:()=>{i("integrations/new"),t("custom")}});return d.jsx(Se,{customButtons:a,customHeader:d.jsxs("div",{className:"sm:-mt-5 md:-mt-7",children:[d.jsx("div",{className:"-mx-5 overflow-hidden rounded-t-xl border-b border-grey-200 md:-mx-7 dark:border-grey-800",children:d.jsx("img",{className:"size-full",src:HL})}),d.jsxs("div",{className:" z-10 mt-6 flex items-start justify-between",children:[d.jsx(Kr,{description:"Make Ghost work with apps and tools.",title:"Integrations"}),d.jsx(ne,{className:"mt-[-5px] inline-flex h-7 cursor-pointer items-center justify-center whitespace-nowrap rounded px-3 text-sm font-semibold text-grey-900 transition hover:bg-grey-200 dark:text-white dark:hover:bg-grey-900 [&:hover]:text-black",color:"clear",label:"Add custom integration",link:!0,onClick:()=>{i("integrations/new"),t("custom")}})]})]}),keywords:n,navid:"integrations",testId:"integrations",children:d.jsx(Kn,{selectedTab:e,tabs:s,onTabChange:t})})},WL=Ce(zL,"Integrations");function qL(n,e={}){window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},window.plausible(n,{props:e})}const Ql=({label:n,flag:e,disabled:t})=>{const{settings:r}=Le(),i=JSON.parse(rb(r,"labs")||"{}"),{mutateAsync:s}=Xr(),a=Rf(),o=gt();return d.jsx(rn,{checked:i[e],disabled:t,label:n,labelClasses:"sr-only",name:`feature-${e}`,onChange:async()=>{const l=!i[e];try{await s([{key:"labs",value:JSON.stringify({...i,[e]:l})}]),qL("Feature Toggled",{state:l?"on":"off",feature:e}),a.setQueriesData([s2],c=>({config:{...c.config,labs:{...c.config.labs,[e]:l}}}))}catch(c){o(c)}}})},Si=({title:n,detail:e,action:t})=>d.jsx(Zc,{action:t,bgOnHover:!1,detail:e,paddingRight:!1,title:n}),GL=ze({method:"POST",path:()=>"/redirects/upload/",body:n=>{const e=new FormData;return e.append("redirects",n),e}}),KL=()=>Df("/redirects/download/"),ZL=ze({method:"POST",path:()=>"/settings/routes/yaml/",body:n=>{const e=new FormData;return e.append("routes",n),e}}),YL=()=>Df("/settings/routes/yaml/"),JL=()=>{const{mutateAsync:n}=GL(),{mutateAsync:e}=ZL(),t=gt(),[r,i]=y.useState(!1),[s,a]=y.useState(!1);return d.jsxs(Yi,{titleSeparator:!1,children:[d.jsx(Si,{action:d.jsx(Ql,{flag:"superEditors"}),detail:d.jsx(d.Fragment,{children:"Allows newly-assigned editors to manage members and comments in addition to regular roles."}),title:"Enhanced Editor role (beta)"}),d.jsx(Si,{action:d.jsx(Ql,{flag:"editorExcerpt"}),detail:d.jsx(d.Fragment,{children:"Adds the excerpt input below the post title in the editor"}),title:"Show post excerpt inline"}),d.jsx(Si,{action:d.jsx(Ql,{flag:"additionalPaymentMethods"}),detail:d.jsxs(d.Fragment,{children:["Enable support for CashApp, iDEAL, Bancontact, and others. ",d.jsx("a",{className:"text-green",href:"https://ghost.org/help/payment-methods",rel:"noopener noreferrer",target:"_blank",children:"Learn more "})]}),title:"Additional payment methods"}),d.jsx(Si,{action:d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx(tc,{id:"upload-redirects",onUpload:async o=>{try{i(!0),await n(o),pn({title:"Redirects uploaded",type:"success"})}catch(l){t(l)}finally{i(!1)}},children:d.jsx(ne,{color:"grey",label:r?"Uploading ...":"Upload redirects file",size:"sm",tag:"div"})}),d.jsx(ne,{color:"green",label:"Download current redirects",link:!0,onClick:()=>KL()})]}),detail:d.jsxs(d.Fragment,{children:["Configure redirects for old or moved content, ",d.jsx("br",{})," more info in the ",d.jsx("a",{className:"text-green",href:"https://ghost.org/tutorials/implementing-redirects/",rel:"noopener noreferrer",target:"_blank",children:"docs"})]}),title:"Redirects"}),d.jsx(Si,{action:d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx(tc,{id:"upload-routes",onUpload:async o=>{try{a(!0),await e(o),pn({type:"success",title:"Routes uploaded"})}catch(l){t(l)}finally{a(!1)}},children:d.jsx(ne,{color:"grey",label:s?"Uploading ...":"Upload routes file",size:"sm",tag:"div"})}),d.jsx(ne,{color:"green",label:"Download current routes",link:!0,onClick:()=>YL()})]}),detail:"Configure dynamic routing by modifying the routes.yaml file",title:"Routes"})]})},XL="data:image/svg+xml,%3csvg%20width='267'%20height='285'%20viewBox='0%200%20267%20285'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='165'%20cy='183'%20r='102'%20fill='%23F1F3F4'/%3e%3ccircle%20cx='68'%20cy='71'%20r='31'%20fill='%23F1F3F4'/%3e%3ccircle%20cx='99'%20cy='17'%20r='17'%20fill='%23F1F3F4'/%3e%3ccircle%20cx='118'%20cy='70'%20r='7'%20fill='%23F1F3F4'/%3e%3ccircle%20cx='45'%20cy='32'%20r='3'%20fill='%23F1F3F4'/%3e%3ccircle%20cx='12.5'%20cy='83.5'%20r='12.5'%20fill='%23F1F3F4'/%3e%3c/svg%3e",Dh="InvitesResponseType",QL=Of({dataType:Dh,path:"/invites/",permissions:["Owner","Administrator"],defaultSearchParams:{limit:"100",include:"roles"},defaultNextPageParams:(n,e)=>{var t;return{...e,page:(((t=n.meta)==null?void 0:t.pagination.next)||1).toString()}},returnData:n=>{const{pages:e}=n,t=e.flatMap(i=>i.invites),r=e[e.length-1].meta;return{invites:t,meta:r,isEnd:r?r.pagination.pages===r.pagination.page:!0}}}),e_=ze({method:"POST",path:()=>"/invites/",body:({email:n,roleId:e})=>({invites:[{email:n,role_id:e,expires:null,status:null,token:null}]}),updateQueries:{dataType:Dh,emberUpdateType:"createOrUpdate",update:Tf("invites")}}),t_=ze({path:n=>`/invites/${n}/`,method:"DELETE",updateQueries:{dataType:Dh,emberUpdateType:"delete",update:a2("invites")}}),n_="RolesResponseType",r_=Qr({dataType:n_,path:"/roles/",defaultSearchParams:{limit:"100"}});function ec(n,e){return n.filter(t=>t.roles.find(r=>r.name===e))}function i_(n,e){return n.filter(t=>t.roles.find(r=>e.includes(r.name)))}function s_(n){return ec(n,"Owner")[0]}const Gw=()=>{const{currentUser:n}=Le(),{data:{users:e,meta:t,isEnd:r}={users:[]},isLoading:i,fetchNextPage:s}=o2(),{data:{invites:a,meta:o,isEnd:l}={invites:[]},isLoading:c,fetchNextPage:u}=QL(),{data:{roles:f}={},isLoading:h}=r_(),p=y.useMemo(()=>s_(e),[e]),g=y.useMemo(()=>ec(e,"Administrator"),[e]),m=y.useMemo(()=>i_(e,["Editor","Super Editor"]),[e]),v=y.useMemo(()=>ec(e,"Author"),[e]),b=y.useMemo(()=>ec(e,"Contributor"),[e]),x=y.useMemo(()=>a.map(w=>{let S=f?.find(k=>w.role_id===k.id);return{...w,role:S?.name}}),[a,f]);return{totalUsers:t?.pagination.total||0,totalInvites:o?.pagination.total||0,users:e,ownerUser:p,adminUsers:g,editorUsers:m,authorUsers:v,contributorUsers:b,currentUser:n,invites:x,isLoading:i||c||h,hasNextPage:r===!1,invitesHasNextPage:l===!1,fetchNextPage:s,fetchNextInvitePage:u}},a_=ea(()=>import("./index-zvNmrx86.js").then(n=>n.i),__vite__mapDeps([8,1,2,9]),import.meta.url);class Kw extends Error{errorType;errorDetails;constructor({errorType:e,errorDetails:t,message:r}){super(r),this.errorType=e,this.errorDetails=t}}class o_ extends Kw{constructor(e){super(Object.assign({errorType:"IncorrectUsageError"},e))}}class xa extends Kw{constructor(e){super(Object.assign({errorType:"HostLimitError"},e))}}const ya=()=>{const{config:n}=Le(),[e,t]=y.useState(null);y.useEffect(()=>{a_.then(u=>t(()=>u.default))},[]);const{users:r,contributorUsers:i,invites:s,isLoading:a}=Gw(),{refetch:o}=ib({searchParams:{limit:"1"},enabled:!1}),{refetch:l}=ob({searchParams:{filter:"status:active",limit:"1"},enabled:!1}),c=y.useMemo(()=>n.hostSettings?.billing?.enabled===!0&&n.hostSettings?.billing?.url?n.hostSettings.billing.url:"https://ghost.org/help/",[n.hostSettings?.billing]);return y.useMemo(()=>{const u={isLimited:()=>!1,isDisabled:()=>!1,checkWouldGoOverLimit:()=>Promise.resolve(!1),errorIfWouldGoOverLimit:()=>Promise.resolve(),errorIfIsOverLimit:()=>Promise.resolve()};if(!e||!n.hostSettings?.limits||a)return u;const f={...n.hostSettings.limits},h=new e;return f.staff&&(f.staff.currentCountQuery=async()=>{const p=r.filter(m=>m.status!=="inactive"&&!i.includes(m)),g=s.filter(m=>m.role!=="Contributor");return p.length+g.length}),f.members&&(f.members.currentCountQuery=async()=>{const{data:p}=await o();return p?.meta?.pagination?.total||0}),f.newsletters&&(f.newsletters.currentCountQuery=async()=>{const{data:{pages:p}={pages:[]}}=await l();return p[0].meta?.pagination.total||0}),h.loadLimits({limits:f,helpLink:c,errors:{HostLimitError:xa,IncorrectUsageError:o_}}),{isLimited:p=>h.isLimited(p),isDisabled:p=>h.isDisabled(p),checkWouldGoOverLimit:p=>h.checkWouldGoOverLimit(p),errorIfWouldGoOverLimit:(p,g={})=>h.errorIfWouldGoOverLimit(p,g),errorIfIsOverLimit:p=>h.errorIfIsOverLimit(p)}},[e,n,i,o,l,c,s,a,r])},l_=[{title:"Stripe Automatic Tax (private beta)",description:"Use Stripe Automatic Tax at Stripe Checkout. Needs to be enabled in Stripe",flag:"stripeAutomaticTax"},{title:"Email customization (internal beta)",description:"Newsletter customization settings that have been released to Ghost's own production sites",flag:"emailCustomization"},{title:"Import Member Tier",description:"Enables tier to be specified when importing members",flag:"importMemberTier"},{title:"Explore",description:"Enables keeping in touch with the new Explore API",flag:"explore"},{title:"Tags X",description:"Enables the new Tags UI",flag:"tagsX"},{title:"Email Unique ID",description:"Enables {uniqueid} variable in emails for unique image URLs to bypass ESP image caching",flag:"emailUniqueid"},{title:"Updated theme translation (beta)",description:"Enable theme translation using i18next instead of the old translation package.",flag:"themeTranslation"},{title:"IndexNow",description:"Automatically notify search engines when content is published or updated for faster indexing.",flag:"indexnow"},{title:"Featurebase Feedback",description:"Display a Feedback menu item in the admin sidebar. Requires the new admin experience.",flag:"featurebaseFeedback"},{title:"Transistor",description:"Enable Transistor podcast integration",flag:"transistor"},{title:"Inbox Links",description:"Enable mail app links on signup/signin",flag:"inboxlinks"},{title:"Retention Offers",description:"Enable retention offers for canceling members",flag:"retentionOffers"}],c_=()=>{const n=ya(),[e,t]=y.useState([]);return y.useEffect(()=>{(async()=>{const i=[];for(const s of l_)if(s.limitName&&n?.isLimited(s.limitName))try{await n.errorIfWouldGoOverLimit(s.limitName),i.push(s)}catch(a){a instanceof xa||i.push(s)}else i.push(s);t(i)})()},[n]),d.jsx(Yi,{titleSeparator:!1,children:e.map(r=>d.jsx(Si,{action:d.jsx(Ql,{flag:r.flag,label:r.title}),detail:r.description,title:r.title},r.flag))})};function u_(n){const[e,t]=y.useState(!1),r=y.useRef(!1),{filter:i,getVisibleComponents:s,checkVisible:a}=ba();return y.useEffect(()=>{i||(r.current=!1)},[i]),y.useEffect(()=>{if(r.current)return;const c=a(n),u=s(),f=!!i&&c&&u.size===1;t(f)},[i,n,a,s]),{isOpen:e,openManually:()=>{r.current=!0,t(!0)},closeManually:()=>{r.current=!0,t(!1)}}}const d_=({keywords:n})=>{const[e,t]=y.useState("labs-beta-features"),{config:r}=Le(),{isOpen:i,openManually:s,closeManually:a}=u_(n),o=[{id:"labs-beta-features",title:"Beta features",contents:d.jsx(JL,{})},r.enableDeveloperExperiments&&{id:"labs-private-features",title:"Private features",contents:d.jsx(c_,{})}].filter(Boolean);return d.jsx(Se,{customHeader:d.jsxs("div",{className:"z-10 flex items-start justify-between",children:[d.jsx(Kr,{description:"This is a testing ground for new or experimental features. They may change, break or inexplicably disappear at any time.",title:"Labs"}),d.jsx(ne,{className:"mt-[-5px]",color:i?"grey":"clear",label:i?"Close":"Open",size:"sm",onClick:i?a:s})]}),isEditing:i,keywords:n,navid:"labs",testId:"labs",children:i?d.jsx(Kn,{selectedTab:e,tabs:o,onTabChange:t}):d.jsx("div",{className:"absolute inset-0 z-0 overflow-hidden opacity-70",children:d.jsx("img",{className:"absolute -right-6 -top-6 dark:opacity-10",src:XL})})})},f_=Ce(d_,"Labs"),h_=()=>{const{refetch:n}=M2({searchParams:{limit:"1000"},enabled:!1}),e=gt(),t=async()=>{try{const{data:r}=await n();if(r){const i=new Blob([r],{type:"text/csv"}),s=window.URL.createObjectURL(i),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",s),a.setAttribute("download",`post-analytics.${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}}catch(r){e(r)}};return d.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-4 md:grid-cols-2 lg:grid-cols-3",children:[d.jsx(ne,{className:"!h-9 !font-semibold",color:"grey",icon:"export",iconColorClass:"!h-4 !w-auto",label:"Content & settings",onClick:()=>_L()}),d.jsx(ne,{className:"!h-9 !font-semibold",color:"grey",icon:"baseline-chart",iconColorClass:"!h-4 !w-auto",label:"Post analytics",onClick:t})]})},p_=()=>{const n=ir(),{mutateAsync:e}=PL(),[t,r]=y.useState(!1),i=gt();return d.jsx(Or,{backDropClick:!1,footer:d.jsxs("div",{className:"flex w-full items-center justify-between p-8",children:[d.jsx(Ls,{href:"https://docs.ghost.org/migration/ghost",target:"_blank",children:"Learn about importing"}),d.jsx(ne,{color:"outline",disabled:t,label:"Cancel",onClick:()=>n.remove()})]}),okLabel:"",size:"sm",testId:"universal-import-modal",title:"Universal import",children:d.jsx("div",{className:"py-4 leading-9",children:d.jsx(tc,{accept:"application/json, application/zip",id:"import-file",onUpload:async s=>{r(!0);try{await e(s),n.remove(),Ke.show(Gr,{title:"Import in progress",prompt:"Your import is being processed, and you'll receive a confirmation email as soon as its complete. Usually this only takes a few minutes, but larger imports may take longer.",cancelLabel:"",okLabel:"Got it",onOk:a=>a?.remove(),formSheet:!1})}catch(a){i(a)}finally{r(!1)}},children:d.jsx("div",{className:"-mb-4 cursor-pointer bg-grey-75 p-10 text-center dark:bg-grey-950",children:t?"Uploading...":d.jsxs(d.Fragment,{children:["Select any JSON or zip file that contains ",d.jsx("br",{}),"posts and settings"]})})})})})},m_=Ke.create(p_),oi=({icon:n,title:e,onClick:t})=>{const r=_("flex h-9 cursor-pointer items-center justify-center gap-2 rounded-md bg-grey-100 px-2 text-sm font-semibold transition-all hover:bg-grey-200 dark:bg-grey-900");return t?d.jsxs("button",{className:r,type:"button",onClick:t,children:[n,e]}):d.jsx(d.Fragment,{})},g_=()=>{const{updateRoute:n}=be(),e=()=>{Ke.show(m_)};return d.jsxs("div",{className:"grid grid-cols-1 gap-4 pt-4 md:grid-cols-2 lg:grid-cols-3",children:[d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto",name:"substack",size:18}),title:"Substack",onClick:()=>n({isExternal:!0,route:"/migrate/substack"})}),d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto",name:"wordpress",size:18}),title:"WordPress",onClick:()=>n({isExternal:!0,route:"/migrate/wordpress"})}),d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto",name:"squarespace",size:18}),title:"Squarespace",onClick:()=>n({isExternal:!0,route:"/migrate/squarespace"})}),d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto dark:invert",name:"medium",size:18}),title:"Medium",onClick:()=>n({isExternal:!0,route:"/migrate/medium"})}),d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto",name:"mailchimp",size:20}),title:"Mailchimp",onClick:()=>n({isExternal:!0,route:"/migrate/mailchimp"})}),d.jsx(oi,{icon:d.jsx(ge,{className:"w-auto",name:"import",size:16}),title:"Universal import",onClick:e})]})},v_=({keywords:n})=>{const[e,t]=y.useState("import"),r=[{id:"import",title:"Import",contents:d.jsx(g_,{})},{id:"export",title:"Export",contents:d.jsx(h_,{})}].filter(Boolean);return d.jsx(Se,{customHeader:d.jsx(Kr,{description:"Import content, members and subscriptions from other platforms or export your Ghost data.",title:"Migration tools"}),keywords:n,navid:"migration",testId:"migrationtools",children:d.jsx(Kn,{selectedTab:e,tabs:r,onTabChange:t})})},b_=Ce(v_,"Migration tools"),rs=({keywords:n,...e})=>{const{checkVisible:t,noResult:r}=ba();return d.jsx(vD,{isVisible:t(n)||r,...e})},Wt={integrations:["advanced","integrations","zapier","slack","unsplash","first promoter","firstpromoter","pintura","disqus","analytics","ulysses","typeform","buffer","plausible","github","webhooks"],migrationtools:["import","export","migrate","substack","substack","migration","medium","wordpress","wp","squarespace"],codeInjection:["advanced","code injection","head","footer"],labs:["advanced","labs","alpha","private","beta","flag","routes","redirect","translation","editor","portal"],history:["advanced","history","log","events","user events","staff","audit","action"],dangerzone:["danger","danger zone","delete","content","delete all content","delete site"]},x_=()=>d.jsxs(rs,{keywords:Object.values(Wt).flat(),title:"Advanced",children:[d.jsx(WL,{keywords:Wt.integrations}),d.jsx(b_,{keywords:Wt.migrationtools}),d.jsx(NL,{keywords:Wt.codeInjection}),d.jsx(f_,{keywords:Wt.labs}),d.jsx(FL,{keywords:Wt.history}),d.jsx(BL,{keywords:Wt.dangerzone})]}),bu="OffersResponseType",Zw=Qr({dataType:bu,path:"/offers/",defaultSearchParams:{}}),O6=l2({dataType:bu,path:n=>`/offers/${n}/`}),T6=ze({method:"PUT",path:n=>`/offers/${n.id}/`,body:n=>({offers:[n]}),updateQueries:{dataType:bu,emberUpdateType:"createOrUpdate",update:sb("offers")}}),N6=ze({method:"POST",path:()=>"/offers/",body:n=>({offers:[n]}),updateQueries:{dataType:bu,emberUpdateType:"createOrUpdate",update:Tf("offers")}});function Tg(n){const e=new Date,t={timeZone:n},r=navigator.language.startsWith("en")?navigator.language:"en-US";return e.toLocaleString(r,t)}function Yw(n=""){let e=new RegExp(/([A-Za-z\u00C0-\u017F]{1})[A-Za-z\u00C0-\u017F]+/,"g"),t=[...n.matchAll(e)];return((t.shift()?.[1]||"")+(t.pop()?.[1]||"")).toUpperCase()}function Rh(n){let r=0;for(let s=0;s<n.length;s++)r=n.charCodeAt(s)+((r<<5)-r);return"hsl("+r%360+", 70%, 40%)"}function kn(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function y_(n){return/^[a-z0-9]{24}$/.test(n)}const w_=[{label:"Free members",value:"status:free",color:"green"},{label:"Paid members",value:"status:-free",color:"pink"}],S_=(n,e)=>{const t=Fu({path:"/tiers/",filterKey:"name",responseKey:"tiers"}),r=Fu({path:"/labels/",filterKey:"name",responseKey:"labels"}),i=Fu({path:"/offers/",filterKey:"name",responseKey:"offers"}),[s,a]=y.useState(null),o=h=>({value:h.id,label:h.name,color:"black"}),l=h=>({value:`label:${h.slug}`,label:h.name,color:"grey"}),c=h=>({value:`offer_redemptions:${h.id}`,label:h.name,color:"black"}),u=async(h,p)=>{const[g,m,v]=await Promise.all([t.loadData(h),r.loadData(h),i.loadData(h)]),b=[{options:w_.filter(({label:x})=>x.toLowerCase().includes(h.toLowerCase()))},{label:"Active Tiers",options:g.filter(({active:x,type:w})=>x&&w!=="free").map(o)||[]},{label:"Archived Tiers",options:g.filter(({active:x})=>!x).map(o)||[]},{label:"Labels",options:m.map(l)||[]},{label:"Offers",options:v.map(c)||[]}];s===null&&f(),p(b.filter(x=>x.options.length>0))},f=async()=>{const h=e?.split(",")||[],p=[],g=[],m=[];for(const b of h)b.startsWith("label:")?g.push(b.replace("label:","")):b.startsWith("offer_redemptions:")?m.push(b.replace("offer_redemptions:","")):y_(b)&&p.push(b);const v=await Promise.all([t.loadInitialValues(p,"id").then(b=>b.map(o)),r.loadInitialValues(g,"slug").then(b=>b.map(l)),i.loadInitialValues(m,"id").then(b=>b.map(c))]).then(b=>b.flat());a(h.map(b=>v.find(x=>x.value===b)))};return y.useEffect(()=>{n==="segment"&&u("",()=>{})},[n]),{loadOptions:O2(u,500),selectedSegments:s,setSelectedSegments:a}},Ng=[{label:"Whoever has access to the post",hint:"Free posts to everyone, premium posts sent to paid members",value:"visibility"},{label:"All members",hint:"Everyone who is subscribed to newsletter updates, whether free or paid members",value:"all-members"},{label:"Paid-members only",hint:"People who have a premium subscription",value:"paid-only"},{label:"Specific people",hint:"Only people with any of the selected tiers or labels",value:"segment"},{label:"Usually nobody",hint:"Newsletters are off for new posts, but can be enabled when needed",value:"none"}];function Pg({defaultEmailRecipients:n,defaultEmailRecipientsFilter:e}){return n==="filter"?e==="status:free,status:-free"?"all-members":e==="status:-free"?"paid-only":e===null?"none":"segment":n}const k_=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),[l,c]=Te(e,["editor_default_email_recipients","editor_default_email_recipients_filter"]),[u,f]=y.useState(Pg({defaultEmailRecipients:l,defaultEmailRecipientsFilter:c})),{loadOptions:h,selectedSegments:p,setSelectedSegments:g}=S_(u,c);y.useEffect(()=>{const b=Pg({defaultEmailRecipients:l,defaultEmailRecipientsFilter:c});f(b)},[l,c]);const m=b=>{["visibility","disabled"].includes(b)?(a("editor_default_email_recipients",b),a("editor_default_email_recipients_filter",null)):a("editor_default_email_recipients","filter"),b==="all-members"&&a("editor_default_email_recipients_filter","status:free,status:-free"),b==="paid-only"&&a("editor_default_email_recipients_filter","status:-free"),b==="none"&&a("editor_default_email_recipients_filter",null),f(b),t||o(!0)},v=b=>{if(g(b),b.length){const x=b?.map(({value:w})=>w).join(",");a("editor_default_email_recipients_filter",x)}else a("editor_default_email_recipients_filter",null),f("none");t||o(!0)};return d.jsx(Se,{description:"When you publish new content, who do you usually want to send it to?",isEditing:t,keywords:n,navid:"default-recipients",saveState:r,testId:"default-recipients",title:"Default recipients",hideEditButton:!0,onCancel:s,onEditingChange:o,onSave:i,children:d.jsxs(Ye,{columns:1,children:[d.jsx(yr,{hint:"Who should receive your posts by default?",options:Ng,selectedOption:Ng.find(b=>b.value===u),testId:"default-recipients-select",title:"Default Newsletter recipients",onSelect:b=>{b&&m(b.value)}}),u==="segment"&&p&&d.jsx(ux,{loadOptions:h,title:"Filter",values:p,async:!0,defaultOptions:!0,onChange:v})]})})},C_=Ce(k_,"Default recipients"),A_=({keywords:n})=>{const{settings:e}=Le(),{mutateAsync:t}=Xr(),{updateRoute:r}=be(),i=gt(),[s,a]=Te(e,["editor_default_email_recipients","members_signup_access"]),o=a==="none",l=async u=>{const f=[{key:"editor_default_email_recipients",value:u.target.checked?"visibility":"disabled"}];u.target.checked||f.push({key:"editor_default_email_recipients_filter",value:null});try{await t(f)}catch(h){i(h)}},c=d.jsx(d.Fragment,{children:d.jsx(rn,{checked:s!=="disabled",direction:"rtl",onChange:l})});return d.jsx(Se,{customButtons:c,description:"Newsletter features are active, posts can be sent by email",keywords:n,navid:"enable-newsletters",testId:"enable-newsletters",title:"Newsletter sending",children:d.jsx(Ye,{columns:1,values:[{key:"private",value:s!=="disabled"?d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ge,{colorClass:"text-green",name:"check",size:"sm"}),d.jsx("span",{children:"Enabled"})]}),o&&d.jsxs(yb,{className:"mt-6 text-sm",color:"grey",children:["Your ",d.jsx("button",{className:"!underline",type:"button",onClick:()=>{r("members")},children:"Subscription access"})," is set to Nobody, only existing members will receive newsletters."]})]}):d.jsxs("div",{className:"flex items-center gap-2 text-grey-900",children:[d.jsx(ge,{colorClass:"text-grey-600",name:"mail-block",size:"sm"}),d.jsx("span",{children:"Disabled"})]})}]})})},M_=Ce(A_,"Newsletter sending"),hd=[{label:" US",value:"https://api.mailgun.net/v3"},{label:" EU",value:"https://api.eu.mailgun.net/v3"}],I_=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),{mutateAsync:l}=Xr(),c=gt(),[u,f,h]=Te(e,["mailgun_base_url","mailgun_domain","mailgun_api_key"]),g=f&&h?[{key:"status",value:d.jsx(cI,{icon:"check-circle",iconColorClass:"text-green",children:"Mailgun is set up"})}]:[{heading:"Status",key:"status",value:"Mailgun is not set up"}],m=d.jsx(Ye,{columns:1,values:g}),v=d.jsxs(d.Fragment,{children:["Find your Mailgun API keys ",d.jsx(Ls,{href:"https://app.mailgun.com/settings/api_security",rel:"noopener noreferrer",target:"_blank",children:"here"})]}),b=d.jsx(Ye,{children:d.jsxs("div",{className:"grid grid-cols-[120px_auto] gap-x-3 gap-y-6",children:[d.jsx(yr,{options:hd,selectedOption:hd.find(w=>w.value===u),title:"Mailgun region",onSelect:w=>{a("mailgun_base_url",w?.value||null)}}),d.jsx(tt,{title:"Mailgun domain",value:f,onChange:w=>{a("mailgun_domain",w.target.value)}}),d.jsx("div",{className:"col-span-2",children:d.jsx(tt,{hint:v,title:"Mailgun private API key",type:"password",value:h,onChange:w=>{a("mailgun_api_key",w.target.value)}})})]})}),x=d.jsxs(d.Fragment,{children:["The Mailgun API is used for bulk email newsletter delivery. ",d.jsx(Ls,{href:"https://ghost.org/docs/faq/mailgun-newsletters/",target:"_blank",children:"Why is this required?"})]});return d.jsx(Se,{description:x,isEditing:t,keywords:n,navid:"mailgun",saveState:r,testId:"mailgun",title:"Mailgun",onCancel:s,onEditingChange:o,onSave:async()=>{if(!u)try{await l([{key:"mailgun_base_url",value:hd[0].value}])}catch(w){c(w);return}i()},children:t?b:m})},E_=Ce(I_,"Mailgun"),Lg=({id:n,setRef:e,isDragging:t,style:r,children:i,...s})=>{const{updateRoute:a}=be(),o=()=>{a({route:`newsletters/${n}`})},l=d.jsxs(tu,{ref:e,action:d.jsx(ne,{color:"green","data-testid":"edit-newsletter-button",label:"Edit",link:!0,onClick:o}),className:t?"opacity-75":"",hideActions:!1,style:r,onClick:o,children:[(s.dragHandleAttributes||t)&&d.jsx(Hn,{className:"w-10 !align-middle",children:d.jsx(Fx,{className:"h-10",isDragging:t||!1,...s})}),i]});return t?d.jsx(Ti,{children:l}):l},_g=({newsletter:n})=>{const{updateRoute:e}=be(),t=()=>{e({route:`newsletters/${n.id}`})};return d.jsxs(d.Fragment,{children:[d.jsx(Hn,{className:"w-full",onClick:t,children:d.jsxs("div",{className:"flex grow flex-col",children:[d.jsx("span",{className:"font-medium",children:n.name}),d.jsx("span",{className:"mt-0.5 text-xs leading-tight text-grey-700",children:n.description||"No description"})]})}),d.jsx(Hn,{className:"hidden md:!visible md:!table-cell md:min-w-[11rem]",onClick:t,children:d.jsxs("div",{className:"flex grow flex-col",children:[d.jsx("span",{children:kn(n.count?.active_members||0)}),d.jsx("span",{className:"mt-0.5 whitespace-nowrap text-xs leading-tight text-grey-700",children:"Subscribers"})]})}),d.jsx(Hn,{className:"hidden md:!visible md:!table-cell md:min-w-[11rem]",onClick:t,children:d.jsxs("div",{className:"flex grow flex-col",children:[d.jsx("span",{children:kn(n.count?.posts||0)}),d.jsx("span",{className:"mt-0.5 whitespace-nowrap text-xs leading-tight text-grey-700",children:"Delivered"})]})})]})},jg=({newsletters:n,isLoading:e,isSortable:t,onSort:r})=>e?d.jsx(Ti,{isLoading:!0}):n.length&&t?d.jsx(lD,{container:i=>d.jsx(Lg,{...i}),items:n,renderItem:i=>d.jsx(_g,{newsletter:i}),wrapper:Ti,onMove:(i,s)=>r?.(i,s)}):n.length?d.jsx(Ti,{children:n.map(i=>d.jsx(Lg,{id:i.id,children:d.jsx(_g,{newsletter:i})}))}):d.jsx(ei,{icon:"mail-block",children:"No newsletters found."}),Jw=()=>{const[n,e]=y.useState(new URLSearchParams);return y.useEffect(()=>{const r=()=>{const s=window.location.hash.split("?")[1];e(s?new URLSearchParams(s):new URLSearchParams)};return r(),window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}},[]),{getParam:r=>n.get(r)}},pd=({id:n,children:e})=>{const t=ir(),{updateRoute:r}=be();return d.jsx("button",{className:"text-green",type:"button",onClick:()=>{r(`newsletters/${n}`),t.remove()},children:e})},D_=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("newsletters/new")},[r,i]=y.useState("active-newsletters"),{data:{newsletters:s,meta:a,isEnd:o}={},isLoading:l,fetchNextPage:c}=ob(),{mutateAsync:u}=k2(),f=Rf(),h=Jw().getParam("verifyEmail"),{mutateAsync:p}=C2(),g=gt(),[m,v]=y.useState(s||[]);y.useEffect(()=>{v(s||[])},[s]),y.useEffect(()=>{if(!h||!window.location.href.includes("newsletters"))return;(async()=>{try{const{newsletters:[C],meta:{email_verified:E}={}}=await p({token:h});let M,R;E&&E==="sender_email"?(M="Newsletter email verified",R=d.jsxs(d.Fragment,{children:["Newsletter ",d.jsx(pd,{id:C.id,children:C.name})," will now be sent from ",d.jsx("strong",{children:C.sender_email}),"."]})):E&&E==="sender_reply_to"?(M="Reply-to address verified",R=d.jsxs(d.Fragment,{children:["Newsletter ",d.jsx(pd,{id:C.id,children:C.name})," will now use ",d.jsx("strong",{children:C.sender_reply_to})," as the reply-to address."]})):(M="Email address verified",R=d.jsxs(d.Fragment,{children:["Email address for newsletter ",d.jsx(pd,{id:C.id,children:C.name})," has been changed."]})),Ke.show(Gr,{title:M,prompt:R,okLabel:"Close",cancelLabel:"",onOk:T=>T?.remove()})}catch(C){let E="There was an error verifying your email address. Try again later.";C instanceof c2&&C.message==="Token expired"&&(E="Verification link has expired."),Ke.show(Gr,{title:"Error verifying email address",prompt:E,okLabel:"Close",cancelLabel:"",onOk:M=>M?.remove()}),g(C,{withToast:!1})}})()},[h,g,p]);const b=d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Add newsletter",size:"sm",onClick:()=>{t()}}),x=m.filter(A=>A.status==="active").sort((A,C)=>A.sort_order-C.sort_order)||[],w=m.filter(A=>A.status!=="active"),S=async(A,C)=>{const E=x.findIndex(L=>L.id===A),M=x.findIndex(L=>L.id===C)||0,T=Xf(x,E,M).map((L,$)=>L.sort_order===$?null:{...L,sort_order:$}).filter(L=>!!L),N=w.map((L,$)=>L.sort_order===$+x.length?null:{...L,sort_order:$}).filter(L=>!!L),P=[...T,...N].sort((L,$)=>L.sort_order-$.sort_order);v(m.map(L=>P.find($=>$.id===L.id)||L)),f.setQueriesData([A2],L=>{if(L)return{...L,pages:L.pages.map($=>({...$,newsletters:$.newsletters.map(q=>P.find(Z=>Z.id===q.id)||q)}))}});for(const L of P)await u(L)},k=[{id:"active-newsletters",title:"Active",contents:d.jsx(jg,{isLoading:l,newsletters:x,isSortable:!0,onSort:S})},{id:"archived-newsletters",title:"Archived",contents:d.jsx(jg,{isLoading:l,newsletters:w})}];return d.jsxs(Se,{customButtons:b,description:"Edit details and customize your design",keywords:n,navid:"newsletters",testId:"newsletters",title:"Newsletters",children:[d.jsx(Kn,{selectedTab:r,tabs:k,onTabChange:i}),o===!1&&d.jsx(ne,{label:`Load more (showing ${m?.length||0}/${a?.pagination.total||0} newsletters)`,link:!0,onClick:()=>c()})]})},R_=Ce(D_,"Newsletters"),gr={enableNewsletters:["emails","newsletters","newsletter sending","enable","disable","turn on","turn off"],newsletters:["newsletters","emails","design","customization"],defaultRecipients:["newsletters","default recipients","emails"],mailgun:["mailgun","emails","newsletters"],newslettersNavMenu:["emails","newsletters","newsletter sending","enable","disable","turn on","turn off","design","customization","default recipients","emails","mailgun","tips","donations","one time","payment"]},O_=()=>{const{settings:n,config:e}=Le(),[t]=Te(n,["editor_default_email_recipients"]);return d.jsxs(rs,{keywords:Object.values(gr).flat(),title:"Email newsletter",children:[d.jsx(M_,{keywords:gr.enableNewsletters}),t!=="disabled"&&d.jsxs(d.Fragment,{children:[d.jsx(C_,{keywords:gr.defaultRecipients}),d.jsx(R_,{keywords:gr.newsletters}),!e.mailgunIsConfigured&&d.jsx(E_,{keywords:gr.mailgun})]})]})},T_=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),[l,c,u,f,h,p]=Te(e,["email_track_opens","email_track_clicks","members_track_sources","outbound_link_tagging","web_analytics_configured","web_analytics_enabled"]),g=u2(e,"email_track_clicks"),[m,v]=y.useState(!1),b=ya(),{updateRoute:x}=be();y.useEffect(()=>{b?.isLimited("limitAnalytics")?b.errorIfWouldGoOverLimit("limitAnalytics").catch(k=>{k instanceof xa&&v(!0)}):v(!1)},[b]);const w=(k,A)=>{a(k,A.target.checked),o(!0)},S=d.jsxs(Ye,{className:"analytics-settings !gap-y-0",columns:1,children:[d.jsx(rn,{checked:p,direction:"rtl",disabled:!h||m,gap:"gap-0",hint:h?d.jsxs(d.Fragment,{children:["Cookie-free, first party traffic analytics for your site, powered by ",d.jsx("a",{className:"text-green",href:"https://ghost.org/integrations/tinybird",rel:"noopener noreferrer",target:"_blank",children:"Tinybird"})]}):d.jsx(d.Fragment,{children:"Cookie-free, first party traffic analytics for your site"}),label:"Web analytics",labelClasses:"py-4 w-full",onChange:k=>{w("web_analytics",k)}}),m?d.jsx("div",{className:"mb-5 rounded-md border border-grey-200 bg-grey-50 px-4 py-2.5 text-sm dark:border-grey-900 dark:bg-grey-925",children:d.jsx("span",{className:"flex items-start gap-2",children:d.jsxs("span",{children:["Web analytics is available on the Publisher plan and above. ",d.jsx("span",{className:"cursor-pointer text-green",onClick:()=>x({route:"/pro",isExternal:!0}),children:"Upgrade now "})]})})}):h?d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}):d.jsx("div",{className:"mb-5 rounded-md border border-grey-200 bg-grey-50 px-4 py-2.5 text-sm dark:border-grey-900 dark:bg-grey-925",children:d.jsx("span",{className:"flex items-start gap-2",children:d.jsxs("span",{children:["Web analytics in Ghost is powered by ",d.jsx("a",{className:"text-green",href:"https://tbrd.co/ghost",rel:"noopener noreferrer",target:"_blank",children:"Tinybird"})," and requires configuration to start collecting data. ",d.jsx("a",{className:"text-green",href:"https://docs.ghost.org/install/docker#tinybird-integration",rel:"noopener noreferrer",target:"_blank",children:"Get started "})]})})}),d.jsx(rn,{checked:l,direction:"rtl",gap:"gap-0",hint:"Record when a member opens an email",label:"Newsletter opens",labelClasses:"py-4 w-full",onChange:k=>{w("email_track_opens",k)}}),d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}),d.jsx(rn,{checked:c,direction:"rtl",disabled:g,gap:"gap-0",hint:"Record when a member clicks on any link in an email",label:"Newsletter clicks",labelClasses:"py-4 w-full",onChange:k=>{w("email_track_clicks",k)}}),d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}),d.jsx(rn,{checked:u,direction:"rtl",gap:"gap-0",hint:"Track the traffic sources and posts that drive the most member growth",label:"Member sources",labelClasses:"py-4 w-full",onChange:k=>{w("members_track_sources",k)}}),d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}),d.jsx(rn,{checked:f,direction:"rtl",gap:"gap-0",hint:"Make it easier for other sites to track the traffic you send them in their analytics",label:"Outbound link tagging",labelClasses:"py-4 w-full",onChange:k=>{w("outbound_link_tagging",k)}})]});return d.jsxs(Se,{description:"Decide what data you collect across your publication",isEditing:t,keywords:n,navid:"analytics",saveState:r,testId:"analytics",title:"Analytics",hideEditButton:!0,onCancel:s,onEditingChange:o,onSave:i,children:[S,d.jsx("div",{className:"items-center-mt-1 flex justify-between",children:d.jsx("a",{className:"text-sm text-green",href:"https://ghost.org/help/post-analytics/",rel:"noopener noreferrer",target:"_blank",children:"Learn about analytics"})})]})},N_=Ce(T_,"Analytics"),P_=({keywords:n})=>{const{siteData:e}=Le(),{localSettings:t,isEditing:r,saveState:i,handleSave:s,handleCancel:a,updateSetting:o,handleEditingChange:l,errors:c,clearError:u}=Ot({onValidate:()=>f&&!h?{password:"Enter a password"}:{}}),[f,h,p]=Te(t,["is_private","password","public_hash"]),g=S=>{o("is_private",S.target.checked)},m=S=>{o("password",S.target.value)},v=`${e.url.replace(/\/$/,"")}/${p}/rss`,b=d.jsxs(d.Fragment,{children:["A private RSS feed is available at ",d.jsx("a",{className:"break-all text-green",href:v,rel:"noopener noreferrer",target:"_blank",children:v})]}),x=d.jsx(Ye,{values:[{key:"private",value:f?d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ge,{colorClass:"text-yellow",name:"lock-locked",size:"sm"}),d.jsx("div",{className:"leading-supertight",children:"Your site is password protected"})]}),b&&d.jsxs("div",{className:"mt-7 w-full",children:[d.jsx(Ct,{}),d.jsx(Mn,{children:b})]})]}):d.jsxs("div",{className:"flex items-center gap-1 text-grey-900 dark:text-grey-400",children:[d.jsx(ge,{colorClass:"text-black dark:text-white",name:"lock-unlocked",size:"sm"}),d.jsx("span",{children:"Your site is not password protected"})]})}]}),w=d.jsxs(Ye,{children:[d.jsx(rn,{checked:f,direction:"rtl",hint:"All search engine optimization and social features will be disabled.",label:"Enable password protection",onChange:g}),f&&d.jsx(tt,{error:!!c.password,hint:c.password,placeholder:"Enter password",title:"Site password",value:h,hideTitle:!0,onChange:m,onKeyDown:()=>u("password")})]});return d.jsx(Se,{description:"Enable protection with a simple shared password.",isEditing:r,keywords:n,navid:"locksite",saveState:i,testId:"locksite",title:"Make site private",onCancel:a,onEditingChange:l,onSave:s,children:r?w:x})},L_=Ce(P_,"Make site private"),__=[{code:"af",label:"Afrikaans"},{code:"ar",label:"Arabic"},{code:"bg",label:"Bulgarian"},{code:"bn",label:"Bengali"},{code:"bs",label:"Bosnian"},{code:"ca",label:"Catalan"},{code:"cs",label:"Czech"},{code:"da",label:"Danish"},{code:"de",label:"German"},{code:"de-CH",label:"Swiss German"},{code:"el",label:"Greek"},{code:"en",label:"English"},{code:"eo",label:"Esperanto"},{code:"es",label:"Spanish"},{code:"et",label:"Estonian"},{code:"eu",label:"Basque"},{code:"fa",label:"Persian/Farsi"},{code:"fi",label:"Finnish"},{code:"fr",label:"French"},{code:"gd",label:"Gaelic (Scottish)"},{code:"he",label:"Hebrew"},{code:"hi",label:"Hindi"},{code:"hr",label:"Croatian"},{code:"hu",label:"Hungarian"},{code:"id",label:"Indonesian"},{code:"is",label:"Icelandic"},{code:"it",label:"Italian"},{code:"ja",label:"Japanese"},{code:"ko",label:"Korean"},{code:"kz",label:"Kazakh"},{code:"lt",label:"Lithuanian"},{code:"lv",label:"Latvian"},{code:"mk",label:"Macedonian"},{code:"mn",label:"Mongolian"},{code:"ms",label:"Malay"},{code:"nb",label:"Norwegian Bokml"},{code:"ne",label:"Nepali"},{code:"nl",label:"Dutch"},{code:"nn",label:"Norwegian Nynorsk"},{code:"pa",label:"Punjabi"},{code:"pl",label:"Polish"},{code:"pt",label:"Portuguese"},{code:"pt-BR",label:"Portuguese (Brazil)"},{code:"ro",label:"Romanian"},{code:"ru",label:"Russian"},{code:"si",label:"Sinhala"},{code:"sk",label:"Slovak"},{code:"sl",label:"Slovenian"},{code:"sq",label:"Albanian"},{code:"sr",label:"Serbian"},{code:"sr-Cyrl",label:"Serbian (Cyrillic)"},{code:"sv",label:"Swedish"},{code:"sw",label:"Swahili"},{code:"ta",label:"Tamil"},{code:"th",label:"Thai"},{code:"tr",label:"Turkish"},{code:"uk",label:"Ukrainian"},{code:"ur",label:"Urdu"},{code:"uz",label:"Uzbek"},{code:"vi",label:"Vietnamese"},{code:"zh",label:"Chinese"},{code:"zh-Hant",label:"Traditional Chinese"}],j_=new Set(["en-gb-oed","i-ami","i-bnn","i-default","i-enochian","i-hak","i-klingon","i-lux","i-mingo","i-navajo","i-pwn","i-tao","i-tay","i-tsu","sgn-be-fr","sgn-be-nl","sgn-ch-de","art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]),Bg=n=>{const e="Invalid locale format. Examples: en, pt-BR, zh-Hant, sr-Cyrl, x-private";if(!n)return"Enter a value";const t=n.trim();if(!t)return e;if(j_.has(t.toLowerCase()))return null;if(!/^[a-z0-9]+(-[a-z0-9]+)*$/i.test(t))return e;const r=t.split("-");if(r[0].toLowerCase()==="x"){if(r.length<2)return e;for(let l=1;l<r.length;l++)if(r[l].length<1||r[l].length>8)return e;return null}let i=0;const s=r[i];if(!/^[a-z]{2,3}$/i.test(s))return e;for(i+=1,i<r.length&&/^[a-z]{4}$/i.test(r[i])&&(i+=1),i<r.length&&/^([a-z]{2}|[0-9]{3})$/i.test(r[i])&&(i+=1);i<r.length&&/^([a-z0-9]{5,8}|[0-9][a-z0-9]{3})$/i.test(r[i]);)i+=1;for(;i<r.length&&/^[0-9a-wy-z]$/i.test(r[i]);){if(i+=1,i>=r.length||!/^[a-z0-9]{2,8}$/i.test(r[i]))return e;for(i+=1;i<r.length&&/^[a-z0-9]{2,8}$/i.test(r[i]);)i+=1}if(i<r.length&&r[i].toLowerCase()==="x"){if(i+=1,i>=r.length)return e;for(;i<r.length;){if(!/^[a-z0-9]+$/i.test(r[i]))return e;i+=1}}if(i!==r.length)return e;const a=r.findIndex(l=>l.toLowerCase()==="x"),o=["english","french","spanish","german","italian","chinese","japanese","korean","russian","arabic","united","states","kingdom","traditional","simplified"];for(let l=0;l<r.length;l++){const c=r[l];if(!["i","x","sgn","art","cel","no","zh"].includes(c.toLowerCase())&&!(a!==-1&&l>a)&&(c.length>16||o.includes(c.toLowerCase())))return e}return null},B_=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,errors:o,handleEditingChange:l}=Ot({onValidate:()=>{const p=Bg(c);return p?{publicationLanguage:p}:{}}}),[c]=Te(e,["locale"]),u=Y.useMemo(()=>__.map(g=>({value:g.code,label:`${g.label} (${g.code})`})),[]),f=p=>{a("locale",p),t||l(!0)},h=d.jsxs(d.Fragment,{children:["Default: English (",d.jsx("strong",{children:"en"}),"); find out more about",d.jsx("a",{className:"text-green-400",href:"https://ghost.org/docs/faq/translation/",rel:"noopener noreferrer",target:"_blank",children:" using Ghost in other languages"})]});return d.jsx(Se,{description:"Set the language/locale which is used on your site",isEditing:t,keywords:n,navid:"publication-language",saveState:r,testId:"publication-language",title:"Publication Language",hideEditButton:!0,onCancel:s,onEditingChange:l,onSave:i,children:d.jsx(Ye,{columns:1,children:d.jsx(HM,{defaultListValue:"en",error:!!o.publicationLanguage,hint:o.publicationLanguage||h,options:u,otherHint:"Enter a custom locale code.",otherPlaceholder:"e.g. pt-BR, sr-Cyrl, en",selectedValue:c,testId:"locale-select",title:"Site language",validate:Bg,isSearchable:!0,onSelect:f})})})},$_=Ce(B_,"Publication language"),F_=ze({method:"POST",path:()=>"/images/upload/",body:({file:n})=>{const e=new FormData;return e.append("file",n),e.append("purpose","image"),e}}),md=n=>n.images[0].url,H_=({title:n,description:e,icon:t,url:r})=>{const i=r?.replace(/\/$/,""),s=i?.replace(/^https?:\/\//,"").replace(/\/?$/,"");return d.jsx("div",{children:d.jsxs("div",{className:"-mx-5 -mb-5 overflow-hidden rounded-b-xl bg-grey-50 px-5 pt-2 md:-mx-7 md:-mb-7 md:px-7 md:pt-7 dark:bg-grey-950",children:[d.jsx("div",{className:"-mt-4 mb-2 text-xs uppercase text-grey-500 dark:text-grey-800",children:"Preview"}),d.jsxs("div",{className:"rounded-t-sm bg-white px-5 py-3 shadow-lg dark:bg-grey-975",children:[d.jsxs("div",{className:"mt-3 flex items-center",children:[d.jsx("div",{children:d.jsx(yD,{className:"mr-7 h-7"})}),d.jsx("div",{className:"grow",children:d.jsx("div",{className:"flex w-full items-center justify-end rounded-full bg-white p-3 px-4 shadow dark:bg-grey-900",children:d.jsx(ge,{className:"stroke-[2px] text-blue-600",name:"magnifying-glass",size:"sm"})})})]}),d.jsxs("div",{className:"mt-4 flex items-center gap-2 border-t border-grey-200 pt-4 dark:border-grey-900",children:[d.jsx("div",{className:"flex size-7 items-center justify-center rounded-full bg-grey-200 dark:bg-grey-700",style:{backgroundImage:t?`url(${t})`:"none",backgroundSize:"contain"}}),d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("span",{children:s}),d.jsx("span",{className:"-mt-0.5 inline-block text-xs text-grey-600",children:i})]})]}),d.jsxs("div",{className:"mt-1 flex flex-col",children:[d.jsx("span",{className:"text-lg text-[#1a0dab] dark:text-blue",children:n}),d.jsx("span",{className:"text-sm text-grey-900 dark:text-grey-700",children:e})]})]})]})})},V_=({keywords:n})=>{const{localSettings:e,saveState:t,siteData:r,focusRef:i,isEditing:s,handleSave:a,handleCancel:o,handleEditingChange:l,updateSetting:c}=Ot(),u=gt(),{mutateAsync:f}=F_(),h=qw(),[p,g,m,v,b,x,w,S,k,A]=Te(e,["meta_title","meta_description","title","description","og_title","og_description","og_image","twitter_title","twitter_description","twitter_image"]).map(Q=>Q||""),[C,E]=y.useState("metadata"),M=Q=>ce=>{c(Q,ce.target.value),s||l(!0)},R=Q=>async ce=>{try{const Ae=md(await f({file:ce}));c(Q,Ae),s||l(!0)}catch(Ae){const Be=Ae;Be.response.status===415&&(Be.message="Unsupported file type"),u(Be)}},T=Q=>()=>{c(Q,""),s||l(!0)},N=M("meta_title"),P=M("meta_description"),L=M("og_title"),$=M("og_description"),q=R("og_image"),Z=T("og_image"),oe=M("twitter_title"),ee=M("twitter_description"),de=R("twitter_image"),ve=T("twitter_image"),K=d.jsxs(d.Fragment,{children:[d.jsxs(Ye,{className:"my-6 gap-3",children:[d.jsx(tt,{hint:"Recommended: 70 characters",inputRef:i,maxLength:300,placeholder:m,title:"Meta title",value:p,onChange:N}),d.jsx(tt,{hint:"Recommended: 156 characters",maxLength:500,placeholder:v,title:"Meta description",value:g,onChange:P})]}),d.jsx(H_,{description:g||v,icon:r?.icon,title:p||m,url:r?.url})]}),fe=d.jsxs("div",{className:"mt-6 md:mx-[52px]",children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[d.jsx("div",{children:d.jsx(xD,{className:"size-10"})}),d.jsxs("div",{children:[d.jsx("div",{className:"mb-1 font-semibold leading-none text-grey-900 dark:text-grey-300",children:m}),d.jsx("div",{className:"leading-none text-grey-700",children:"2h"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"mb-2 h-3 w-full rounded bg-grey-200 dark:bg-grey-900"}),d.jsx("div",{className:"mb-4 h-3 w-3/5 rounded bg-grey-200 dark:bg-grey-900"}),d.jsxs(Ye,{className:"overflow-hidden rounded-md border border-grey-300 dark:border-grey-900",children:[d.jsx(Uh,{fileUploadClassName:"flex cursor-pointer items-center justify-center rounded rounded-b-none border border-grey-100 border-b-0 bg-grey-75 p-3 text-sm font-semibold text-grey-800 hover:text-black dark:border-grey-900",height:"300px",id:"facebook-image",imageURL:w,pintura:{isEnabled:h.isEnabled,openEditor:async()=>h.openEditor({image:w||"",handleSave:async Q=>{const ce=md(await f({file:Q}));c("og_image",ce)}})},onDelete:Z,onUpload:q,children:"Upload Facebook image"}),d.jsxs("div",{className:"mt-5 flex flex-col gap-x-6 gap-y-7 px-4 pb-7",children:[d.jsx(tt,{maxLength:300,placeholder:m,title:"Facebook title",value:b,onChange:L}),d.jsx(tt,{maxLength:300,placeholder:v,title:"Facebook description",value:x,onChange:$})]})]})]})]}),re=d.jsxs("div",{className:"mt-6 flex flex-col gap-3 md:flex-row",children:[d.jsx("div",{className:"pt-1",children:d.jsx(wD,{className:"-mb-1 size-10"})}),d.jsxs("div",{className:"w-full md:mr-[52px]",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("span",{className:"mr-1 font-semibold text-grey-900 dark:text-grey-300",children:m}),d.jsx("span",{className:"text-grey-700",children:" 2h"})]}),d.jsx("div",{className:"mb-2 h-3 w-full rounded bg-grey-200 dark:bg-grey-900"}),d.jsx("div",{className:"mb-4 h-3 w-3/5 rounded bg-grey-200 dark:bg-grey-900"}),d.jsxs(Ye,{className:"overflow-hidden rounded-md border border-grey-300 dark:border-grey-900",children:[d.jsx(Uh,{fileUploadClassName:"flex cursor-pointer items-center justify-center rounded rounded-b-none border border-grey-100 border-b-0 bg-grey-75 p-3 text-sm font-semibold text-grey-800 hover:text-black dark:border-grey-900",height:"300px",id:"twitter-image",imageURL:A,pintura:{isEnabled:h.isEnabled,openEditor:async()=>h.openEditor({image:A||"",handleSave:async Q=>{const ce=md(await f({file:Q}));c("twitter_image",ce)}})},onDelete:ve,onUpload:de,children:"Upload X image"}),d.jsxs("div",{className:"mt-6 flex flex-col gap-x-6 gap-y-7 px-4 pb-7",children:[d.jsx(tt,{maxLength:300,placeholder:m,title:"X title",value:S,onChange:oe}),d.jsx(tt,{maxLength:300,placeholder:v,title:"X description",value:k,onChange:ee})]})]})]})]}),ue=[{id:"metadata",title:"Search",contents:K},{id:"twitter",title:"X card",contents:re},{id:"facebook",title:"Facebook card",contents:fe}];return d.jsx(Se,{description:"Extra content for search engines and social accounts",isEditing:s,keywords:n,navid:"metadata",saveState:t,testId:"seometa",title:"Meta data",hideEditButton:!0,onCancel:o,onEditingChange:l,onSave:a,children:d.jsx(Kn,{selectedTab:C,tabs:ue,testId:"seo-tabview",onTabChange:E})})},U_=Ce(V_,"SEO meta");var Ja={exports:{}},Xa={exports:{}},Qa={exports:{}},$g;function U(){return $g||($g=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(i)}function r(i){var s=typeof i=="string"||i instanceof String;if(!s){var a=t(i);throw i===null?a="null":a==="object"&&(a=i.constructor.name),new TypeError("Expected a string but received a ".concat(a))}}n.exports=e.default,n.exports.default=e.default})(Qa,Qa.exports)),Qa.exports}var Fg;function Oh(){return Fg||(Fg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s=Date.parse(s),isNaN(s)?null:new Date(s)}n.exports=e.default,n.exports.default=e.default})(Xa,Xa.exports)),Xa.exports}var eo={exports:{}},li={},Xe={},Hg;function wa(){if(Hg)return Xe;Hg=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.farsiLocales=Xe.englishLocales=Xe.dotDecimal=Xe.decimal=Xe.commaDecimal=Xe.bengaliLocales=Xe.arabicLocales=Xe.alphanumeric=Xe.alpha=void 0;for(var n=Xe.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,eo:/^[ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},e=Xe.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,eo:/^[0-9ABCD-GHIJK-PRSTUVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},t=Xe.decimal={"en-US":".",ar:""},r=Xe.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],i,s=0;s<r.length;s++)i="en-".concat(r[s]),n[i]=n["en-US"],e[i]=e["en-US"],t[i]=t["en-US"];for(var a=Xe.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],o,l=0;l<a.length;l++)o="ar-".concat(a[l]),n[o]=n.ar,e[o]=e.ar,t[o]=t.ar;for(var c=Xe.farsiLocales=["IR","AF"],u,f=0;f<c.length;f++)u="fa-".concat(c[f]),e[u]=e.fa,t[u]=t.ar;for(var h=Xe.bengaliLocales=["BD","IN"],p,g=0;g<h.length;g++)p="bn-".concat(h[g]),n[p]=n.bn,e[p]=e.bn,t[p]=t["en-US"];for(var m=Xe.dotDecimal=["ar-EG","ar-LB","ar-LY"],v=Xe.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],b=0;b<m.length;b++)t[m[b]]=t["en-US"];for(var x=0;x<v.length;x++)t[v[x]]=",";return n["fr-CA"]=n["fr-FR"],e["fr-CA"]=e["fr-FR"],n["pt-BR"]=n["pt-PT"],e["pt-BR"]=e["pt-PT"],t["pt-BR"]=t["pt-PT"],n["pl-Pl"]=n["pl-PL"],e["pl-Pl"]=e["pl-PL"],t["pl-Pl"]=t["pl-PL"],n["fa-AF"]=n.fa,Xe}var Vg;function Xw(){if(Vg)return li;Vg=1,Object.defineProperty(li,"__esModule",{value:!0}),li.default=r,li.locales=void 0;var n=t(U()),e=wa();function t(i){return i&&i.__esModule?i:{default:i}}function r(i,s){(0,n.default)(i),s=s||{};var a=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(s.locale?e.decimal[s.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(i===""||i==="."||i===","||i==="-"||i==="+")return!1;var o=parseFloat(i.replace(",","."));return a.test(i)&&(!s.hasOwnProperty("min")||o>=s.min)&&(!s.hasOwnProperty("max")||o<=s.max)&&(!s.hasOwnProperty("lt")||o<s.lt)&&(!s.hasOwnProperty("gt")||o>s.gt)}return li.locales=Object.keys(e.decimal),li}var Ug;function Qw(){return Ug||(Ug=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(Xw());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s)?parseFloat(s):NaN}n.exports=e.default,n.exports.default=e.default})(eo,eo.exports)),eo.exports}var to={exports:{}},zg;function z_(){return zg||(zg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),parseInt(s,a||10)}n.exports=e.default,n.exports.default=e.default})(to,to.exports)),to.exports}var no={exports:{}},Wg;function W_(){return Wg||(Wg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),a?s==="1"||/^true$/i.test(s):s!=="0"&&!/^false$/i.test(s)&&s!==""}n.exports=e.default,n.exports.default=e.default})(no,no.exports)),no.exports}var ro={exports:{}},qg;function q_(){return qg||(qg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s===a}n.exports=e.default,n.exports.default=e.default})(ro,ro.exports)),ro.exports}var io={exports:{}},so={exports:{}},Gg;function eS(){return Gg||(Gg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(i)}function r(i){return t(i)==="object"&&i!==null?typeof i.toString=="function"?i=i.toString():i="[object Object]":(i===null||typeof i>"u"||isNaN(i)&&!i.length)&&(i=""),String(i)}n.exports=e.default,n.exports.default=e.default})(so,so.exports)),so.exports}var ao={exports:{}},Kg;function Ht(){return Kg||(Kg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;for(var s in i)typeof r[s]>"u"&&(r[s]=i[s]);return r}n.exports=e.default,n.exports.default=e.default})(ao,ao.exports)),ao.exports}var Zg;function G_(){return Zg||(Zg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(U()),r=s(eS()),i=s(Ht());function s(l){return l&&l.__esModule?l:{default:l}}var a={ignoreCase:!1,minOccurrences:1};function o(l,c,u){return(0,t.default)(l),u=(0,i.default)(u,a),u.ignoreCase?l.toLowerCase().split((0,r.default)(c).toLowerCase()).length>u.minOccurrences:l.split((0,r.default)(c)).length>u.minOccurrences}n.exports=e.default,n.exports.default=e.default})(io,io.exports)),io.exports}var oo={exports:{}},Yg;function K_(){return Yg||(Yg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a,o){return(0,t.default)(s),Object.prototype.toString.call(a)!=="[object RegExp]"&&(a=new RegExp(a,o)),!!s.match(a)}n.exports=e.default,n.exports.default=e.default})(oo,oo.exports)),oo.exports}var lo={exports:{}},co={exports:{}},Jg;function tS(){return Jg||(Jg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,t.default)(a);var l,c;i(o)==="object"?(l=o.min||0,c=o.max):(l=arguments[1],c=arguments[2]);var u=encodeURI(a).split(/%..|./).length-1;return u>=l&&(typeof c>"u"||u<=c)}n.exports=e.default,n.exports.default=e.default})(co,co.exports)),co.exports}var uo={exports:{}},Xg;function Th(){return Xg||(Xg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=i(Ht());function i(o){return o&&o.__esModule?o:{default:o}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(o,l){(0,t.default)(o),l=(0,r.default)(l,s),l.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),l.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var c=o.split("."),u=c[c.length-1];return l.require_tld&&(c.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(u)||/\s/.test(u))||!l.allow_numeric_tld&&/^\d+$/.test(u)?!1:c.every(function(f){return!(f.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!l.allow_underscores&&/_/.test(f))})}n.exports=e.default,n.exports.default=e.default})(uo,uo.exports)),uo.exports}var fo={exports:{}},Qg;function xu(){return Qg||(Qg=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=r(U());function r(u){return u&&u.__esModule?u:{default:u}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(i,"[.]){3}").concat(i),a=new RegExp("^".concat(s,"$")),o="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(o,":){7}(?:").concat(o,"|:)|")+"(?:".concat(o,":){6}(?:").concat(s,"|:").concat(o,"|:)|")+"(?:".concat(o,":){5}(?::").concat(s,"|(:").concat(o,"){1,2}|:)|")+"(?:".concat(o,":){4}(?:(:").concat(o,"){0,1}:").concat(s,"|(:").concat(o,"){1,3}|:)|")+"(?:".concat(o,":){3}(?:(:").concat(o,"){0,2}:").concat(s,"|(:").concat(o,"){1,4}|:)|")+"(?:".concat(o,":){2}(?:(:").concat(o,"){0,3}:").concat(s,"|(:").concat(o,"){1,5}|:)|")+"(?:".concat(o,":){1}(?:(:").concat(o,"){0,4}:").concat(s,"|(:").concat(o,"){1,6}|:)|")+"(?::((?::".concat(o,"){0,5}:").concat(s,"|(?::").concat(o,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function c(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,t.default)(u),f=String(f),f?f==="4"?a.test(u):f==="6"?l.test(u):!1:c(u,4)||c(u,6)}n.exports=e.default,n.exports.default=e.default})(fo,fo.exports)),fo.exports}var e0;function nS(){return e0||(e0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=o(U()),r=o(tS()),i=o(Th()),s=o(xu()),a=o(Ht());function o(x){return x&&x.__esModule?x:{default:x}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,m=254;function v(x){var w=x.replace(/^"(.+)"$/,"$1");if(!w.trim())return!1;var S=/[\.";<>]/.test(w);if(S){if(w===x)return!1;var k=w.split('"').length===w.split('\\"').length;if(!k)return!1}return!0}function b(x,w){if((0,t.default)(x),w=(0,a.default)(w,l),w.require_display_name||w.allow_display_name){var S=x.match(c);if(S){var k=S[1];if(x=x.replace(k,"").replace(/(^<|>$)/g,""),k.endsWith(" ")&&(k=k.slice(0,-1)),!v(k))return!1}else if(w.require_display_name)return!1}if(!w.ignore_max_length&&x.length>m)return!1;var A=x.split("@"),C=A.pop(),E=C.toLowerCase();if(w.host_blacklist.includes(E)||w.host_whitelist.length>0&&!w.host_whitelist.includes(E))return!1;var M=A.join("@");if(w.domain_specific_validation&&(E==="gmail.com"||E==="googlemail.com")){M=M.toLowerCase();var R=M.split("+")[0];if(!(0,r.default)(R.replace(/\./g,""),{min:6,max:30}))return!1;for(var T=R.split("."),N=0;N<T.length;N++)if(!f.test(T[N]))return!1}if(w.ignore_max_length===!1&&(!(0,r.default)(M,{max:64})||!(0,r.default)(C,{max:254})))return!1;if(!(0,i.default)(C,{require_tld:w.require_tld,ignore_max_length:w.ignore_max_length,allow_underscores:w.allow_underscores})){if(!w.allow_ip_domain)return!1;if(!(0,s.default)(C)){if(!C.startsWith("[")||!C.endsWith("]"))return!1;var P=C.slice(1,-1);if(P.length===0||!(0,s.default)(P))return!1}}if(M[0]==='"')return M=M.slice(1,M.length-1),w.allow_utf8_local_part?g.test(M):h.test(M);for(var L=w.allow_utf8_local_part?p:u,$=M.split("."),q=0;q<$.length;q++)if(!L.test($[q]))return!1;return!(w.blacklisted_chars&&M.search(new RegExp("[".concat(w.blacklisted_chars,"]+"),"g"))!==-1)}n.exports=e.default,n.exports.default=e.default})(lo,lo.exports)),lo.exports}var ho={exports:{}},t0;function Z_(){return t0||(t0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=a(U()),r=a(Th()),i=a(xu()),s=a(Ht());function a(x){return x&&x.__esModule?x:{default:x}}function o(x,w){return h(x)||f(x,w)||c(x,w)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(x,w){if(x){if(typeof x=="string")return u(x,w);var S=Object.prototype.toString.call(x).slice(8,-1);if(S==="Object"&&x.constructor&&(S=x.constructor.name),S==="Map"||S==="Set")return Array.from(x);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return u(x,w)}}function u(x,w){(w==null||w>x.length)&&(w=x.length);for(var S=0,k=new Array(w);S<w;S++)k[S]=x[S];return k}function f(x,w){var S=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(S!=null){var k,A,C,E,M=[],R=!0,T=!1;try{if(C=(S=S.call(x)).next,w!==0)for(;!(R=(k=C.call(S)).done)&&(M.push(k.value),M.length!==w);R=!0);}catch(N){T=!0,A=N}finally{try{if(!R&&S.return!=null&&(E=S.return(),Object(E)!==E))return}finally{if(T)throw A}}return M}}function h(x){if(Array.isArray(x))return x}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},g=/^\[([^\]]+)\](?::([0-9]+))?$/;function m(x){return Object.prototype.toString.call(x)==="[object RegExp]"}function v(x,w){for(var S=0;S<w.length;S++){var k=w[S];if(x===k||m(k)&&k.test(x))return!0}return!1}function b(x,w){if((0,t.default)(x),!x||/[\s<>]/.test(x)||x.indexOf("mailto:")===0||(w=(0,s.default)(w,p),w.validate_length&&x.length>=2083)||!w.allow_fragments&&x.includes("#")||!w.allow_query_components&&(x.includes("?")||x.includes("&")))return!1;var S,k,A,C,E,M,R,T;if(R=x.split("#"),x=R.shift(),R=x.split("?"),x=R.shift(),R=x.split("://"),R.length>1){if(S=R.shift().toLowerCase(),w.require_valid_protocol&&w.protocols.indexOf(S)===-1)return!1}else{if(w.require_protocol)return!1;if(x.slice(0,2)==="//"){if(!w.allow_protocol_relative_urls)return!1;R[0]=x.slice(2)}}if(x=R.join("://"),x==="")return!1;if(R=x.split("/"),x=R.shift(),x===""&&!w.require_host)return!0;if(R=x.split("@"),R.length>1){if(w.disallow_auth||R[0]===""||(k=R.shift(),k.indexOf(":")>=0&&k.split(":").length>2))return!1;var N=k.split(":"),P=o(N,2),L=P[0],$=P[1];if(L===""&&$==="")return!1}C=R.join("@"),M=null,T=null;var q=C.match(g);if(q?(A="",T=q[1],M=q[2]||null):(R=C.split(":"),A=R.shift(),R.length&&(M=R.join(":"))),M!==null&&M.length>0){if(E=parseInt(M,10),!/^[0-9]+$/.test(M)||E<=0||E>65535)return!1}else if(w.require_port)return!1;return w.host_whitelist?v(A,w.host_whitelist):A===""&&!w.require_host?!0:!(!(0,i.default)(A)&&!(0,r.default)(A,w)&&(!T||!(0,i.default)(T,6))||(A=A||T,w.host_blacklist&&v(A,w.host_blacklist)))}n.exports=e.default,n.exports.default=e.default})(ho,ho.exports)),ho.exports}var po={exports:{}},n0;function Y_(){return n0||(n0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=r(U());function r(f){return f&&f.__esModule?f:{default:f}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,s=/^([0-9a-fA-F]){12}$/,a=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,l=/^([0-9a-fA-F]){16}$/,c=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function u(f,h){return(0,t.default)(f),h!=null&&h.eui&&(h.eui=String(h.eui)),h!=null&&h.no_colons||h!=null&&h.no_separators?h.eui==="48"?s.test(f):h.eui==="64"?l.test(f):s.test(f)||l.test(f):h?.eui==="48"?i.test(f)||a.test(f):h?.eui==="64"?o.test(f)||c.test(f):u(f,{eui:"48"})||u(f,{eui:"64"})}n.exports=e.default,n.exports.default=e.default})(po,po.exports)),po.exports}var mo={exports:{}},r0;function J_(){return r0||(r0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=i(U()),r=i(xu());function i(c){return c&&c.__esModule?c:{default:c}}var s=/^\d{1,3}$/,a=32,o=128;function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,t.default)(c);var f=c.split("/");if(f.length!==2||!s.test(f[1])||f[1].length>1&&f[1].startsWith("0"))return!1;var h=(0,r.default)(f[0],u);if(!h)return!1;var p=null;switch(String(u)){case"4":p=a;break;case"6":p=o;break;default:p=(0,r.default)(f[0],"6")?o:a}return f[1]<=p&&f[1]>=0}n.exports=e.default,n.exports.default=e.default})(mo,mo.exports)),mo.exports}var go={exports:{}},i0;function rS(){return i0||(i0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var t=r(Ht());function r(m){return m&&m.__esModule?m:{default:m}}function i(m,v){return o(m)||a(m,v)||c(m,v)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(m,v){var b=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(b!=null){var x,w,S,k,A=[],C=!0,E=!1;try{if(S=(b=b.call(m)).next,v!==0)for(;!(C=(x=S.call(b)).done)&&(A.push(x.value),A.length!==v);C=!0);}catch(M){E=!0,w=M}finally{try{if(!C&&b.return!=null&&(k=b.return(),Object(k)!==k))return}finally{if(E)throw w}}return A}}function o(m){if(Array.isArray(m))return m}function l(m,v){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=c(m))||v){b&&(m=b);var x=0,w=function(){};return{s:w,n:function(){return x>=m.length?{done:!0}:{done:!1,value:m[x++]}},e:function(E){throw E},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,k=!1,A;return{s:function(){b=b.call(m)},n:function(){var E=b.next();return S=E.done,E},e:function(E){k=!0,A=E},f:function(){try{!S&&b.return!=null&&b.return()}finally{if(k)throw A}}}}function c(m,v){if(m){if(typeof m=="string")return u(m,v);var b=Object.prototype.toString.call(m).slice(8,-1);if(b==="Object"&&m.constructor&&(b=m.constructor.name),b==="Map"||b==="Set")return Array.from(m);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return u(m,v)}}function u(m,v){(v==null||v>m.length)&&(v=m.length);for(var b=0,x=new Array(v);b<v;b++)x[b]=m[b];return x}var f={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function h(m){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(m)}function p(m,v){for(var b=[],x=Math.min(m.length,v.length),w=0;w<x;w++)b.push([m[w],v[w]]);return b}function g(m,v){if(typeof v=="string"?v=(0,t.default)({format:v},f):v=(0,t.default)(v,f),typeof m=="string"&&h(v.format)){var b=v.delimiters.find(function($){return v.format.indexOf($)!==-1}),x=v.strictMode?b:v.delimiters.find(function($){return m.indexOf($)!==-1}),w=p(m.split(x),v.format.toLowerCase().split(b)),S={},k=l(w),A;try{for(k.s();!(A=k.n()).done;){var C=i(A.value,2),E=C[0],M=C[1];if(E.length!==M.length)return!1;S[M.charAt(0)]=E}}catch($){k.e($)}finally{k.f()}var R=S.y;if(R.startsWith("-"))return!1;if(S.y.length===2){var T=parseInt(S.y,10);if(isNaN(T))return!1;var N=new Date().getFullYear()%100;T<N?R="20".concat(S.y):R="19".concat(S.y)}var P=S.m;S.m.length===1&&(P="0".concat(S.m));var L=S.d;return S.d.length===1&&(L="0".concat(S.d)),new Date("".concat(R,"-").concat(P,"-").concat(L,"T00:00:00.000Z")).getUTCDate()===+S.d}return v.strictMode?!1:Object.prototype.toString.call(m)==="[object Date]"&&isFinite(m)}n.exports=e.default,n.exports.default=e.default})(go,go.exports)),go.exports}var vo={exports:{}},s0;function X_(){return s0||(s0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(Ht());function r(o){return o&&o.__esModule?o:{default:o}}var i={hourFormat:"hour24",mode:"default"},s={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function a(o,l){return l=(0,t.default)(l,i),typeof o!="string"?!1:s[l.hourFormat][l.mode].test(o)}n.exports=e.default,n.exports.default=e.default})(vo,vo.exports)),vo.exports}var bo={exports:{}},a0;function Q_(){return a0||(a0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(U());function r(l){return l&&l.__esModule?l:{default:l}}var i={loose:!1},s=["true","false","1","0"],a=[].concat(s,["yes","no"]);function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;return(0,t.default)(l),c.loose?a.includes(l.toLowerCase()):s.includes(l)}n.exports=e.default,n.exports.default=e.default})(bo,bo.exports)),bo.exports}var xo={exports:{}},o0;function e5(){return o0||(o0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=x;var t=r(U());function r(w){return w&&w.__esModule?w:{default:w}}var i="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",s="(([a-zA-Z]{2,3}(-".concat(i,")?)|([a-zA-Z]{5,8}))"),a="([A-Za-z]{4})",o="([A-Za-z]{2}|\\d{3})",l="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",c="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",u="(".concat(c,"(-[A-Za-z0-9]{2,8})+)"),f="(x(-[A-Za-z0-9]{1,8})+)",h="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",p="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",g="(".concat(h,"|").concat(p,")"),m="(-|_)",v="".concat(s,"(").concat(m).concat(a,")?(").concat(m).concat(o,")?(").concat(m).concat(l,")*(").concat(m).concat(u,")*(").concat(m).concat(f,")?"),b=new RegExp("(^".concat(f,"$)|(^").concat(g,"$)|(^").concat(v,"$)"));function x(w){return(0,t.default)(w),b.test(w)}n.exports=e.default,n.exports.default=e.default})(xo,xo.exports)),xo.exports}var yo={exports:{}},l0;function t5(){return l0||(l0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function s(a){if((0,t.default)(a),!i.test(a))return!1;for(var o=0,l=0;l<a.length;l++)l%3===0?o+=a[l]*3:l%3===1?o+=a[l]*7:o+=a[l]*1;return o%10===0}n.exports=e.default,n.exports.default=e.default})(yo,yo.exports)),yo.exports}var ci={},c0;function n5(){if(c0)return ci;c0=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.default=r,ci.locales=void 0;var n=t(U()),e=wa();function t(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,n.default)(i);var o=i,l=a.ignore;if(l)if(l instanceof RegExp)o=o.replace(l,"");else if(typeof l=="string")o=o.replace(new RegExp("[".concat(l.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alpha)return e.alpha[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return ci.locales=Object.keys(e.alpha),ci}var ui={},u0;function r5(){if(u0)return ui;u0=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=r,ui.locales=void 0;var n=t(U()),e=wa();function t(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,n.default)(i);var o=i,l=a.ignore;if(l)if(l instanceof RegExp)o=o.replace(l,"");else if(typeof l=="string")o=o.replace(new RegExp("[".concat(l.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(s in e.alphanumeric)return e.alphanumeric[s].test(o);throw new Error("Invalid locale '".concat(s,"'"))}return ui.locales=Object.keys(e.alphanumeric),ui}var wo={exports:{}},d0;function i5(){return d0||(d0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=wa();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[0-9]+$/;function a(o,l){return(0,t.default)(o),l&&l.no_symbols?s.test(o):new RegExp("^[+-]?([0-9]*[".concat((l||{}).locale?r.decimal[l.locale]:".","])?[0-9]+$")).test(o)}n.exports=e.default,n.exports.default=e.default})(wo,wo.exports)),wo.exports}var So={exports:{}},f0;function s5(){return f0||(f0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};function s(a,o){(0,t.default)(a);var l=a.replace(/\s/g,"").toUpperCase();return o.toUpperCase()in i&&i[o].test(l)}n.exports=e.default,n.exports.default=e.default})(So,So.exports)),So.exports}var ko={exports:{}},Co={exports:{}},h0;function Nh(){return h0||(h0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(U());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,s=/^[-+]?[0-9]+$/;function a(o,l){(0,t.default)(o),l=l||{};var c=l.allow_leading_zeroes===!1?i:s,u=!l.hasOwnProperty("min")||o>=l.min,f=!l.hasOwnProperty("max")||o<=l.max,h=!l.hasOwnProperty("lt")||o<l.lt,p=!l.hasOwnProperty("gt")||o>l.gt;return c.test(o)&&u&&f&&h&&p}n.exports=e.default,n.exports.default=e.default})(Co,Co.exports)),Co.exports}var p0;function a5(){return p0||(p0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(Nh());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s,{allow_leading_zeroes:!1,min:0,max:65535})}n.exports=e.default,n.exports.default=e.default})(ko,ko.exports)),ko.exports}var Ao={exports:{}},m0;function o5(){return m0||(m0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s===s.toLowerCase()}n.exports=e.default,n.exports.default=e.default})(Ao,Ao.exports)),Ao.exports}var Mo={exports:{}},g0;function l5(){return g0||(g0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s===s.toUpperCase()}n.exports=e.default,n.exports.default=e.default})(Mo,Mo.exports)),Mo.exports}var Io={exports:{}},v0;function c5(){return v0||(v0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(U());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^[0-9]{15}$/,s=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function a(o,l){(0,t.default)(o),l=l||{};var c=i;if(l.allow_hyphens&&(c=s),!c.test(o))return!1;o=o.replace(/-/g,"");for(var u=0,f=2,h=14,p=0;p<h;p++){var g=o.substring(h-p-1,h-p),m=parseInt(g,10)*f;m>=10?u+=m%10+1:u+=m,f===1?f+=1:f-=1}var v=(10-u%10)%10;return v===parseInt(o.substring(14,15),10)}n.exports=e.default,n.exports.default=e.default})(Io,Io.exports)),Io.exports}var Eo={exports:{}},b0;function u5(){return b0||(b0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[\x00-\x7F]+$/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(Eo,Eo.exports)),Eo.exports}var di={},x0;function iS(){if(x0)return di;x0=1,Object.defineProperty(di,"__esModule",{value:!0}),di.default=r,di.fullWidth=void 0;var n=e(U());function e(i){return i&&i.__esModule?i:{default:i}}var t=di.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(i){return(0,n.default)(i),t.test(i)}return di}var fi={},y0;function sS(){if(y0)return fi;y0=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.default=r,fi.halfWidth=void 0;var n=e(U());function e(i){return i&&i.__esModule?i:{default:i}}var t=fi.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function r(i){return(0,n.default)(i),t.test(i)}return fi}var Do={exports:{}},w0;function d5(){return w0||(w0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(U()),r=iS(),i=sS();function s(o){return o&&o.__esModule?o:{default:o}}function a(o){return(0,t.default)(o),r.fullWidth.test(o)&&i.halfWidth.test(o)}n.exports=e.default,n.exports.default=e.default})(Do,Do.exports)),Do.exports}var Ro={exports:{}},S0;function f5(){return S0||(S0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/[^\x00-\x7F]/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(Ro,Ro.exports)),Ro.exports}var Oo={exports:{}},To={exports:{}},k0;function h5(){return k0||(k0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,i){var s=r.join("");return new RegExp(s,i)}n.exports=e.default,n.exports.default=e.default})(To,To.exports)),To.exports}var C0;function p5(){return C0||(C0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=i(h5());function i(o){return o&&o.__esModule?o:{default:o}}var s=(0,r.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function a(o){return(0,t.default)(o),s.test(o)}n.exports=e.default,n.exports.default=e.default})(Oo,Oo.exports)),Oo.exports}var No={exports:{}},A0;function m5(){return A0||(A0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(No,No.exports)),No.exports}var Po={exports:{}},Lo={exports:{}},M0;function g5(){return M0||(M0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(i,s){return i.some(function(a){return s===a})};e.default=t,n.exports=e.default,n.exports.default=e.default})(Lo,Lo.exports)),Lo.exports}var I0;function v5(){return I0||(I0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=a(Ht()),r=a(U()),i=a(g5()),s=wa();function a(f){return f&&f.__esModule?f:{default:f}}function o(f){var h=new RegExp("^[-+]?([0-9]+)?(\\".concat(s.decimal[f.locale],"[0-9]{").concat(f.decimal_digits,"})").concat(f.force_decimal?"":"?","$"));return h}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];function u(f,h){if((0,r.default)(f),h=(0,t.default)(h,l),h.locale in s.decimal)return!(0,i.default)(c,f.replace(/ /g,""))&&o(h).test(f);throw new Error("Invalid locale '".concat(h.locale,"'"))}n.exports=e.default,n.exports.default=e.default})(Po,Po.exports)),Po.exports}var _o={exports:{}},E0;function aS(){return E0||(E0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x|0h)?[0-9A-F]+$/i;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(_o,_o.exports)),_o.exports}var jo={exports:{}},D0;function b5(){return D0||(D0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0o)?[0-7]+$/i;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(jo,jo.exports)),jo.exports}var Bo={exports:{}},R0;function x5(){return R0||(R0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(U()),r=i(Qw());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,t.default)(a),(0,r.default)(a)%parseInt(o,10)===0}n.exports=e.default,n.exports.default=e.default})(Bo,Bo.exports)),Bo.exports}var $o={exports:{}},O0;function y5(){return O0||(O0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})($o,$o.exports)),$o.exports}var Fo={exports:{}},T0;function w5(){return T0||(T0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=r(U());function r(c){return c&&c.__esModule?c:{default:c}}var i=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,s=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,a=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,o=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,t.default)(c),u?i.test(c)||s.test(c)||a.test(c)||o.test(c):i.test(c)||s.test(c)}n.exports=e.default,n.exports.default=e.default})(Fo,Fo.exports)),Fo.exports}var Ho={exports:{}},N0;function S5(){return N0||(N0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(U());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,s=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function a(o){(0,t.default)(o);var l=o.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return l.indexOf(",")!==-1?i.test(l):s.test(l)}n.exports=e.default,n.exports.default=e.default})(Ho,Ho.exports)),Ho.exports}var Vo={exports:{}},P0;function k5(){return P0||(P0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(Vo,Vo.exports)),Vo.exports}var hi={},L0;function C5(){if(L0)return hi;L0=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.default=a,hi.locales=void 0;var n=e(U());function e(o){return o&&o.__esModule?o:{default:o}}var t={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function r(o){var l=o.filter(function(c){return!(c in t)});return!(l.length>0)}function i(o,l){var c=o.replace(/[\s\-]+/gi,"").toUpperCase(),u=c.slice(0,2).toUpperCase(),f=u in t;if(l.whitelist){if(!r(l.whitelist))return!1;var h=l.whitelist.includes(u);if(!h)return!1}if(l.blacklist){var p=l.blacklist.includes(u);if(p)return!1}return f&&t[u].test(c)}function s(o){var l=o.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),c=l.slice(4)+l.slice(0,4),u=c.replace(/[A-Z]/g,function(h){return h.charCodeAt(0)-55}),f=u.match(/\d{1,7}/g).reduce(function(h,p){return Number(h+p)%97},"");return f===1}function a(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,n.default)(o),i(o,l)&&s(o)}return hi.locales=Object.keys(t),hi}var Uo={exports:{}},pi={},_0;function oS(){if(_0)return pi;_0=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.CountryCodes=void 0,pi.default=r;var n=e(U());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function r(i){return(0,n.default)(i),t.has(i.toUpperCase())}return pi.CountryCodes=t,pi}var j0;function A5(){return j0||(j0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=oS();function i(o){return o&&o.__esModule?o:{default:o}}var s=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function a(o){(0,t.default)(o);var l=o.slice(4,6).toUpperCase();return!r.CountryCodes.has(l)&&l!=="XK"?!1:s.test(o)}n.exports=e.default,n.exports.default=e.default})(Uo,Uo.exports)),Uo.exports}var zo={exports:{}},B0;function M5(){return B0||(B0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[a-f0-9]{32}$/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(zo,zo.exports)),zo.exports}var Wo={exports:{}},$0;function I5(){return $0||($0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function s(a,o){(0,t.default)(a);var l=new RegExp("^[a-fA-F0-9]{".concat(i[o],"}$"));return l.test(a)}n.exports=e.default,n.exports.default=e.default})(Wo,Wo.exports)),Wo.exports}var qo={exports:{}},Go={exports:{}},F0;function lS(){return F0||(F0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=i(U()),r=i(Ht());function i(c){return c&&c.__esModule?c:{default:c}}var s=/[^A-Z0-9+\/=]/i,a=/^[A-Z0-9_\-]*$/i,o={urlSafe:!1};function l(c,u){(0,t.default)(c),u=(0,r.default)(u,o);var f=c.length;if(u.urlSafe)return a.test(c);if(f%4!==0||s.test(c))return!1;var h=c.indexOf("=");return h===-1||h===f-1||h===f-2&&c[f-1]==="="}n.exports=e.default,n.exports.default=e.default})(Go,Go.exports)),Go.exports}var H0;function E5(){return H0||(H0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(U()),r=i(lS());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){(0,t.default)(a);var o=a.split("."),l=o.length;return l!==3?!1:o.reduce(function(c,u){return c&&(0,r.default)(u,{urlSafe:!0})},!0)}n.exports=e.default,n.exports.default=e.default})(qo,qo.exports)),qo.exports}var Ko={exports:{}},V0;function D5(){return V0||(V0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(U()),r=i(Ht());function i(l){return l&&l.__esModule?l:{default:l}}function s(l){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},s(l)}var a={allow_primitives:!1};function o(l,c){(0,t.default)(l);try{c=(0,r.default)(c,a);var u=[];c.allow_primitives&&(u=[null,!1,!0]);var f=JSON.parse(l);return u.includes(f)||!!f&&s(f)==="object"}catch{}return!1}n.exports=e.default,n.exports.default=e.default})(Ko,Ko.exports)),Ko.exports}var Zo={exports:{}},U0;function R5(){return U0||(U0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=i(Ht());function i(o){return o&&o.__esModule?o:{default:o}}var s={ignore_whitespace:!1};function a(o,l){return(0,t.default)(o),l=(0,r.default)(l,s),(l.ignore_whitespace?o.trim().length:o.length)===0}n.exports=e.default,n.exports.default=e.default})(Zo,Zo.exports)),Zo.exports}var Yo={exports:{}},z0;function O5(){return z0||(z0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i(a)}function s(a,o){(0,t.default)(a);var l,c;i(o)==="object"?(l=o.min||0,c=o.max):(l=arguments[1]||0,c=arguments[2]);var u=a.match(/(\uFE0F|\uFE0E)/g)||[],f=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],h=a.length-u.length-f.length;return h>=l&&(typeof c>"u"||h<=c)}n.exports=e.default,n.exports.default=e.default})(Yo,Yo.exports)),Yo.exports}var Jo={exports:{}},W0;function T5(){return W0||(W0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function s(a,o){(0,t.default)(a);var l=i[[void 0,null].includes(o)?"all":o];return!!l&&l.test(a)}n.exports=e.default,n.exports.default=e.default})(Jo,Jo.exports)),Jo.exports}var Xo={exports:{}},q0;function N5(){return q0||(q0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(U()),r=i(aS());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){return(0,t.default)(a),(0,r.default)(a)&&a.length===24}n.exports=e.default,n.exports.default=e.default})(Xo,Xo.exports)),Xo.exports}var Qo={exports:{}},G0;function P5(){return G0||(G0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(Oh());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var o=a?.comparisonDate||a||Date().toString(),l=(0,t.default)(o),c=(0,t.default)(s);return!!(c&&l&&c>l)}n.exports=e.default,n.exports.default=e.default})(Qo,Qo.exports)),Qo.exports}var el={exports:{}},K0;function L5(){return K0||(K0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(U()),r=i(Oh());function i(a){return a&&a.__esModule?a:{default:a}}function s(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,t.default)(a);var l=(0,r.default)(o),c=(0,r.default)(a);return!!(c&&l&&c<l)}n.exports=e.default,n.exports.default=e.default})(el,el.exports)),el.exports}var tl={exports:{}},Z0;function _5(){return Z0||(Z0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=i(eS());function i(o){return o&&o.__esModule?o:{default:o}}function s(o){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(o)}function a(o,l){(0,t.default)(o);var c;if(Object.prototype.toString.call(l)==="[object Array]"){var u=[];for(c in l)({}).hasOwnProperty.call(l,c)&&(u[c]=(0,r.default)(l[c]));return u.indexOf(o)>=0}else{if(s(l)==="object")return l.hasOwnProperty(o);if(l&&typeof l.indexOf=="function")return l.indexOf(o)>=0}return!1}n.exports=e.default,n.exports.default=e.default})(tl,tl.exports)),tl.exports}var nl={exports:{}},Y0;function cS(){return Y0||(Y0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){(0,t.default)(s);for(var a=s.replace(/[- ]+/g,""),o=0,l,c,u,f=a.length-1;f>=0;f--)l=a.substring(f,f+1),c=parseInt(l,10),u?(c*=2,c>=10?o+=c%10+1:o+=c):o+=c,u=!u;return!!(o%10===0&&a)}n.exports=e.default,n.exports.default=e.default})(nl,nl.exports)),nl.exports}var rl={exports:{}},J0;function j5(){return J0||(J0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(U()),r=i(cS());function i(l){return l&&l.__esModule?l:{default:l}}var s={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},a=(function(){var l=[];for(var c in s)s.hasOwnProperty(c)&&l.push(s[c]);return l})();function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var u=c.provider,f=l.replace(/[- ]+/g,"");if(u&&u.toLowerCase()in s){if(!s[u.toLowerCase()].test(f))return!1}else{if(u&&!(u.toLowerCase()in s))throw new Error("".concat(u," is not a valid credit card provider."));if(!a.some(function(h){return h.test(f)}))return!1}return(0,r.default)(l)}n.exports=e.default,n.exports.default=e.default})(rl,rl.exports)),rl.exports}var il={exports:{}},X0;function B5(){return X0||(X0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=i(U()),r=i(Nh());function i(o){return o&&o.__esModule?o:{default:o}}var s={PL:function(l){(0,t.default)(l);var c={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(l!=null&&l.length===11&&(0,r.default)(l,{allow_leading_zeroes:!0})){var u=l.split("").slice(0,-1),f=u.reduce(function(g,m,v){return g+Number(m)*c[v+1]},0),h=f%10,p=Number(l.charAt(l.length-1));if(h===0&&p===0||p===10-h)return!0}return!1},ES:function(l){(0,t.default)(l);var c=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,u={X:0,Y:1,Z:2},f=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],h=l.trim().toUpperCase();if(!c.test(h))return!1;var p=h.slice(0,-1).replace(/[X,Y,Z]/g,function(g){return u[g]});return h.endsWith(f[p%23])},FI:function(l){if((0,t.default)(l),l.length!==11||!l.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var c="0123456789ABCDEFHJKLMNPRSTUVWXY",u=parseInt(l.slice(0,6),10)*1e3+parseInt(l.slice(7,10),10),f=u%31,h=c[f];return h===l.slice(10,11)},IN:function(l){var c=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,u=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],f=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],h=l.trim();if(!c.test(h))return!1;var p=0,g=h.replace(/\s/g,"").split("").map(Number).reverse();return g.forEach(function(m,v){p=u[p][f[v%8][m]]}),p===0},IR:function(l){if(!l.match(/^\d{10}$/)||(l="0000".concat(l).slice(l.length-6),parseInt(l.slice(3,9),10)===0))return!1;for(var c=parseInt(l.slice(9,10),10),u=0,f=0;f<9;f++)u+=parseInt(l.slice(f,f+1),10)*(10-f);return u%=11,u<2&&c===u||u>=2&&c===11-u},IT:function(l){return l.length!==9||l==="CA00000AA"?!1:l.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(l){var c=l.trim();if(isNaN(Number(c))||c.length!==11||c==="00000000000")return!1;var u=c.split("").map(Number),f=(11-(3*u[0]+7*u[1]+6*u[2]+1*u[3]+8*u[4]+9*u[5]+4*u[6]+5*u[7]+2*u[8])%11)%11,h=(11-(5*u[0]+4*u[1]+3*u[2]+2*u[3]+7*u[4]+6*u[5]+5*u[6]+4*u[7]+3*u[8]+2*f)%11)%11;return!(f!==u[9]||h!==u[10])},TH:function(l){if(!l.match(/^[1-8]\d{12}$/))return!1;for(var c=0,u=0;u<12;u++)c+=parseInt(l[u],10)*(13-u);return l[12]===((11-c%11)%10).toString()},LK:function(l){var c=/^[1-9]\d{8}[vx]$/i,u=/^[1-9]\d{11}$/i;return l.length===10&&c.test(l)?!0:!!(l.length===12&&u.test(l))},"he-IL":function(l){var c=/^\d{9}$/,u=l.trim();if(!c.test(u))return!1;for(var f=u,h=0,p,g=0;g<f.length;g++)p=Number(f[g])*(g%2+1),h+=p>9?p-9:p;return h%10===0},"ar-LY":function(l){var c=/^(1|2)\d{11}$/,u=l.trim();return!!c.test(u)},"ar-TN":function(l){var c=/^\d{8}$/,u=l.trim();return!!c.test(u)},"zh-CN":function(l){var c=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],u=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],f=["1","0","X","9","8","7","6","5","4","3","2"],h=function(S){return c.includes(S)},p=function(S){var k=parseInt(S.substring(0,4),10),A=parseInt(S.substring(4,6),10),C=parseInt(S.substring(6),10),E=new Date(k,A-1,C);return E>new Date?!1:E.getFullYear()===k&&E.getMonth()===A-1&&E.getDate()===C},g=function(S){for(var k=S.substring(0,17),A=0,C=0;C<17;C++)A+=parseInt(k.charAt(C),10)*parseInt(u[C],10);var E=A%11;return f[E]},m=function(S){return g(S)===S.charAt(17).toUpperCase()},v=function(S){var k=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(S);if(!k)return!1;var A=S.substring(0,2);if(k=h(A),!k)return!1;var C="19".concat(S.substring(6,12));return k=p(C),!!k},b=function(S){var k=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(S);if(!k)return!1;var A=S.substring(0,2);if(k=h(A),!k)return!1;var C=S.substring(6,14);return k=p(C),k?m(S):!1},x=function(S){var k=/^\d{15}|(\d{17}(\d|x|X))$/.test(S);return k?S.length===15?v(S):b(S):!1};return x(l)},"zh-HK":function(l){l=l.trim();var c=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,u=/^[0-9]$/;if(l=l.toUpperCase(),!c.test(l))return!1;l=l.replace(/\[|\]|\(|\)/g,""),l.length===8&&(l="3".concat(l));for(var f=0,h=0;h<=7;h++){var p=void 0;u.test(l[h])?p=l[h]:p=(l[h].charCodeAt(0)-55)%11,f+=p*(9-h)}f%=11;var g;return f===0?g="0":f===1?g="A":g=String(11-f),g===l[l.length-1]},"zh-TW":function(l){var c={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},u=l.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(u)?Array.from(u).reduce(function(f,h,p){if(p===0){var g=c[h];return g%10*9+Math.floor(g/10)}return p===9?(10-f%10-Number(h))%10===0:f+Number(h)*(9-p)},0):!1}};function a(o,l){if((0,t.default)(o),l in s)return s[l](o);if(l==="any"){for(var c in s)if(s.hasOwnProperty(c)){var u=s[c];if(u(o))return!0}return!1}throw new Error("Invalid locale '".concat(l,"'"))}n.exports=e.default,n.exports.default=e.default})(il,il.exports)),il.exports}var sl={exports:{}},Q0;function $5(){return Q0||(Q0=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var t=r(U());function r(u){return u&&u.__esModule?u:{default:u}}var i=8,s=14,a=/^(\d{8}|\d{13}|\d{14})$/;function o(u,f){return u===i||u===s?f%2===0?3:1:f%2===0?1:3}function l(u){var f=u.slice(0,-1).split("").map(function(p,g){return Number(p)*o(u.length,g)}).reduce(function(p,g){return p+g},0),h=10-f%10;return h<10?h:0}function c(u){(0,t.default)(u);var f=Number(u.slice(-1));return a.test(u)&&f===l(u)}n.exports=e.default,n.exports.default=e.default})(sl,sl.exports)),sl.exports}var al={exports:{}},ev;function F5(){return ev||(ev=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function s(a){if((0,t.default)(a),!i.test(a))return!1;for(var o=!0,l=0,c=a.length-2;c>=0;c--)if(a[c]>="A"&&a[c]<="Z")for(var u=a[c].charCodeAt(0)-55,f=u%10,h=Math.trunc(u/10),p=0,g=[f,h];p<g.length;p++){var m=g[p];o?m>=5?l+=1+(m-5)*2:l+=m*2:l+=m,o=!o}else{var v=a[c].charCodeAt(0)-48;o?v>=5?l+=1+(v-5)*2:l+=v*2:l+=v,o=!o}var b=Math.trunc((l+9)/10)*10-l;return+a[a.length-1]===b}n.exports=e.default,n.exports.default=e.default})(al,al.exports)),al.exports}var ol={exports:{}},tv;function H5(){return tv||(tv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(U());function r(l){return l&&l.__esModule?l:{default:l}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,a=[1,3];function o(l,c){(0,t.default)(l);var u=String(c?.version||c);if(!(c!=null&&c.version||c))return o(l,{version:10})||o(l,{version:13});var f=l.replace(/[\s-]+/g,""),h=0;if(u==="10"){if(!i.test(f))return!1;for(var p=0;p<u-1;p++)h+=(p+1)*f.charAt(p);if(f.charAt(9)==="X"?h+=100:h+=10*f.charAt(9),h%11===0)return!0}else if(u==="13"){if(!s.test(f))return!1;for(var g=0;g<12;g++)h+=a[g%2]*f.charAt(g);if(f.charAt(12)-(10-h%10)%10===0)return!0}return!1}n.exports=e.default,n.exports.default=e.default})(ol,ol.exports)),ol.exports}var ll={exports:{}},nv;function V5(){return nv||(nv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i="^\\d{4}-?\\d{3}[\\dX]$";function s(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(a);var l=i;if(l=o.require_hyphen?l.replace("?",""):l,l=o.case_sensitive?new RegExp(l):new RegExp(l,"i"),!l.test(a))return!1;for(var c=a.replace("-","").toUpperCase(),u=0,f=0;f<c.length;f++){var h=c[f];u+=(h==="X"?10:+h)*(8-f)}return u%11===0}n.exports=e.default,n.exports.default=e.default})(ll,ll.exports)),ll.exports}var cl={exports:{}},Br={},rv;function uS(){if(rv)return Br;rv=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.iso7064Check=n,Br.luhnCheck=e,Br.reverseMultiplyAndSum=t,Br.verhoeffCheck=r;function n(i){for(var s=10,a=0;a<i.length-1;a++)s=(parseInt(i[a],10)+s)%10===0?20%11:(parseInt(i[a],10)+s)%10*2%11;return s=s===1?0:11-s,s===parseInt(i[10],10)}function e(i){for(var s=0,a=!1,o=i.length-1;o>=0;o--){if(a){var l=parseInt(i[o],10)*2;l>9?s+=l.toString().split("").map(function(c){return parseInt(c,10)}).reduce(function(c,u){return c+u},0):s+=l}else s+=parseInt(i[o],10);a=!a}return s%10===0}function t(i,s){for(var a=0,o=0;o<i.length;o++)a+=i[o]*(s-o);return a}function r(i){for(var s=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],a=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],o=i.split("").reverse().join(""),l=0,c=0;c<o.length;c++)l=s[l][a[c%8][parseInt(o[c],10)]];return l===0}return Br}var iv;function U5(){return iv||(iv=1,(function(n,e){function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},t(I)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=ar;var r=l(U()),i=o(uS()),s=l(rS());function a(I){if(typeof WeakMap!="function")return null;var D=new WeakMap,O=new WeakMap;return(a=function(F){return F?O:D})(I)}function o(I,D){if(I&&I.__esModule)return I;if(I===null||t(I)!="object"&&typeof I!="function")return{default:I};var O=a(D);if(O&&O.has(I))return O.get(I);var H={__proto__:null},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in I)if(z!=="default"&&{}.hasOwnProperty.call(I,z)){var ie=F?Object.getOwnPropertyDescriptor(I,z):null;ie&&(ie.get||ie.set)?Object.defineProperty(H,z,ie):H[z]=I[z]}return H.default=I,O&&O.set(I,H),H}function l(I){return I&&I.__esModule?I:{default:I}}function c(I){return p(I)||h(I)||f(I)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(I,D){if(I){if(typeof I=="string")return g(I,D);var O=Object.prototype.toString.call(I).slice(8,-1);if(O==="Object"&&I.constructor&&(O=I.constructor.name),O==="Map"||O==="Set")return Array.from(I);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return g(I,D)}}function h(I){if(typeof Symbol<"u"&&I[Symbol.iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function p(I){if(Array.isArray(I))return g(I)}function g(I,D){(D==null||D>I.length)&&(D=I.length);for(var O=0,H=new Array(D);O<D;O++)H[O]=I[O];return H}function m(I){var D=I.slice(0,2),O=parseInt(I.slice(2,4),10);O>40?(O-=40,D="20".concat(D)):O>20?(O-=20,D="18".concat(D)):D="19".concat(D),O<10&&(O="0".concat(O));var H="".concat(D,"/").concat(O,"/").concat(I.slice(4,6));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1;for(var F=I.split("").map(function(we){return parseInt(we,10)}),z=[2,4,8,5,10,9,7,3,6],ie=0,me=0;me<z.length;me++)ie+=F[me]*z[me];return ie=ie%11===10?0:ie%11,ie===F[9]}function v(I){var D=I.split(""),O=D.filter(function(F,z){return z%2}).map(function(F){return Number(F)*2}).join("").split(""),H=D.filter(function(F,z){return!(z%2)}).concat(O).map(function(F){return Number(F)}).reduce(function(F,z){return F+z});return H%10===0}function b(I){I=I.replace(/\W/,"");var D=parseInt(I.slice(0,2),10);if(I.length===10)D<54?D="20".concat(D):D="19".concat(D);else{if(I.slice(6)==="000")return!1;if(D<54)D="19".concat(D);else return!1}D.length===3&&(D=[D.slice(0,2),"0",D.slice(2)].join(""));var O=parseInt(I.slice(2,4),10);if(O>50&&(O-=50),O>20){if(parseInt(D,10)<2004)return!1;O-=20}O<10&&(O="0".concat(O));var H="".concat(D,"/").concat(O,"/").concat(I.slice(4,6));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1;if(I.length===10&&parseInt(I,10)%11!==0){var F=parseInt(I.slice(0,9),10)%11;if(parseInt(D,10)<1986&&F===10){if(parseInt(I.slice(9),10)!==0)return!1}else return!1}return!0}function x(I){return i.luhnCheck(I)}function w(I){for(var D=I.split("").map(function(we){return parseInt(we,10)}),O=[],H=0;H<D.length-1;H++){O.push("");for(var F=0;F<D.length-1;F++)D[H]===D[F]&&(O[H]+=F)}if(O=O.filter(function(we){return we.length>1}),O.length!==2&&O.length!==3)return!1;if(O[0].length===3){for(var z=O[0].split("").map(function(we){return parseInt(we,10)}),ie=0,me=0;me<z.length-1;me++)z[me]+1===z[me+1]&&(ie+=1);if(ie===2)return!1}return i.iso7064Check(I)}function S(I){I=I.replace(/\W/,"");var D=parseInt(I.slice(4,6),10),O=I.slice(6,7);switch(O){case"0":case"1":case"2":case"3":D="19".concat(D);break;case"4":case"9":D<37?D="20".concat(D):D="19".concat(D);break;default:if(D<37)D="20".concat(D);else if(D>58)D="18".concat(D);else return!1;break}D.length===3&&(D=[D.slice(0,2),"0",D.slice(2)].join(""));var H="".concat(D,"/").concat(I.slice(2,4),"/").concat(I.slice(0,2));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1;for(var F=I.split("").map(function(we){return parseInt(we,10)}),z=0,ie=4,me=0;me<9;me++)z+=F[me]*ie,ie-=1,ie===1&&(ie=7);return z%=11,z===1?!1:z===0?F[9]===0:F[9]===11-z}function k(I){for(var D=I.slice(0,8).split("").map(function(z){return parseInt(z,10)}),O=0,H=1;H<D.length;H+=2)O+=D[H];for(var F=0;F<D.length;F+=2)D[F]<2?O+=1-D[F]:(O+=2*(D[F]-2)+5,D[F]>4&&(O+=2));return String.fromCharCode(O%26+65)===I.charAt(8)}function A(I){for(var D=I.split("").map(function(F){return parseInt(F,10)}),O=0,H=0;H<8;H++)O+=D[H]*Math.pow(2,8-H);return O%11%10===D[8]}function C(I){var D=i.reverseMultiplyAndSum(I.split("").slice(0,7).map(function(O){return parseInt(O,10)}),8);return I.length===9&&I[8]!=="W"&&(D+=(I[8].charCodeAt(0)-64)*9),D%=23,D===0?I[7].toUpperCase()==="W":I[7].toUpperCase()===String.fromCharCode(64+D)}var E={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function M(){var I=[];for(var D in E)E.hasOwnProperty(D)&&I.push.apply(I,c(E[D]));return I}function R(I){return M().indexOf(I.slice(0,2))!==-1}function T(I){for(var D=0,O=I.split(""),H=parseInt(O.pop(),10),F=0;F<O.length;F++)D+=O[9-F]*(2+F%6);var z=11-D%11;return z===11?z=0:z===10&&(z=9),H===z}function N(I){var D=I.toUpperCase().split("");if(isNaN(parseInt(D[0],10))&&D.length>1){var O=0;switch(D[0]){case"Y":O=1;break;case"Z":O=2;break}D.splice(0,1,O)}else for(;D.length<9;)D.unshift(0);var H=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];D=D.join("");var F=parseInt(D.slice(0,8),10)%23;return D[8]===H[F]}function P(I){var D=I.slice(1,3),O=I.slice(0,1);switch(O){case"1":case"2":D="18".concat(D);break;case"3":case"4":D="19".concat(D);break;default:D="20".concat(D);break}var H="".concat(D,"/").concat(I.slice(3,5),"/").concat(I.slice(5,7));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1;for(var F=I.split("").map(function(Ee){return parseInt(Ee,10)}),z=0,ie=1,me=0;me<10;me++)z+=F[me]*ie,ie+=1,ie===10&&(ie=1);if(z%11===10){z=0,ie=3;for(var we=0;we<10;we++)z+=F[we]*ie,ie+=1,ie===10&&(ie=1);if(z%11===10)return F[10]===0}return z%11===F[10]}function L(I){var D=I.slice(4,6),O=I.slice(6,7);switch(O){case"+":D="18".concat(D);break;case"-":D="19".concat(D);break;default:D="20".concat(D);break}var H="".concat(D,"/").concat(I.slice(2,4),"/").concat(I.slice(0,2));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1;var F=parseInt(I.slice(0,6)+I.slice(7,10),10)%31;if(F<10)return F===parseInt(I.slice(10),10);F-=10;var z=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return z[F]===I.slice(10)}function $(I){if(I.slice(2,4)!=="00"||I.slice(4,6)!=="00"){var D="".concat(I.slice(0,2),"/").concat(I.slice(2,4),"/").concat(I.slice(4,6));if(!(0,s.default)(D,"YY/MM/DD"))return!1}var O=97-parseInt(I.slice(0,9),10)%97,H=parseInt(I.slice(9,11),10);return!(O!==H&&(O=97-parseInt("2".concat(I.slice(0,9)),10)%97,O!==H))}function q(I){I=I.replace(/\s/g,"");var D=parseInt(I.slice(0,10),10)%511,O=parseInt(I.slice(10,13),10);return D===O}function Z(I){var D="".concat(I.slice(0,4),"/").concat(I.slice(4,6),"/").concat(I.slice(6,8));return!(0,s.default)(D,"YYYY/MM/DD")||!i.luhnCheck(I.slice(0,12))?!1:i.verhoeffCheck("".concat(I.slice(0,11)).concat(I[12]))}function oe(I){return i.iso7064Check(I)}function ee(I){for(var D=I.split("").map(function(F){return parseInt(F,10)}),O=8,H=1;H<9;H++)O+=D[H]*(H+1);return O%11===D[9]}function de(I){for(var D=!1,O=!1,H=0;H<3;H++)if(!D&&/[AEIOU]/.test(I[H]))D=!0;else if(!O&&D&&I[H]==="X")O=!0;else if(H>0&&(D&&!O&&!/[AEIOU]/.test(I[H])||O&&!/X/.test(I[H])))return!1;return!0}function ve(I){var D=I.toUpperCase().split("");if(!de(D.slice(0,3))||!de(D.slice(3,6)))return!1;for(var O=[6,7,9,10,12,13,14],H={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},F=0,z=O;F<z.length;F++){var ie=z[F];D[ie]in H&&D.splice(ie,1,H[D[ie]])}var me={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},we=me[D[8]],Ee=parseInt(D[9]+D[10],10);Ee>40&&(Ee-=40),Ee<10&&(Ee="0".concat(Ee));var Vt="".concat(D[6]).concat(D[7],"/").concat(we,"/").concat(Ee);if(!(0,s.default)(Vt,"YY/MM/DD"))return!1;for(var Nt=0,Xt=1;Xt<D.length-1;Xt+=2){var Ut=parseInt(D[Xt],10);isNaN(Ut)&&(Ut=D[Xt].charCodeAt(0)-65),Nt+=Ut}for(var or={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},Xn=0;Xn<D.length-1;Xn+=2){var lr=0;if(D[Xn]in or)lr=or[D[Xn]];else{var cr=parseInt(D[Xn],10);lr=2*cr+1,cr>4&&(lr+=2)}Nt+=lr}return String.fromCharCode(65+Nt%26)===D[15]}function K(I){I=I.replace(/\W/,"");var D=I.slice(0,2);if(D!=="32"){var O=I.slice(2,4);if(O!=="00"){var H=I.slice(4,6);switch(I[6]){case"0":H="18".concat(H);break;case"1":H="19".concat(H);break;default:H="20".concat(H);break}var F="".concat(H,"/").concat(I.slice(2,4),"/").concat(D);if(!(0,s.default)(F,"YYYY/MM/DD"))return!1}for(var z=1101,ie=[1,6,3,7,9,10,5,8,4,2],me=0;me<I.length-1;me++)z-=parseInt(I[me],10)*ie[me];return parseInt(I[10],10)===z%11}return!0}function fe(I){if(I.length!==9){for(var D=I.toUpperCase().split("");D.length<8;)D.unshift(0);switch(I[7]){case"A":case"P":if(parseInt(D[6],10)===0)return!1;break;default:{var O=parseInt(D.join("").slice(0,5),10);if(O>32e3)return!1;var H=parseInt(D.join("").slice(5,7),10);if(O===H)return!1}}}return!0}function re(I){return i.reverseMultiplyAndSum(I.split("").slice(0,8).map(function(D){return parseInt(D,10)}),9)%11===parseInt(I[8],10)}function ue(I){if(I.length===10){for(var D=[6,5,7,2,3,4,5,6,7],O=0,H=0;H<D.length;H++)O+=parseInt(I[H],10)*D[H];return O%=11,O===10?!1:O===parseInt(I[9],10)}var F=I.slice(0,2),z=parseInt(I.slice(2,4),10);z>80?(F="18".concat(F),z-=80):z>60?(F="22".concat(F),z-=60):z>40?(F="21".concat(F),z-=40):z>20?(F="20".concat(F),z-=20):F="19".concat(F),z<10&&(z="0".concat(z));var ie="".concat(F,"/").concat(z,"/").concat(I.slice(4,6));if(!(0,s.default)(ie,"YYYY/MM/DD"))return!1;for(var me=0,we=1,Ee=0;Ee<I.length-1;Ee++)me+=parseInt(I[Ee],10)*we%10,we+=2,we>10?we=1:we===5&&(we+=2);return me=10-me%10,me===parseInt(I[10],10)}function Q(I){if(I.length===11){var D,O;if(D=0,I==="11111111111"||I==="22222222222"||I==="33333333333"||I==="44444444444"||I==="55555555555"||I==="66666666666"||I==="77777777777"||I==="88888888888"||I==="99999999999"||I==="00000000000")return!1;for(var H=1;H<=9;H++)D+=parseInt(I.substring(H-1,H),10)*(11-H);if(O=D*10%11,O===10&&(O=0),O!==parseInt(I.substring(9,10),10))return!1;D=0;for(var F=1;F<=10;F++)D+=parseInt(I.substring(F-1,F),10)*(12-F);return O=D*10%11,O===10&&(O=0),O===parseInt(I.substring(10,11),10)}if(I==="00000000000000"||I==="11111111111111"||I==="22222222222222"||I==="33333333333333"||I==="44444444444444"||I==="55555555555555"||I==="66666666666666"||I==="77777777777777"||I==="88888888888888"||I==="99999999999999")return!1;for(var z=I.length-2,ie=I.substring(0,z),me=I.substring(z),we=0,Ee=z-7,Vt=z;Vt>=1;Vt--)we+=ie.charAt(z-Vt)*Ee,Ee-=1,Ee<2&&(Ee=9);var Nt=we%11<2?0:11-we%11;if(Nt!==parseInt(me.charAt(0),10))return!1;z+=1,ie=I.substring(0,z),we=0,Ee=z-7;for(var Xt=z;Xt>=1;Xt--)we+=ie.charAt(z-Xt)*Ee,Ee-=1,Ee<2&&(Ee=9);return Nt=we%11<2?0:11-we%11,Nt===parseInt(me.charAt(1),10)}function ce(I){var D=11-i.reverseMultiplyAndSum(I.split("").slice(0,8).map(function(O){return parseInt(O,10)}),9)%11;return D>9?parseInt(I[8],10)===0:D===parseInt(I[8],10)}function Ae(I){if(I.slice(0,4)!=="9000"){var D=I.slice(1,3);switch(I[0]){case"1":case"2":D="19".concat(D);break;case"3":case"4":D="18".concat(D);break;case"5":case"6":D="20".concat(D);break}var O="".concat(D,"/").concat(I.slice(3,5),"/").concat(I.slice(5,7));if(O.length===8){if(!(0,s.default)(O,"YY/MM/DD"))return!1}else if(!(0,s.default)(O,"YYYY/MM/DD"))return!1;for(var H=I.split("").map(function(me){return parseInt(me,10)}),F=[2,7,9,1,4,6,3,5,8,2,7,9],z=0,ie=0;ie<F.length;ie++)z+=H[ie]*F[ie];return z%11===10?H[12]===1:H[12]===z%11}return!0}function Be(I){if(I.length===9){if(I=I.replace(/\W/,""),I.slice(6)==="000")return!1;var D=parseInt(I.slice(0,2),10);if(D>53)return!1;D<10?D="190".concat(D):D="19".concat(D);var O=parseInt(I.slice(2,4),10);O>50&&(O-=50),O<10&&(O="0".concat(O));var H="".concat(D,"/").concat(O,"/").concat(I.slice(4,6));if(!(0,s.default)(H,"YYYY/MM/DD"))return!1}return!0}function he(I){var D=11-i.reverseMultiplyAndSum(I.split("").slice(0,7).map(function(O){return parseInt(O,10)}),8)%11;return D===10?parseInt(I[7],10)===0:D===parseInt(I[7],10)}function Je(I){var D=I.slice(0);I.length>11&&(D=D.slice(2));var O="",H=D.slice(2,4),F=parseInt(D.slice(4,6),10);if(I.length>11)O=I.slice(0,4);else if(O=I.slice(0,2),I.length===11&&F<60){var z=new Date().getFullYear().toString(),ie=parseInt(z.slice(0,2),10);if(z=parseInt(z,10),I[6]==="-")parseInt("".concat(ie).concat(O),10)>z?O="".concat(ie-1).concat(O):O="".concat(ie).concat(O);else if(O="".concat(ie-1).concat(O),z-parseInt(O,10)<100)return!1}F>60&&(F-=60),F<10&&(F="0".concat(F));var me="".concat(O,"/").concat(H,"/").concat(F);if(me.length===8){if(!(0,s.default)(me,"YY/MM/DD"))return!1}else if(!(0,s.default)(me,"YYYY/MM/DD"))return!1;return i.luhnCheck(I.replace(/\W/,""))}function Me(I){for(var D=I.split("").map(function(z){return parseInt(z,10)}),O=[-1,5,7,9,4,6,10,5,7],H=0,F=0;F<O.length;F++)H+=D[F]*O[F];return H%11===10?D[9]===0:D[9]===H%11}var Ie={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};Ie["lb-LU"]=Ie["fr-LU"],Ie["lt-LT"]=Ie["et-EE"],Ie["nl-BE"]=Ie["fr-BE"],Ie["fr-CA"]=Ie["en-CA"];var Ne={"bg-BG":m,"cs-CZ":b,"de-AT":x,"de-DE":w,"dk-DK":S,"el-CY":k,"el-GR":A,"en-CA":v,"en-IE":C,"en-US":R,"es-AR":T,"es-ES":N,"et-EE":P,"fi-FI":L,"fr-BE":$,"fr-FR":q,"fr-LU":Z,"hr-HR":oe,"hu-HU":ee,"it-IT":ve,"lv-LV":K,"mt-MT":fe,"nl-NL":re,"pl-PL":ue,"pt-BR":Q,"pt-PT":ce,"ro-RO":Ae,"sk-SK":Be,"sl-SI":he,"sv-SE":Je,"uk-UA":Me};Ne["lb-LU"]=Ne["fr-LU"],Ne["lt-LT"]=Ne["et-EE"],Ne["nl-BE"]=Ne["fr-BE"],Ne["fr-CA"]=Ne["en-CA"];var bt=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,Tt={"de-AT":bt,"de-DE":/[\/\\]/g,"fr-BE":bt};Tt["nl-BE"]=Tt["fr-BE"];function ar(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,r.default)(I);var O=I.slice(0);if(D in Ie)return D in Tt&&(O=O.replace(Tt[D],"")),Ie[D].test(O)?D in Ne?Ne[D](O):!0:!1;throw new Error("Invalid locale '".concat(D,"'"))}n.exports=e.default,n.exports.default=e.default})(cl,cl.exports)),cl.exports}var mi={},sv;function z5(){if(sv)return mi;sv=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=r,mi.locales=void 0;var n=e(U());function e(i){return i&&i.__esModule?i:{default:i}}var t={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};t["en-CA"]=t["en-US"],t["fr-CA"]=t["en-CA"],t["fr-BE"]=t["nl-BE"],t["zh-HK"]=t["en-HK"],t["zh-MO"]=t["en-MO"],t["ga-IE"]=t["en-IE"],t["fr-CH"]=t["de-CH"],t["it-CH"]=t["fr-CH"];function r(i,s,a){if((0,n.default)(i),a&&a.strictMode&&!i.startsWith("+"))return!1;if(Array.isArray(s))return s.some(function(c){if(t.hasOwnProperty(c)){var u=t[c];if(u.test(i))return!0}return!1});if(s in t)return t[s].test(i);if(!s||s==="any"){for(var o in t)if(t.hasOwnProperty(o)){var l=t[o];if(l.test(i))return!0}return!1}throw new Error("Invalid locale '".concat(s,"'"))}return mi.locales=Object.keys(t),mi}var ul={exports:{}},av;function W5(){return av||(av=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^(0x)[0-9a-f]{40}$/i;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(ul,ul.exports)),ul.exports}var dl={exports:{}},ov;function q5(){return ov||(ov=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(Ht()),r=i(U());function i(l){return l&&l.__esModule?l:{default:l}}function s(l){var c="\\d{".concat(l.digits_after_decimal[0],"}");l.digits_after_decimal.forEach(function(x,w){w!==0&&(c="".concat(c,"|\\d{").concat(x,"}"))});var u="(".concat(l.symbol.replace(/\W/,function(x){return"\\".concat(x)}),")").concat(l.require_symbol?"":"?"),f="-?",h="[1-9]\\d*",p="[1-9]\\d{0,2}(\\".concat(l.thousands_separator,"\\d{3})*"),g=["0",h,p],m="(".concat(g.join("|"),")?"),v="(\\".concat(l.decimal_separator,"(").concat(c,"))").concat(l.require_decimal?"":"?"),b=m+(l.allow_decimal||l.require_decimal?v:"");return l.allow_negatives&&!l.parens_for_negatives&&(l.negative_sign_after_digits?b+=f:l.negative_sign_before_digits&&(b=f+b)),l.allow_negative_sign_placeholder?b="( (?!\\-))?".concat(b):l.allow_space_after_symbol?b=" ?".concat(b):l.allow_space_after_digits&&(b+="( (?!$))?"),l.symbol_after_digits?b+=u:b=u+b,l.allow_negatives&&(l.parens_for_negatives?b="(\\(".concat(b,"\\)|").concat(b,")"):l.negative_sign_before_digits||l.negative_sign_after_digits||(b=f+b)),new RegExp("^(?!-? )(?=.*\\d)".concat(b,"$"))}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function o(l,c){return(0,r.default)(l),c=(0,t.default)(c,a),s(c).test(l)}n.exports=e.default,n.exports.default=e.default})(dl,dl.exports)),dl.exports}var fl={exports:{}},lv;function G5(){return lv||(lv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(U());function r(o){return o&&o.__esModule?o:{default:o}}var i=/^(bc1)[a-z0-9]{25,39}$/,s=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function a(o){return(0,t.default)(o),i.test(o)||s.test(o)}n.exports=e.default,n.exports.default=e.default})(fl,fl.exports)),fl.exports}var gi={},cv;function K5(){if(cv)return gi;cv=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.isFreightContainerID=void 0,gi.isISO6346=i;var n=e(U());function e(s){return s&&s.__esModule?s:{default:s}}var t=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,r=/^[0-9]$/;function i(s){if((0,n.default)(s),s=s.toUpperCase(),!t.test(s))return!1;if(s.length===11){for(var a=0,o=0;o<s.length-1;o++)if(r.test(s[o]))a+=s[o]*Math.pow(2,o);else{var l=void 0,c=s.charCodeAt(o)-55;c<11?l=c:c>=11&&c<=20?l=12+c%11:c>=21&&c<=30?l=23+c%21:l=34+c%31,a+=l*Math.pow(2,o)}var u=a%11;return Number(s[s.length-1])===u}return!0}return gi.isFreightContainerID=i,gi}var hl={exports:{}},uv;function Z5(){return uv||(uv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function s(a){return(0,t.default)(a),i.has(a)}n.exports=e.default,n.exports.default=e.default})(hl,hl.exports)),hl.exports}var pl={exports:{}},dv;function Y5(){return dv||(dv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(U());function r(l){return l&&l.__esModule?l:{default:l}}var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=function(c){var u=c.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(u){var f=Number(u[1]),h=Number(u[2]);return f%4===0&&f%100!==0||f%400===0?h<=366:h<=365}var p=c.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),g=p[1],m=p[2],v=p[3],b=m&&"0".concat(m).slice(-2),x=v&&"0".concat(v).slice(-2),w=new Date("".concat(g,"-").concat(b||"01","-").concat(x||"01"));return m&&v?w.getUTCFullYear()===g&&w.getUTCMonth()+1===m&&w.getUTCDate()===v:!0};function o(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,t.default)(l);var u=c.strictSeparator?s.test(l):i.test(l);return u&&c.strict?a(l):u}n.exports=e.default,n.exports.default=e.default})(pl,pl.exports)),pl.exports}var ml={exports:{}},fv;function J5(){return fv||(fv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=r(U());function r(x){return x&&x.__esModule?x:{default:x}}var i=/[0-9]{4}/,s=/(0[1-9]|1[0-2])/,a=/([12]\d|0[1-9]|3[01])/,o=/([01][0-9]|2[0-3])/,l=/[0-5][0-9]/,c=/([0-5][0-9]|60)/,u=/(\.[0-9]+)?/,f=new RegExp("[-+]".concat(o.source,":").concat(l.source)),h=new RegExp("([zZ]|".concat(f.source,")")),p=new RegExp("".concat(o.source,":").concat(l.source,":").concat(c.source).concat(u.source)),g=new RegExp("".concat(i.source,"-").concat(s.source,"-").concat(a.source)),m=new RegExp("".concat(p.source).concat(h.source)),v=new RegExp("^".concat(g.source,"[ tT]").concat(m.source,"$"));function b(x){return(0,t.default)(x),v.test(x)}n.exports=e.default,n.exports.default=e.default})(ml,ml.exports)),ml.exports}var gl={exports:{}},hv;function X5(){return hv||(hv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function s(a){return(0,t.default)(a),i.has(a.toUpperCase())}n.exports=e.default,n.exports.default=e.default})(gl,gl.exports)),gl.exports}var vi={},pv;function Q5(){if(pv)return vi;pv=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.CurrencyCodes=void 0,vi.default=r;var n=e(U());function e(i){return i&&i.__esModule?i:{default:i}}var t=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function r(i){return(0,n.default)(i),t.has(i.toUpperCase())}return vi.CurrencyCodes=t,vi}var vl={exports:{}},mv;function e4(){return mv||(mv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=i(U()),r=i(Ht());function i(c){return c&&c.__esModule?c:{default:c}}var s=/^[A-Z2-7]+=*$/,a=/^[A-HJKMNP-TV-Z0-9]+$/,o={crockford:!1};function l(c,u){if((0,t.default)(c),u=(0,r.default)(u,o),u.crockford)return a.test(c);var f=c.length;return!!(f%8===0&&s.test(c))}n.exports=e.default,n.exports.default=e.default})(vl,vl.exports)),vl.exports}var bl={exports:{}},gv;function t4(){return gv||(gv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[A-HJ-NP-Za-km-z1-9]*$/;function s(a){return(0,t.default)(a),!!i.test(a)}n.exports=e.default,n.exports.default=e.default})(bl,bl.exports)),bl.exports}var xl={exports:{}},vv;function n4(){return vv||(vv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(U());function r(l){return l&&l.__esModule?l:{default:l}}var i=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,s=/^[a-z\-]+=[a-z0-9\-]+$/i,a=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function o(l){(0,t.default)(l);var c=l.split(",");if(c.length<2)return!1;var u=c.shift().trim().split(";"),f=u.shift();if(f.slice(0,5)!=="data:")return!1;var h=f.slice(5);if(h!==""&&!i.test(h))return!1;for(var p=0;p<u.length;p++)if(!(p===u.length-1&&u[p].toLowerCase()==="base64")&&!s.test(u[p]))return!1;for(var g=0;g<c.length;g++)if(!a.test(c[g]))return!1;return!0}n.exports=e.default,n.exports.default=e.default})(xl,xl.exports)),xl.exports}var yl={exports:{}},bv;function r4(){return bv||(bv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function s(a){return(0,t.default)(a),a.indexOf("magnet:?")!==0?!1:i.test(a)}n.exports=e.default,n.exports.default=e.default})(yl,yl.exports)),yl.exports}var wl={exports:{}},Sl={exports:{}},kl={exports:{}},xv;function dS(){return xv||(xv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){if((0,t.default)(s),a){var o=new RegExp("[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return s.replace(o,"")}for(var l=s.length-1;/\s/.test(s.charAt(l));)l-=1;return s.slice(0,l+1)}n.exports=e.default,n.exports.default=e.default})(kl,kl.exports)),kl.exports}var Cl={exports:{}},yv;function fS(){return yv||(yv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,t.default)(s);var o=a?new RegExp("^[".concat(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return s.replace(o,"")}n.exports=e.default,n.exports.default=e.default})(Cl,Cl.exports)),Cl.exports}var wv;function hS(){return wv||(wv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(dS()),r=i(fS());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){return(0,t.default)((0,r.default)(a,o),o)}n.exports=e.default,n.exports.default=e.default})(Sl,Sl.exports)),Sl.exports}var Sv;function i4(){return Sv||(Sv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var t=s(hS()),r=s(nS()),i=s(U());function s(m){return m&&m.__esModule?m:{default:m}}function a(m,v){return c(m)||l(m,v)||f(m,v)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(m,v){var b=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(b!=null){var x,w,S,k,A=[],C=!0,E=!1;try{if(S=(b=b.call(m)).next,v!==0)for(;!(C=(x=S.call(b)).done)&&(A.push(x.value),A.length!==v);C=!0);}catch(M){E=!0,w=M}finally{try{if(!C&&b.return!=null&&(k=b.return(),Object(k)!==k))return}finally{if(E)throw w}}return A}}function c(m){if(Array.isArray(m))return m}function u(m,v){var b=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!b){if(Array.isArray(m)||(b=f(m))||v){b&&(m=b);var x=0,w=function(){};return{s:w,n:function(){return x>=m.length?{done:!0}:{done:!1,value:m[x++]}},e:function(E){throw E},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,k=!1,A;return{s:function(){b=b.call(m)},n:function(){var E=b.next();return S=E.done,E},e:function(E){k=!0,A=E},f:function(){try{!S&&b.return!=null&&b.return()}finally{if(k)throw A}}}}function f(m,v){if(m){if(typeof m=="string")return h(m,v);var b=Object.prototype.toString.call(m).slice(8,-1);if(b==="Object"&&m.constructor&&(b=m.constructor.name),b==="Map"||b==="Set")return Array.from(m);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return h(m,v)}}function h(m,v){(v==null||v>m.length)&&(v=m.length);for(var b=0,x=new Array(v);b<v;b++)x[b]=m[b];return x}function p(m){var v=new Set(["subject","body","cc","bcc"]),b={cc:"",bcc:""},x=!1,w=m.split("&");if(w.length>4)return!1;var S=u(w),k;try{for(S.s();!(k=S.n()).done;){var A=k.value,C=A.split("="),E=a(C,2),M=E[0],R=E[1];if(M&&!v.has(M)){x=!0;break}R&&(M==="cc"||M==="bcc")&&(b[M]=R),M&&v.delete(M)}}catch(T){S.e(T)}finally{S.f()}return x?!1:b}function g(m,v){if((0,i.default)(m),m.indexOf("mailto:")!==0)return!1;var b=m.replace("mailto:","").split("?"),x=a(b,2),w=x[0],S=x[1],k=S===void 0?"":S;if(!w&&!k)return!0;var A=p(k);return A?"".concat(w,",").concat(A.cc,",").concat(A.bcc).split(",").every(function(C){return C=(0,t.default)(C," "),C?(0,r.default)(C,v):!0}):!1}n.exports=e.default,n.exports.default=e.default})(wl,wl.exports)),wl.exports}var Al={exports:{}},kv;function s4(){return kv||(kv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=r(U());function r(l){return l&&l.__esModule?l:{default:l}}var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,s=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,a=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function o(l){return(0,t.default)(l),i.test(l)||s.test(l)||a.test(l)}n.exports=e.default,n.exports.default=e.default})(Al,Al.exports)),Al.exports}var Ml={exports:{}},Cv;function a4(){return Cv||(Cv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(U()),r=i(Ht());function i(f){return f&&f.__esModule?f:{default:f}}var s=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,a=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,o=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,l=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,c={checkDMS:!1};function u(f,h){if((0,t.default)(f),h=(0,r.default)(h,c),!f.includes(","))return!1;var p=f.split(",");return p[0].startsWith("(")&&!p[1].endsWith(")")||p[1].endsWith(")")&&!p[0].startsWith("(")?!1:h.checkDMS?o.test(p[0])&&l.test(p[1]):s.test(p[0])&&a.test(p[1])}n.exports=e.default,n.exports.default=e.default})(Ml,Ml.exports)),Ml.exports}var bi={},Av;function o4(){if(Av)return bi;Av=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=o,bi.locales=void 0;var n=e(U());function e(l){return l&&l.__esModule?l:{default:l}}var t=/^\d{3}$/,r=/^\d{4}$/,i=/^\d{5}$/,s=/^\d{6}$/,a={AD:/^AD\d{3}$/,AT:r,AU:r,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:r,BG:r,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:r,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:r,DO:i,DZ:i,EE:i,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:i,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:r,ID:i,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:t,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:r,LV:/^LV\-\d{4}$/,LK:i,MG:t,MX:i,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:i,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:r,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:r,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:i,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:s,SI:r,SK:/^\d{3}\s?\d{2}$/,TH:i,TN:r,TW:/^\d{3}(\d{2})?$/,UA:i,US:/^\d{5}(-\d{4})?$/,ZA:r,ZM:i};bi.locales=Object.keys(a);function o(l,c){if((0,n.default)(l),c in a)return a[c].test(l);if(c==="any"){for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];if(f.test(l))return!0}return!1}throw new Error("Invalid locale '".concat(c,"'"))}return bi}var Il={exports:{}},Mv;function l4(){return Mv||(Mv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}n.exports=e.default,n.exports.default=e.default})(Il,Il.exports)),Il.exports}var El={exports:{}},Iv;function c4(){return Iv||(Iv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,t.default)(s),s.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}n.exports=e.default,n.exports.default=e.default})(El,El.exports)),El.exports}var Dl={exports:{}},Rl={exports:{}},Ev;function pS(){return Ev||(Ev=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s.replace(new RegExp("[".concat(a,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default})(Rl,Rl.exports)),Rl.exports}var Dv;function u4(){return Dv||(Dv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=i(U()),r=i(pS());function i(a){return a&&a.__esModule?a:{default:a}}function s(a,o){(0,t.default)(a);var l=o?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,r.default)(a,l)}n.exports=e.default,n.exports.default=e.default})(Dl,Dl.exports)),Dl.exports}var Ol={exports:{}},Rv;function d4(){return Rv||(Rv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){return(0,t.default)(s),s.replace(new RegExp("[^".concat(a,"]+"),"g"),"")}n.exports=e.default,n.exports.default=e.default})(Ol,Ol.exports)),Ol.exports}var Tl={exports:{}},Ov;function f4(){return Ov||(Ov=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=r(U());function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){(0,t.default)(s);for(var o=s.length-1;o>=0;o--)if(a.indexOf(s[o])===-1)return!1;return!0}n.exports=e.default,n.exports.default=e.default})(Tl,Tl.exports)),Tl.exports}var Nl={exports:{}},Tv;function h4(){return Tv||(Tv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=r(Ht());function r(f){return f&&f.__esModule?f:{default:f}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(f){return f.length>1?f:""}function u(f,h){h=(0,t.default)(h,i);var p=f.split("@"),g=p.pop(),m=p.join("@"),v=[m,g];if(v[1]=v[1].toLowerCase(),v[1]==="gmail.com"||v[1]==="googlemail.com"){if(h.gmail_remove_subaddress&&(v[0]=v[0].split("+")[0]),h.gmail_remove_dots&&(v[0]=v[0].replace(/\.+/g,c)),!v[0].length)return!1;(h.all_lowercase||h.gmail_lowercase)&&(v[0]=v[0].toLowerCase()),v[1]=h.gmail_convert_googlemaildotcom?"gmail.com":v[1]}else if(s.indexOf(v[1])>=0){if(h.icloud_remove_subaddress&&(v[0]=v[0].split("+")[0]),!v[0].length)return!1;(h.all_lowercase||h.icloud_lowercase)&&(v[0]=v[0].toLowerCase())}else if(a.indexOf(v[1])>=0){if(h.outlookdotcom_remove_subaddress&&(v[0]=v[0].split("+")[0]),!v[0].length)return!1;(h.all_lowercase||h.outlookdotcom_lowercase)&&(v[0]=v[0].toLowerCase())}else if(o.indexOf(v[1])>=0){if(h.yahoo_remove_subaddress){var b=v[0].split("-");v[0]=b.length>1?b.slice(0,-1).join("-"):b[0]}if(!v[0].length)return!1;(h.all_lowercase||h.yahoo_lowercase)&&(v[0]=v[0].toLowerCase())}else l.indexOf(v[1])>=0?((h.all_lowercase||h.yandex_lowercase)&&(v[0]=v[0].toLowerCase()),v[1]="yandex.ru"):h.all_lowercase&&(v[0]=v[0].toLowerCase());return v.join("@")}n.exports=e.default,n.exports.default=e.default})(Nl,Nl.exports)),Nl.exports}var Pl={exports:{}},Nv;function p4(){return Nv||(Nv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function s(a){return(0,t.default)(a),i.test(a)}n.exports=e.default,n.exports.default=e.default})(Pl,Pl.exports)),Pl.exports}var Ll={exports:{}},Pv;function m4(){return Pv||(Pv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(U());function r(a){return a&&a.__esModule?a:{default:a}}var i={"cs-CZ":function(o){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(o)},"de-DE":function(o){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(o)},"de-LI":function(o){return/^FL[- ]?\d{1,5}[UZ]?$/.test(o)},"en-IN":function(o){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(o)},"es-AR":function(o){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(o)},"fi-FI":function(o){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(o)},"hu-HU":function(o){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(o)},"pt-BR":function(o){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(o)},"pt-PT":function(o){return/^([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})$/.test(o)},"sq-AL":function(o){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(o)},"sv-SE":function(o){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(o.trim())},"en-PK":function(o){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(o.trim())}};function s(a,o){if((0,t.default)(a),o in i)return i[o](a);if(o==="any"){for(var l in i){var c=i[l];if(c(a))return!0}return!1}throw new Error("Invalid locale '".concat(o,"'"))}n.exports=e.default,n.exports.default=e.default})(Ll,Ll.exports)),Ll.exports}var _l={exports:{}},Lv;function g4(){return Lv||(Lv=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=i(Ht()),r=i(U());function i(g){return g&&g.__esModule?g:{default:g}}var s=/^[A-Z]$/,a=/^[a-z]$/,o=/^[0-9]$/,l=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,c={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function u(g){var m={};return Array.from(g).forEach(function(v){var b=m[v];b?m[v]+=1:m[v]=1}),m}function f(g){var m=u(g),v={length:g.length,uniqueChars:Object.keys(m).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(m).forEach(function(b){s.test(b)?v.uppercaseCount+=m[b]:a.test(b)?v.lowercaseCount+=m[b]:o.test(b)?v.numberCount+=m[b]:l.test(b)&&(v.symbolCount+=m[b])}),v}function h(g,m){var v=0;return v+=g.uniqueChars*m.pointsPerUnique,v+=(g.length-g.uniqueChars)*m.pointsPerRepeat,g.lowercaseCount>0&&(v+=m.pointsForContainingLower),g.uppercaseCount>0&&(v+=m.pointsForContainingUpper),g.numberCount>0&&(v+=m.pointsForContainingNumber),g.symbolCount>0&&(v+=m.pointsForContainingSymbol),v}function p(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,r.default)(g);var v=f(g);return m=(0,t.default)(m||{},c),m.returnScore?h(v,m):v.length>=m.minLength&&v.lowercaseCount>=m.minLowercase&&v.uppercaseCount>=m.minUppercase&&v.numberCount>=m.minNumbers&&v.symbolCount>=m.minSymbols}n.exports=e.default,n.exports.default=e.default})(_l,_l.exports)),_l.exports}var xi={},_v;function v4(){if(_v)return xi;_v=1;function n(f){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(f)}Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=u,xi.vatMatchers=void 0;var e=s(U()),t=i(uS());function r(f){if(typeof WeakMap!="function")return null;var h=new WeakMap,p=new WeakMap;return(r=function(m){return m?p:h})(f)}function i(f,h){if(f&&f.__esModule)return f;if(f===null||n(f)!="object"&&typeof f!="function")return{default:f};var p=r(h);if(p&&p.has(f))return p.get(f);var g={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in f)if(v!=="default"&&{}.hasOwnProperty.call(f,v)){var b=m?Object.getOwnPropertyDescriptor(f,v):null;b&&(b.get||b.set)?Object.defineProperty(g,v,b):g[v]=f[v]}return g.default=f,p&&p.set(f,g),g}function s(f){return f&&f.__esModule?f:{default:f}}var a=function(h){var p=h.match(/^(AU)?(\d{11})$/);if(!p)return!1;var g=[10,1,3,5,7,9,11,13,15,17,19];h=h.replace(/^AU/,"");for(var m=(parseInt(h.slice(0,1),10)-1).toString()+h.slice(1),v=0,b=0;b<11;b++)v+=g[b]*m.charAt(b);return v!==0&&v%89===0},o=function(h){var p=function(m){var v=m.pop(),b=[5,4,3,2,7,6,5,4],x=(11-m.reduce(function(w,S,k){return w+S*b[k]},0)%11)%11;return v===x};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(h)&&p(h.match(/\d/g).map(function(g){return+g}))},l=function(h){var p=h.match(/^(PT)?(\d{9})$/);if(!p)return!1;var g=p[2],m=11-t.reverseMultiplyAndSum(g.split("").slice(0,8).map(function(v){return parseInt(v,10)}),9)%11;return m>9?parseInt(g[8],10)===0:m===parseInt(g[8],10)},c=xi.vatMatchers={AT:function(h){return/^(AT)?U\d{8}$/.test(h)},BE:function(h){return/^(BE)?\d{10}$/.test(h)},BG:function(h){return/^(BG)?\d{9,10}$/.test(h)},HR:function(h){return/^(HR)?\d{11}$/.test(h)},CY:function(h){return/^(CY)?\w{9}$/.test(h)},CZ:function(h){return/^(CZ)?\d{8,10}$/.test(h)},DK:function(h){return/^(DK)?\d{8}$/.test(h)},EE:function(h){return/^(EE)?\d{9}$/.test(h)},FI:function(h){return/^(FI)?\d{8}$/.test(h)},FR:function(h){return/^(FR)?\w{2}\d{9}$/.test(h)},DE:function(h){return/^(DE)?\d{9}$/.test(h)},EL:function(h){return/^(EL)?\d{9}$/.test(h)},HU:function(h){return/^(HU)?\d{8}$/.test(h)},IE:function(h){return/^(IE)?\d{7}\w{1}(W)?$/.test(h)},IT:function(h){return/^(IT)?\d{11}$/.test(h)},LV:function(h){return/^(LV)?\d{11}$/.test(h)},LT:function(h){return/^(LT)?\d{9,12}$/.test(h)},LU:function(h){return/^(LU)?\d{8}$/.test(h)},MT:function(h){return/^(MT)?\d{8}$/.test(h)},NL:function(h){return/^(NL)?\d{9}B\d{2}$/.test(h)},PL:function(h){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(h)},PT:l,RO:function(h){return/^(RO)?\d{2,10}$/.test(h)},SK:function(h){return/^(SK)?\d{10}$/.test(h)},SI:function(h){return/^(SI)?\d{8}$/.test(h)},ES:function(h){return/^(ES)?\w\d{7}[A-Z]$/.test(h)},SE:function(h){return/^(SE)?\d{12}$/.test(h)},AL:function(h){return/^(AL)?\w{9}[A-Z]$/.test(h)},MK:function(h){return/^(MK)?\d{13}$/.test(h)},AU:a,BY:function(h){return/^( )?\d{9}$/.test(h)},CA:function(h){return/^(CA)?\d{9}$/.test(h)},IS:function(h){return/^(IS)?\d{5,6}$/.test(h)},IN:function(h){return/^(IN)?\d{15}$/.test(h)},ID:function(h){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(h)},IL:function(h){return/^(IL)?\d{9}$/.test(h)},KZ:function(h){return/^(KZ)?\d{12}$/.test(h)},NZ:function(h){return/^(NZ)?\d{9}$/.test(h)},NG:function(h){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(h)},NO:function(h){return/^(NO)?\d{9}MVA$/.test(h)},PH:function(h){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(h)},RU:function(h){return/^(RU)?(\d{10}|\d{12})$/.test(h)},SM:function(h){return/^(SM)?\d{5}$/.test(h)},SA:function(h){return/^(SA)?\d{15}$/.test(h)},RS:function(h){return/^(RS)?\d{9}$/.test(h)},CH:o,TR:function(h){return/^(TR)?\d{10}$/.test(h)},UA:function(h){return/^(UA)?\d{12}$/.test(h)},GB:function(h){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(h)},UZ:function(h){return/^(UZ)?\d{9}$/.test(h)},AR:function(h){return/^(AR)?\d{11}$/.test(h)},BO:function(h){return/^(BO)?\d{7}$/.test(h)},BR:function(h){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(h)},CL:function(h){return/^(CL)?\d{8}-\d{1}$/.test(h)},CO:function(h){return/^(CO)?\d{10}$/.test(h)},CR:function(h){return/^(CR)?\d{9,12}$/.test(h)},EC:function(h){return/^(EC)?\d{13}$/.test(h)},SV:function(h){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(h)},GT:function(h){return/^(GT)?\d{7}-\d{1}$/.test(h)},HN:function(h){return/^(HN)?$/.test(h)},MX:function(h){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(h)},NI:function(h){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(h)},PA:function(h){return/^(PA)?$/.test(h)},PY:function(h){return/^(PY)?\d{6,8}-\d{1}$/.test(h)},PE:function(h){return/^(PE)?\d{11}$/.test(h)},DO:function(h){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(h)},UY:function(h){return/^(UY)?\d{12}$/.test(h)},VE:function(h){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(h)}};function u(f,h){if((0,e.default)(f),(0,e.default)(h),h in c)return c[h](f);throw new Error("Invalid country code: '".concat(h,"'"))}return xi}var jv;function b4(){return jv||(jv=1,(function(n,e){function t(Ve){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(On){return typeof On}:function(On){return On&&typeof Symbol=="function"&&On.constructor===Symbol&&On!==Symbol.prototype?"symbol":typeof On},t(Ve)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=V(Oh()),i=V(Qw()),s=V(z_()),a=V(W_()),o=V(q_()),l=V(G_()),c=V(K_()),u=V(nS()),f=V(Z_()),h=V(Y_()),p=V(xu()),g=V(J_()),m=V(Th()),v=V(rS()),b=V(X_()),x=V(Q_()),w=V(e5()),S=V(t5()),k=ni(n5()),A=ni(r5()),C=V(i5()),E=V(s5()),M=V(a5()),R=V(o5()),T=V(l5()),N=V(c5()),P=V(u5()),L=V(iS()),$=V(sS()),q=V(d5()),Z=V(f5()),oe=V(p5()),ee=V(m5()),de=V(Nh()),ve=ni(Xw()),K=V(v5()),fe=V(aS()),re=V(b5()),ue=V(x5()),Q=V(y5()),ce=V(w5()),Ae=V(S5()),Be=V(k5()),he=ni(C5()),Je=V(A5()),Me=V(M5()),Ie=V(I5()),Ne=V(E5()),bt=V(D5()),Tt=V(R5()),ar=V(O5()),I=V(tS()),D=V(T5()),O=V(N5()),H=V(P5()),F=V(L5()),z=V(_5()),ie=V(cS()),me=V(j5()),we=V(B5()),Ee=V($5()),Vt=V(F5()),Nt=V(H5()),Xt=V(V5()),Ut=V(U5()),or=ni(z5()),Xn=V(W5()),lr=V(q5()),cr=V(G5()),ss=K5(),yu=V(Z5()),ka=V(Y5()),wu=V(J5()),Su=V(oS()),ku=V(X5()),ht=V(Q5()),Pt=V(e4()),Lt=V(t4()),Dn=V(lS()),zt=V(n4()),_t=V(r4()),ln=V(i4()),ur=V(s4()),st=V(a4()),bn=ni(o4()),cn=V(fS()),xn=V(dS()),Nr=V(hS()),Pr=V(l4()),Rn=V(c4()),Lr=V(u4()),as=V(d4()),MS=V(pS()),IS=V(f4()),ES=V(h4()),DS=V(p4()),RS=V(m4()),OS=V(g4()),TS=V(v4());function Bh(Ve){if(typeof WeakMap!="function")return null;var On=new WeakMap,_r=new WeakMap;return(Bh=function(Cu){return Cu?_r:On})(Ve)}function ni(Ve,On){if(Ve&&Ve.__esModule)return Ve;if(Ve===null||t(Ve)!="object"&&typeof Ve!="function")return{default:Ve};var _r=Bh(On);if(_r&&_r.has(Ve))return _r.get(Ve);var ri={__proto__:null},Cu=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ii in Ve)if(ii!=="default"&&{}.hasOwnProperty.call(Ve,ii)){var Ca=Cu?Object.getOwnPropertyDescriptor(Ve,ii):null;Ca&&(Ca.get||Ca.set)?Object.defineProperty(ri,ii,Ca):ri[ii]=Ve[ii]}return ri.default=Ve,_r&&_r.set(Ve,ri),ri}function V(Ve){return Ve&&Ve.__esModule?Ve:{default:Ve}}var NS="13.12.0",PS={version:NS,toDate:r.default,toFloat:i.default,toInt:s.default,toBoolean:a.default,equals:o.default,contains:l.default,matches:c.default,isEmail:u.default,isURL:f.default,isMACAddress:h.default,isIP:p.default,isIPRange:g.default,isFQDN:m.default,isBoolean:x.default,isIBAN:he.default,isBIC:Je.default,isAbaRouting:S.default,isAlpha:k.default,isAlphaLocales:k.locales,isAlphanumeric:A.default,isAlphanumericLocales:A.locales,isNumeric:C.default,isPassportNumber:E.default,isPort:M.default,isLowercase:R.default,isUppercase:T.default,isAscii:P.default,isFullWidth:L.default,isHalfWidth:$.default,isVariableWidth:q.default,isMultibyte:Z.default,isSemVer:oe.default,isSurrogatePair:ee.default,isInt:de.default,isIMEI:N.default,isFloat:ve.default,isFloatLocales:ve.locales,isDecimal:K.default,isHexadecimal:fe.default,isOctal:re.default,isDivisibleBy:ue.default,isHexColor:Q.default,isRgbColor:ce.default,isHSL:Ae.default,isISRC:Be.default,isMD5:Me.default,isHash:Ie.default,isJWT:Ne.default,isJSON:bt.default,isEmpty:Tt.default,isLength:ar.default,isLocale:w.default,isByteLength:I.default,isUUID:D.default,isMongoId:O.default,isAfter:H.default,isBefore:F.default,isIn:z.default,isLuhnNumber:ie.default,isCreditCard:me.default,isIdentityCard:we.default,isEAN:Ee.default,isISIN:Vt.default,isISBN:Nt.default,isISSN:Xt.default,isMobilePhone:or.default,isMobilePhoneLocales:or.locales,isPostalCode:bn.default,isPostalCodeLocales:bn.locales,isEthereumAddress:Xn.default,isCurrency:lr.default,isBtcAddress:cr.default,isISO6346:ss.isISO6346,isFreightContainerID:ss.isFreightContainerID,isISO6391:yu.default,isISO8601:ka.default,isRFC3339:wu.default,isISO31661Alpha2:Su.default,isISO31661Alpha3:ku.default,isISO4217:ht.default,isBase32:Pt.default,isBase58:Lt.default,isBase64:Dn.default,isDataURI:zt.default,isMagnetURI:_t.default,isMailtoURI:ln.default,isMimeType:ur.default,isLatLong:st.default,ltrim:cn.default,rtrim:xn.default,trim:Nr.default,escape:Pr.default,unescape:Rn.default,stripLow:Lr.default,whitelist:as.default,blacklist:MS.default,isWhitelisted:IS.default,normalizeEmail:ES.default,toString,isSlug:DS.default,isStrongPassword:OS.default,isTaxID:Ut.default,isDate:v.default,isTime:b.default,isLicensePlate:RS.default,isVAT:TS.default,ibanLocales:he.locales};e.default=PS,n.exports=e.default,n.exports.default=e.default})(Ja,Ja.exports)),Ja.exports}var x4=b4();const Ph=d2(x4);function Bv(n){const e="The URL must be in a format like https://www.facebook.com/yourPage";if(!n)return"";if(n=n.replace(/(https?:\/\/)?(www\.)?facebook\.com/i,""),n.match(/^(http|\/\/)/i))throw new Error(e);if(n=n.replace(/^\//,""),n=`https://www.facebook.com/${n}`,!Ph.isURL(n))throw new Error(e);return n}const $v=n=>`https://www.facebook.com/${n}`,y4=n=>n.match(/(?:https:\/\/)(?:www\.)(?:facebook\.com)\/(?:#!\/)?(\w+\/?\S+)/i)?.[1]||null,gd=/^x\.com\/([a-zA-Z0-9_]{1,15})$/;function Fv(n){if(!n)return"";if(n.match(gd)||n.match(/([a-z\d.]+)/i)){let e=[];if(n.match(gd)?[,e]=n.match(gd):[e]=n.match(/([^/]+)\/?$/i),e.startsWith("@")&&(e=e.slice(1)),!e.match(/^[a-z\d_]{1,15}$/i))throw new Error("Your Username is not a valid Twitter Username");return`https://x.com/${e}`}else{const e="The URL must be in a format like https://x.com/yourUsername";throw new Error(e)}}const Hv=n=>`https://x.com/${n.replace("@","")}`,w4=n=>{const e=n.match(/(?:https:\/\/)(?:x\.com)\/(?:#!\/)?@?([^/]*)/)?.[1];return e?`@${e}`:null},S4=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),[l,c]=y.useState({}),[u,f]=Te(e,["facebook","twitter"]),[h,p]=y.useState(u?$v(u):""),[g,m]=y.useState(f?Hv(f):"");y.useEffect(()=>{p(u?$v(u):""),m(f?Hv(f):"")},[u,f]);const v=w=>{p(w);try{const S=Bv(w);a("facebook",y4(S)),t||o(!0),l.facebook&&c({...l,facebook:""})}catch(S){S instanceof Error&&c({...l,facebook:S.message}),a("facebook",null)}},b=w=>{m(w);try{const S=Fv(w);a("twitter",w4(S)),t||o(!0),l.twitter&&c({...l,twitter:""})}catch(S){S instanceof Error&&c({...l,twitter:S.message}),a("twitter",null)}},x=()=>{const w={};if(h)try{Bv(h)}catch(S){S instanceof Error&&(w.facebook=S.message)}if(g)try{Fv(g)}catch(S){S instanceof Error&&(w.twitter=S.message)}c(w),Object.keys(w).length===0&&i()};return d.jsx(Se,{description:"Link your social accounts for full structured data and rich card support",isEditing:t,keywords:n,navid:"social-accounts",saveState:r,testId:"social-accounts",title:"Social accounts",hideEditButton:!0,onCancel:s,onEditingChange:o,onSave:x,children:d.jsxs(Ye,{children:[d.jsx(tt,{error:!!l.facebook,hint:l.facebook,placeholder:"https://www.facebook.com/ghost",title:"URL of your publication's Facebook Page",value:h,onChange:w=>v(w.target.value)}),d.jsx(tt,{error:!!l.twitter,hint:l.twitter,placeholder:"https://x.com/ghost",title:"URL of your X profile",value:g,onChange:w=>b(w.target.value)})]})})},k4=Ce(S4,"Social accounts"),C4=[{name:"Pacific/Pago_Pago",label:"(GMT -11:00) Midway Island, Samoa"},{name:"Pacific/Honolulu",label:"(GMT -10:00) Hawaii"},{name:"America/Anchorage",label:"(GMT -9:00) Alaska"},{name:"America/Tijuana",label:"(GMT -8:00) Chihuahua, La Paz, Mazatlan"},{name:"America/Los_Angeles",label:"(GMT -8:00) Pacific Time (US & Canada); Tijuana"},{name:"America/Phoenix",label:"(GMT -7:00) Arizona"},{name:"America/Denver",label:"(GMT -7:00) Mountain Time (US & Canada)"},{name:"America/Costa_Rica",label:"(GMT -6:00) Central America"},{name:"America/Chicago",label:"(GMT -6:00) Central Time (US & Canada)"},{name:"America/Mexico_City",label:"(GMT -6:00) Guadalajara, Mexico City, Monterrey"},{name:"America/Regina",label:"(GMT -6:00) Saskatchewan"},{name:"America/Bogota",label:"(GMT -5:00) Bogota, Lima, Quito"},{name:"America/New_York",label:"(GMT -5:00) Eastern Time (US & Canada)"},{name:"America/Fort_Wayne",label:"(GMT -5:00) Indiana (East)"},{name:"America/Caracas",label:"(GMT -4:00) Caracas, La Paz"},{name:"America/Halifax",label:"(GMT -4:00) Atlantic Time (Canada); Greenland"},{name:"America/Santiago",label:"(GMT -4:00) Santiago"},{name:"America/St_Johns",label:"(GMT -3:30) Newfoundland"},{name:"America/Argentina/Buenos_Aires",label:"(GMT -3:00) Buenos Aires, Brasilia, Georgetown"},{name:"America/Noronha",label:"(GMT -2:00) Fernando de Noronha"},{name:"Atlantic/Azores",label:"(GMT -1:00) Azores"},{name:"Atlantic/Cape_Verde",label:"(GMT -1:00) Cape Verde Is."},{name:"Etc/UTC",label:"(GMT) UTC"},{name:"Africa/Casablanca",label:"(GMT +0:00) Casablanca, Monrovia"},{name:"Europe/Dublin",label:"(GMT +0:00) Dublin, Edinburgh, London"},{name:"Europe/Amsterdam",label:"(GMT +1:00) Amsterdam, Berlin, Rome, Stockholm, Vienna"},{name:"Europe/Prague",label:"(GMT +1:00) Belgrade, Bratislava, Budapest, Prague"},{name:"Europe/Paris",label:"(GMT +1:00) Brussels, Copenhagen, Madrid, Paris"},{name:"Europe/Warsaw",label:"(GMT +1:00) Sarajevo, Skopje, Warsaw, Zagreb"},{name:"Africa/Lagos",label:"(GMT +1:00) West Central Africa"},{name:"Europe/Athens",label:"(GMT +2:00) Athens, Beirut, Bucharest"},{name:"Africa/Cairo",label:"(GMT +2:00) Cairo, Egypt"},{name:"Africa/Maputo",label:"(GMT +2:00) Harare"},{name:"Europe/Kiev",label:"(GMT +2:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"},{name:"Asia/Jerusalem",label:"(GMT +2:00) Jerusalem"},{name:"Africa/Johannesburg",label:"(GMT +2:00) Pretoria"},{name:"Asia/Baghdad",label:"(GMT +3:00) Baghdad"},{name:"Asia/Riyadh",label:"(GMT +3:00) Kuwait, Nairobi, Riyadh"},{name:"Europe/Istanbul",label:"(GMT +3:00) Istanbul, Ankara"},{name:"Europe/Moscow",label:"(GMT +3:00) Moscow, St. Petersburg, Volgograd"},{name:"Asia/Tehran",label:"(GMT +3:30) Tehran"},{name:"Asia/Dubai",label:"(GMT +4:00) Abu Dhabi, Muscat"},{name:"Asia/Baku",label:"(GMT +4:00) Baku, Tbilisi, Yerevan"},{name:"Asia/Kabul",label:"(GMT +4:30) Kabul"},{name:"Asia/Karachi",label:"(GMT +5:00) Islamabad, Karachi, Tashkent"},{name:"Asia/Yekaterinburg",label:"(GMT +5:00) Yekaterinburg"},{name:"Asia/Kolkata",label:"(GMT +5:30) Chennai, Calcutta, Mumbai, New Delhi"},{name:"Asia/Kathmandu",label:"(GMT +5:45) Katmandu"},{name:"Asia/Almaty",label:"(GMT +6:00) Almaty, Novosibirsk"},{name:"Asia/Dhaka",label:"(GMT +6:00) Astana, Dhaka, Sri Jayawardenepura"},{name:"Asia/Rangoon",label:"(GMT +6:30) Rangoon"},{name:"Asia/Bangkok",label:"(GMT +7:00) Bangkok, Hanoi, Jakarta"},{name:"Asia/Krasnoyarsk",label:"(GMT +7:00) Krasnoyarsk"},{name:"Asia/Hong_Kong",label:"(GMT +8:00) Beijing, Chongqing, Hong Kong, Urumqi"},{name:"Asia/Irkutsk",label:"(GMT +8:00) Irkutsk, Ulaan Bataar"},{name:"Asia/Singapore",label:"(GMT +8:00) Kuala Lumpur, Perth, Singapore, Taipei"},{name:"Asia/Tokyo",label:"(GMT +9:00) Osaka, Sapporo, Tokyo"},{name:"Asia/Seoul",label:"(GMT +9:00) Seoul"},{name:"Asia/Yakutsk",label:"(GMT +9:00) Yakutsk"},{name:"Australia/Adelaide",label:"(GMT +9:30) Adelaide"},{name:"Australia/Darwin",label:"(GMT +9:30) Darwin"},{name:"Australia/Brisbane",label:"(GMT +10:00) Brisbane, Guam, Port Moresby"},{name:"Australia/Sydney",label:"(GMT +10:00) Canberra, Hobart, Melbourne, Sydney, Vladivostok"},{name:"Asia/Magadan",label:"(GMT +11:00) Magadan, Soloman Is., New Caledonia"},{name:"Pacific/Auckland",label:"(GMT +12:00) Auckland, Wellington"},{name:"Pacific/Fiji",label:"(GMT +12:00) Fiji, Kamchatka, Marshall Is."},{name:"Pacific/Kwajalein",label:"(GMT +12:00) International Date Line West"}],A4=({timezone:n})=>{const[e,t]=y.useState(Tg(n));return y.useEffect(()=>{const r=setInterval(()=>{t(Tg(n))},1e3);return()=>{clearInterval(r)}},[n]),d.jsxs(d.Fragment,{children:["The local time here is currently ",e]})},M4=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),[l]=Te(e,["timezone"]),c=C4.map(f=>({value:f.name,label:f.label})),u=f=>{a("timezone",f||null),o(!0)};return d.jsx(Se,{description:"Set the time and date of your publication, used for all published posts",hideEditButton:!0,isEditing:t,keywords:n,navid:"timezone",saveState:r,testId:"timezone",title:"Site timezone",onCancel:s,onEditingChange:o,onSave:i,children:d.jsx(Ye,{columns:1,children:d.jsx(yr,{hint:d.jsx(A4,{timezone:l}),options:c,selectedOption:c.find(f=>f.value===l),testId:"timezone-select",title:"Site timezone",isSearchable:!0,onSelect:f=>u(f?.value)})})})},I4=Ce(M4,"Site timezone"),E4=({keywords:n})=>{const{errors:e,localSettings:t,isEditing:r,saveState:i,focusRef:s,clearError:a,handleSave:o,handleCancel:l,updateSetting:c,handleEditingChange:u}=Ot({onValidate:()=>f?f.length<4?{title:"Please use a site title longer than 3 characters."}:f.length>63?{title:"Please use a site title shorter than 63 characters."}:{}:{title:"Please enter a site title."}}),[f,h]=Te(t,["title","description"]),p=b=>{c("title",b.target.value)},g=b=>{c("description",b.target.value)},m=d.jsx(Ye,{columns:2,values:[{heading:"Site title",key:"site-title",value:f},{heading:"Site description",key:"site-description",value:h}]}),v=d.jsxs(Ye,{children:[d.jsx(tt,{error:!!e.title,hint:e.title||"The name of your site",inputRef:s,maxLength:63,placeholder:"Site title",title:"Site title",value:f,onChange:p,onKeyDown:()=>a("title")}),d.jsx(tt,{hint:"A short description, used in your theme, meta data and search results",maxLength:200,placeholder:"Site description",title:"Site description",value:h,onChange:g})]});return d.jsx(Se,{description:"The details used to identify your publication around the web",isEditing:r,keywords:n,navid:"general",saveState:i,testId:"title-and-description",title:"Title & description",onCancel:l,onEditingChange:u,onSave:o,children:r?v:m})},D4=Ce(E4,"Title & description"),R4=({user:n})=>{const{updateRoute:e}=be(),{currentUser:t}=Le(),r=()=>{ws(t)&&e({route:`staff/${n.slug}`})};return n?d.jsxs("div",{className:_("group flex gap-3",ws(t)&&"cursor-pointer"),"data-testid":"owner-user",onClick:r,children:[d.jsx(Wf,{bgColor:Rh(n.name?n.name:n.email),image:n.profile_image??void 0,label:Yw(n.name),labelColor:"white",size:"lg"}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{children:[n.name,"  ",d.jsx("strong",{children:"Owner"})," ",ws(t)&&d.jsx("button",{className:"ml-2 inline-block text-sm font-bold text-green group-hover:visible md:invisible",type:"button",children:"View profile"})]}),d.jsx("span",{className:"text-xs text-grey-700",children:n.email})]})]}):null},jl=({users:n,groupname:e})=>{const{updateRoute:t}=be(),{currentUser:r}=Le(),i=s=>{t({route:`staff/${s.slug}`})};return!n||!n.length?d.jsxs(ei,{icon:"single-user-block",children:["No ",e," found."]}):d.jsx(Yi,{titleSeparator:!1,children:n.map(s=>{let a=s.name||"";s.status==="inactive"&&(a=`${a} (Suspended)`);const o=ws(r)||ab(r)&&f2(s)||r.id===s.id;return d.jsx(Zc,{action:o&&d.jsx(ne,{color:"green",label:"Edit",link:!0,onClick:()=>i(s)}),avatar:d.jsx(Wf,{bgColor:Rh(s.name?s.name:s.email),image:s.profile_image??void 0,label:Yw(s.name),labelColor:"white"}),bgOnHover:o,className:"min-h-[64px]",detail:s.email,hideActions:!0,id:`list-item-${s.id}`,separator:!1,testId:"user-list-item",title:a,onClick:()=>o&&i(s)},s.id)})})},O4=({invite:n})=>{const[e,t]=y.useState(""),[r,i]=y.useState(""),{mutateAsync:s}=t_(),{mutateAsync:a}=e_(),o=gt();let l="Revoke";e==="progress"&&(l="Revoking...");let c="Resend";return r==="progress"&&(c="Resending..."),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ne,{color:"red",label:l,link:!0,onClick:async()=>{try{t("progress"),await s(n.id),pn({title:"Invitation revoked",message:n.email,type:"success"})}catch(u){o(u)}finally{t("")}}}),d.jsx(ne,{className:"ml-2",color:"green",label:c,link:!0,onClick:async()=>{try{i("progress"),await s(n.id),await a({email:n.email,roleId:n.role_id}),pn({title:"Invitation resent",message:n.email,type:"success"})}catch(u){o(u)}finally{i("")}}})]})},T4=({users:n})=>!n||!n.length?d.jsx(ei,{icon:"single-user-block",children:"No invitations found."}):d.jsx(Yi,{children:n.map(e=>d.jsx(Zc,{action:d.jsx(O4,{invite:e}),avatar:d.jsx(Wf,{bgColor:Rh(e.email),image:"",label:e.email.charAt(0).toUpperCase(),labelColor:"white"}),className:"min-h-[64px]",detail:e.role,hideActions:!0,id:`list-item-${e.id}`,separator:!1,testId:"user-invite",title:e.email,onClick:()=>{}},e.id))}),N4=({keywords:n,highlight:e=!0})=>{const{totalUsers:t,totalInvites:r,users:i,ownerUser:s,adminUsers:a,editorUsers:o,authorUsers:l,contributorUsers:c,invites:u,hasNextPage:f,fetchNextPage:h,invitesHasNextPage:p,fetchNextInvitePage:g}=Gw(),{updateRoute:m}=be(),{settings:v,config:b,currentUser:x}=Le(),w=()=>{m("staff/invite")},S=d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Invite people",size:"sm",linkWithPadding:!0,onClick:()=>{w()}}),k=Jw().getParam("tab"),A=k||"administrators",[C,E]=y.useState(A);y.useEffect(()=>{k&&E(k)},[k]);const M=L=>{m(`staff?tab=${L}`),E(L)},R=[{id:"administrators",title:"Administrators",contents:d.jsx(jl,{groupname:"administrators",users:a}),counter:a.length?a.length:void 0},{id:"editors",title:"Editors",contents:d.jsx(jl,{groupname:"editors",users:o}),counter:o.length?o.length:void 0},{id:"authors",title:"Authors",contents:d.jsx(jl,{groupname:"authors",users:l}),counter:l.length?l.length:void 0},{id:"contributors",title:"Contributors",contents:d.jsx(jl,{groupname:"contributors",users:c}),counter:c.length?c.length:void 0},{id:"invited",title:"Invited",contents:d.jsx(T4,{users:u}),counter:r||void 0}],T=rb(v,"require_email_mfa")||!1,{mutateAsync:N}=Xr(),P=gt();return d.jsxs(Se,{customButtons:S,highlightOnModalClose:e,keywords:n,navid:"staff",testId:"users",title:"Staff",children:[d.jsx(R4,{user:s}),(i.length>1||u.length>0)&&d.jsx(Kn,{selectedTab:C,tabs:R,testId:"user-tabview",onTabChange:M}),f&&C!=="invited"&&d.jsx(ne,{label:`Load more (showing ${i.length}/${t} users)`,link:!0,onClick:()=>h()}),p&&C==="invited"&&d.jsx(ne,{label:`Load more (showing ${u.length}/${r} invites)`,link:!0,onClick:()=>g()}),b?.security?.staffDeviceVerification&&ws(x)&&d.jsxs("div",{className:`flex flex-col gap-6 ${i.length>1||u.length>0?"-mt-6":""}`,children:[d.jsx(Ct,{}),d.jsxs("div",{className:"flex items-baseline justify-between",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[1.5rem] font-semibold tracking-tight",children:"Security settings"}),d.jsx("span",{children:"Require email 2FA codes to be used on all staff logins"})]}),d.jsx(rn,{checked:T,direction:"rtl",gap:"gap-0",onChange:async()=>{const L=!T;try{await N([{key:"require_email_mfa",value:L}])}catch($){P($)}}})]})]})]})},mS=Ce(N4,"Staff"),ot={titleAndDescription:["general","title and description","site title","site description","title & description"],timeZone:["general","time","date","site timezone","time zone"],publicationLanguage:["general","publication language","locale"],users:["general","users and permissions","roles","staff","invite people","contributors","editors","authors","administrators"],metadata:["general","metadata","title","description","search","engine","google","meta data","twitter card","structured data","rich cards","x card","social","facebook card"],socialAccounts:["general","social accounts","facebook","twitter","structured data","rich cards"],lockSite:["general","password protection","lock site","make this site private"],analytics:["membership","analytics","tracking","privacy","membership"]},P4=()=>d.jsxs(rs,{keywords:Object.values(ot).flat(),title:"General settings",children:[d.jsx(D4,{keywords:ot.titleAndDescription}),d.jsx(I4,{keywords:ot.timeZone}),d.jsx($_,{keywords:ot.publicationLanguage}),d.jsx(mS,{keywords:ot.users}),d.jsx(U_,{keywords:ot.metadata}),d.jsx(k4,{keywords:ot.socialAccounts}),d.jsx(N_,{keywords:ot.analytics}),d.jsx(L_,{keywords:ot.lockSite})]}),L4=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("embed-signup-form/show")};return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Embed",size:"sm",onClick:t}),description:"Grow your audience from anywhere on the web",keywords:n,navid:"embed-signup-form",testId:"embed-signup-form",title:"Signup forms"})},gS=""+new URL("explore-default-logo-DyP-dkSK.png",import.meta.url).href,_4=""+new URL("ghost-explore-afOk0g_6.png",import.meta.url).href,j4=({keywords:n})=>{const{settings:e}=Le(),{mutateAsync:t}=Xr(),r=gt(),{updateRoute:i}=be(),{refetch:s}=ib({searchParams:{limit:"1"}}),[a,o]=y.useState(0);y.useEffect(()=>{(async()=>{const{data:k}=await s(),A=k?.meta?.pagination?.total||0;o(A)})()},[s]);const[l,c]=Te(e,["accent_color","icon"]),{localSettings:u,siteData:f}=Ot(),[h,p]=Te(u,["title","description"]),[g]=Te(e,["explore_ping"]),[m]=Te(e,["explore_ping_growth"]),v=f?.url,b=v?.replace(/^https?:\/\//,"").replace(/\/?$/,""),x=l||"#F6414E",w=async(S,k)=>{const A=[{key:S,value:k.target.checked}];try{await t(A)}catch(C){r(C)}};return d.jsx(Se,{customButtons:d.jsx(rn,{checked:g,direction:"rtl",testId:"explore-toggle",onChange:S=>w("explore_ping",S)}),description:"Promote your site across Ghost's website and publishing network",keywords:n,navid:"explore",testId:"explore",title:"Ghost Explore",children:g?d.jsxs(Ye,{columns:1,children:[d.jsx(Ct,{}),d.jsx(rn,{checked:m,containerClasses:"!items-center",direction:"rtl",gap:"gap-0",hint:"Enabling this will use your revenue/member growth data to rank your site more highly on Ghost Explore. Total member count will be displayed publicly, other data will be kept private.",label:"Share growth data to rank higher?",labelClasses:"w-full",testId:"explore-growth-toggle",onChange:S=>w("explore_ping_growth",S)}),d.jsx("div",{className:"-mx-5 -mb-5 flex flex-col items-center bg-grey-75 px-7 py-10 md:-mx-7 md:-mb-7","data-testid":"explore-preview",children:d.jsxs("div",{className:"relative w-full max-w-[320px] rounded-lg bg-white p-6 text-black shadow-lg",children:[d.jsx("div",{className:"absolute right-3 top-2.5 text-xs uppercase text-grey-300",children:"Preview"}),c?d.jsx("div",{className:"size-9 rounded-sm bg-cover bg-center",style:{backgroundImage:`url(${c})`}}):d.jsx("div",{className:"flex aspect-square size-10 items-center justify-center overflow-hidden rounded-full p-1 text-white",style:{backgroundColor:x},children:d.jsx("img",{className:"h-auto w-8",src:gS})}),d.jsx("div",{className:"mt-3 text-lg font-semibold tracking-tight",children:h}),p&&d.jsx("div",{className:"mt-1.5 text-sm leading-tight text-grey-700",children:p}),d.jsxs("a",{className:"group mt-8 flex h-6 w-full items-center justify-between gap-5 hover:cursor-pointer",href:v,rel:"noopener noreferrer",target:"_blank",children:[d.jsx("span",{className:"text-sm font-semibold",children:b}),m?d.jsxs("span",{className:"rounded-sm bg-black px-2 py-0.5 text-xs font-semibold text-white","data-testid":"explore-members-count",children:[h2(a),"",a===1?"member":"members"]}):d.jsx("span",{className:"flex size-5 items-center justify-center rounded-full border border-black text-black group-hover:bg-black group-hover:text-white",children:d.jsx(ge,{name:"arrow-right",size:10})})]})]})}),d.jsxs("div",{className:"-mx-5 -mb-5 flex items-center justify-between gap-4 rounded-b-xl border-t border-[rgba(142,66,255,0.1)] bg-gradient-to-tr from-[rgba(142,66,255,0.07)] to-[rgba(142,66,255,0.02)] p-6 px-7 md:-mx-7 md:-mb-7",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"font-medium",children:"Get featured on the Ghost.org homepage"}),d.jsx("span",{className:"text-pretty text-sm text-black/80 dark:text-white/80",children:"Send us a quote we can use to highlight your site"})]}),d.jsx(ne,{className:"border border-purple bg-white text-purple hover:bg-purple/5 hover:text-purple dark:bg-transparent",icon:"send",label:"Send testimonial",onClick:()=>{i("explore/testimonial")}})]})]}):d.jsx("img",{src:_4})})},B4=Ce(j4,"Ghost Explore"),$4=""+new URL("network-BsaAQxl3.png",import.meta.url).href,F4=({keywords:n})=>{const{settings:e}=Le(),{mutateAsync:t}=Xr(),r=gt(),{updateRoute:i}=be(),a=ya()?.isDisabled("limitSocialWeb"),{subdir:o}=yd(),[l]=Te(e,["is_private"]),c=!!o,u=["localhost","127.0.0.1","::1"].includes(window.location.hostname),f=Ph.isIP(window.location.hostname),h=a||c||u||f,p=!!l,g=h||p,[m]=Te(e,["social_web"]),v=!!m&&!g,b=async x=>{const w=[{key:"social_web",value:x.target.checked}];try{await t(w)}catch(S){r(S)}};return d.jsx(Se,{customButtons:d.jsx(rn,{checked:v,direction:"rtl",disabled:g,onChange:b},`${v}-${g}`),description:"Distribute posts to the social web, so people can discover and follow your content across BlueSky, Threads, Mastodon, Flipboard, WordPress, and more.",keywords:n,navid:"network",testId:"network",title:"Network",children:d.jsxs(d.Fragment,{children:[d.jsx(Ye,{columns:1,values:[{key:"private",value:g&&d.jsxs("div",{className:"flex w-full gap-1.5 rounded-md border border-grey-200 bg-grey-75 p-3 text-sm dark:border-grey-900 dark:bg-grey-925",children:[d.jsx(ge,{name:"info",size:16}),d.jsx("div",{className:"-mt-0.5",children:p?d.jsxs(d.Fragment,{children:["Network is automatically disabled while your site is in ",d.jsx("span",{className:"cursor-pointer text-green",onClick:()=>i("locksite"),children:"private mode"})]}):d.jsxs(d.Fragment,{children:["You need to configure a supported custom domain to use this feature. ",d.jsx("a",{className:"text-green",href:"https://ghost.org/help/social-web/#custom-domain-required",rel:"noopener noreferrer",target:"_blank",children:"Help "})]})})]})}]}),d.jsx("div",{className:"-mx-5 -mb-5 overflow-hidden rounded-b-xl md:-mx-7 md:-mb-7",children:d.jsx("img",{className:"dark:opacity-90",src:$4})})]})})},H4=Ce(F4,"Network"),Vv=[{isoCode:"USD",name:"United States dollar"},{isoCode:"EUR",name:"Euro"},{isoCode:"GBP",name:"Pound sterling"},{isoCode:"AUD",name:"Australian dollar"},{isoCode:"CAD",name:"Canadian dollar"},{isoCode:"AED",name:"United Arab Emirates dirham"},{isoCode:"AFN",name:"Afghan afghani"},{isoCode:"ALL",name:"Albanian lek"},{isoCode:"AMD",name:"Armenian dram"},{isoCode:"ANG",name:"Netherlands Antillean guilder"},{isoCode:"AOA",name:"Angolan kwanza"},{isoCode:"ARS",name:"Argentine peso"},{isoCode:"AWG",name:"Aruban florin"},{isoCode:"AZN",name:"Azerbaijani manat"},{isoCode:"BAM",name:"Bosnia and Herzegovina convertible mark"},{isoCode:"BBD",name:"Barbados dollar"},{isoCode:"BDT",name:"Bangladeshi taka"},{isoCode:"BGN",name:"Bulgarian lev"},{isoCode:"BMD",name:"Bermudian dollar"},{isoCode:"BND",name:"Brunei dollar"},{isoCode:"BOB",name:"Boliviano"},{isoCode:"BRL",name:"Brazilian real"},{isoCode:"BSD",name:"Bahamian dollar"},{isoCode:"BWP",name:"Botswana pula"},{isoCode:"BZD",name:"Belize dollar"},{isoCode:"CDF",name:"Congolese franc"},{isoCode:"CHF",name:"Swiss franc"},{isoCode:"CNY",name:"Chinese yuan"},{isoCode:"COP",name:"Colombian peso"},{isoCode:"CRC",name:"Costa Rican colon"},{isoCode:"CVE",name:"Cape Verdean escudo"},{isoCode:"CZK",name:"Czech koruna"},{isoCode:"DKK",name:"Danish krone"},{isoCode:"DOP",name:"Dominican peso"},{isoCode:"DZD",name:"Algerian dinar"},{isoCode:"EGP",name:"Egyptian pound"},{isoCode:"ETB",name:"Ethiopian birr"},{isoCode:"FJD",name:"Fiji dollar"},{isoCode:"FKP",name:"Falkland Islands pound"},{isoCode:"GEL",name:"Georgian lari"},{isoCode:"GIP",name:"Gibraltar pound"},{isoCode:"GMD",name:"Gambian dalasi"},{isoCode:"GTQ",name:"Guatemalan queztal"},{isoCode:"GYD",name:"Guyanese dollar"},{isoCode:"HKD",name:"Hong Kong dollar"},{isoCode:"HNL",name:"Honduran lempira"},{isoCode:"HRK",name:"Croation kuna"},{isoCode:"HTG",name:"Haitian gourde"},{isoCode:"HUF",name:"Hungarian forint"},{isoCode:"IDR",name:"Indonesian rupiah"},{isoCode:"ILS",name:"Israeli new shekel"},{isoCode:"INR",name:"Indian rupee"},{isoCode:"ISK",name:"Icelandic krna"},{isoCode:"JMD",name:"Jamaican dollar"},{isoCode:"KES",name:"Kenyan shilling"},{isoCode:"KGS",name:"Kyrgyzstani som"},{isoCode:"KHR",name:"Cambodian riel"},{isoCode:"KYD",name:"Cayman Islands dollar"},{isoCode:"KZT",name:"Kazakhstani tenge"},{isoCode:"LAK",name:"Lao kip"},{isoCode:"LBP",name:"Lebanese pound"},{isoCode:"LKR",name:"Sri Lankan rupee"},{isoCode:"LRD",name:"Liberian dollar"},{isoCode:"LSL",name:"Lesotho loti"},{isoCode:"MAD",name:"Moroccan dirham"},{isoCode:"MDL",name:"Moldovan leu"},{isoCode:"MKD",name:"Macedonian denar"},{isoCode:"MMK",name:"Myanmar kyat"},{isoCode:"MNT",name:"Mongolian tgrg"},{isoCode:"MOP",name:"Macanese pataca"},{isoCode:"MRO",name:"Mauritanian ouguiya"},{isoCode:"MUR",name:"Mauritian rupee"},{isoCode:"MVR",name:"Maldivian rufiyaa"},{isoCode:"MWK",name:"Malawian kwacha"},{isoCode:"MXN",name:"Mexican peso"},{isoCode:"MYR",name:"Malaysian ringgit"},{isoCode:"MZN",name:"Mozambican metical"},{isoCode:"NAD",name:"Namibian dollar"},{isoCode:"NGN",name:"Nigerian naira"},{isoCode:"NIO",name:"Nicaraguan crdoba"},{isoCode:"NOK",name:"Norwegian krone"},{isoCode:"NPR",name:"Nepalese rupee"},{isoCode:"NZD",name:"New Zealand dollar"},{isoCode:"PAB",name:"Panamanian balboa"},{isoCode:"PEN",name:"Peruvian sol"},{isoCode:"PGK",name:"Papua New Guinean kina"},{isoCode:"PHP",name:"Philippine peso"},{isoCode:"PKR",name:"Pakistani rupee"},{isoCode:"PLN",name:"Polish zoty"},{isoCode:"QAR",name:"Qatari riyal"},{isoCode:"RON",name:"Romanian leu"},{isoCode:"RSD",name:"Serbian dinar"},{isoCode:"RUB",name:"Russian ruble"},{isoCode:"SAR",name:"Saudi riyal"},{isoCode:"SBD",name:"Solomon Islands dollar"},{isoCode:"SCR",name:"Seychelles rupee"},{isoCode:"SEK",name:"Swedish krona"},{isoCode:"SGD",name:"Singapore dollar"},{isoCode:"SHP",name:"Saint Helena pound"},{isoCode:"SLL",name:"Sierra Leonean leone"},{isoCode:"SOS",name:"Somali shilling"},{isoCode:"SRD",name:"Surinamese dollar"},{isoCode:"STD",name:"So Tom and Prncipe dobra"},{isoCode:"SZL",name:"Salvadoran coln"},{isoCode:"THB",name:"Thai baht"},{isoCode:"TJS",name:"Tajikistani somoni"},{isoCode:"TOP",name:"Tongan paanga"},{isoCode:"TRY",name:"Turkish lira"},{isoCode:"TTD",name:"Trinidad and Tobago dollar"},{isoCode:"TWD",name:"New Taiwan dollar"},{isoCode:"TZS",name:"Tanzanian shilling"},{isoCode:"UAH",name:"Ukrainian hryvnia"},{isoCode:"UYU",name:"Uruguayan peso"},{isoCode:"UZS",name:"Uzbekistan som"},{isoCode:"WST",name:"Samoan tala"},{isoCode:"XCD",name:"East Caribbean dollar"},{isoCode:"YER",name:"Yemeni rial"},{isoCode:"ZAR",name:"South African rand"},{isoCode:"ZMW",name:"Zambian kwacha"}];function V4(){return{top:Vv.slice(0,5),other:Vv.slice(5)}}function Uv({showName:n=!1}={}){return Object.values(V4()).map((e,t)=>({label:"",key:t.toString(),options:e.map(({isoCode:r,name:i})=>({value:r,label:n?`${r} - ${i}`:r}))}))}function Qs(n){return n?Intl.NumberFormat("en",{currency:n,style:"currency"}).format(0).replace(/[\d\s.]/g,""):""}function Bi(n){return n/100}function U4(n){switch(n?.toUpperCase()){case"AED":return 4;case"BGN":return 2;case"CZK":return 30;case"DKK":return 5;case"HKD":return 8;case"HUF":return 250;case"JPY":return 100;case"MXN":return 20;case"MYR":return 4;case"NOK":return 6;case"PLN":return 4;case"RON":return 4;case"SEK":return 6;case"THB":return 20;default:return 1}}function z4(n,e,{allowZero:t=!0,maxAmount:r}={}){if(n===void 0||!e)return;const i=Qs(e),s=U4(e);if(!t&&n===0)return`Amount must be at least ${i}${s}.`;if(n!==0&&n<s*100)return`Non-zero amount must be at least ${i}${s}.`;if(r&&n!==0&&n>r*100)return`Suggested amount cannot be more than ${i}${r}.`}const vS=n=>{const e="/ghost/#/members",t=`offer_redemptions:[${n}]`;return`${e}?filter=${encodeURIComponent(t)}`},W4=n=>n==="month"?"monthly":"yearly",q4=n=>n==="once"?"First payment":n==="repeating"?"Repeating":"Forever",bS=(n,e,t,r,i)=>{let s="",a="";const o=t==="month"?i?.monthly_price??0:i?.yearly_price??0;let l=o;const c=h=>parseFloat(h.toFixed(2));let u=Qs(r)+kn(c(Bi(o)));switch(n){case"percent":s="text-green",a=e+"% off",l=o-o*e/100;break;case"fixed":s="text-blue",a=kn(c(Bi(e)))+" "+r+" off",l=o-e;break;case"trial":s="text-pink",a=e+" days free",u="";break}l<0&&(l=0);const f=Qs(r)+kn(c(Bi(l)));return{discountColor:s,discountOffer:a,originalPriceWithCurrency:u,updatedPriceWithCurrency:f}},xS=({offerCode:n})=>{const[e,t]=y.useState(!1),{siteData:r}=Le(),i=s=>{s?.stopPropagation();const a=`${p2(r)}${n}`;navigator.clipboard.writeText(a),t(!0),setTimeout(()=>t(!1),2e3)};return d.jsx(zf,{containerClassName:"group-hover:opacity-100 opacity-0 inline-flex items-center -mr-1 justify-center leading-none w-5 h-5",content:e?"Copied":"Copy link",size:"sm",children:d.jsx(ne,{color:"clear",hideLabel:!0,icon:e?"check-circle":"hyperlink-circle",iconColorClass:e?"text-green w-[14px] h-[14px]":"w-[14px] h-[14px]",label:e?"Copied":"Copy",unstyled:!0,onClick:i})})},zv=({title:n="No offers found",description:e,buttonAction:t,buttonLabel:r})=>d.jsxs("div",{className:"flex h-full grow flex-col items-center justify-center text-center",children:[d.jsx(ge,{className:"-mt-14",colorClass:"text-grey-700 -mt-6",name:"tags-block",size:"xl"}),d.jsx("h1",{className:"mt-6 text-2xl",children:n}),d.jsx("p",{className:"mt-3 max-w-[420px] text-[1.6rem]",children:e}),d.jsx(ne,{className:"mt-8",color:"grey",label:r,onClick:t})]}),P6=()=>{const n=ir(),{updateRoute:e}=be(),{data:{offers:t=[]}={},isFetching:r}=Zw(),{data:{tiers:i}={}}=$c(),s=t.filter(k=>k.redemption_type==="signup"),a=s.filter(k=>{const A=i?.find(C=>C.id===k?.tier?.id);return k.status==="active"&&A&&A.active===!0}),o=s.filter(k=>{const A=i?.find(C=>C.id===k?.tier?.id);return k.status==="archived"||A&&A.active===!1});let l=[{id:"active",title:"Active"},{id:"archived",title:"Archived"}];const{sortingState:c,setSortingState:u}=OL(),f=c?.find(k=>k.type==="offers"),[h,p]=y.useState("active"),g=f?.option||"date-added",m=f?.direction||"desc",v=k=>{sessionStorage.setItem("editOfferPageSource","offersIndex"),e(`offers/edit/${k}`)},b=s.sort((k,A)=>{const C=m==="desc"?-1:1;switch(g){case"name":return C*k.name.localeCompare(A.name);case"redemptions":return C*(k.redemption_count-A.redemption_count);default:return C*((k.created_at?new Date(k.created_at).getTime():0)-(A.created_at?new Date(A.created_at).getTime():0))}}),x=lb(i||[]),w=d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"m-0 w-full",children:[h==="active"&&a.length>0||h==="archived"&&o.length>0?d.jsxs("tr",{className:"border-b border-b-grey-300 dark:border-grey-800",children:[d.jsxs("th",{className:"px-5 py-2.5 pl-0 text-xs font-normal text-grey-700",children:[h==="active"?a.length:o.length," ",h==="active"?a.length!==1?"offers":"offer":o.length!==1?"offers":"offer"]}),d.jsx("th",{className:"px-5 py-2.5 text-xs font-normal text-grey-700",children:"Terms"}),d.jsx("th",{className:"px-5 py-2.5 text-xs font-normal text-grey-700",children:"Price"}),d.jsx("th",{className:"px-5 py-2.5 text-xs font-normal text-grey-700",children:"Redemptions"}),d.jsx("th",{className:"min-w-[80px] px-5 py-2.5 pr-0 text-xs font-normal text-grey-700"})]}):null,b.filter(k=>{const A=i?.find(C=>C.id===k?.tier?.id);return h==="active"&&k.status==="active"&&A&&A.active===!0||h==="archived"&&(k.status==="archived"||A&&A.active===!1)}).map(k=>{const A=i?.find(T=>T.id===k?.tier?.id);if(!A)return null;const C=A?.active===!1,{discountOffer:E,originalPriceWithCurrency:M,updatedPriceWithCurrency:R}=bS(k.type,k.amount,k.cadence,k.currency||"USD",A);return d.jsxs("tr",{className:"group relative scale-100 border-b border-b-grey-200 dark:border-grey-800","data-testid":"offer-item",children:[d.jsx("td",{className:`${C?"opacity-50":""} p-0`,children:d.jsxs("a",{className:`block ${C?"cursor-default select-none":"cursor-pointer"} p-5 pl-0`,onClick:C?()=>{}:()=>v(k?.id?k.id:""),children:[d.jsx("span",{className:"font-semibold",children:k?.name}),d.jsx("br",{}),d.jsxs("span",{className:"text-sm text-grey-700",children:[A.name," ",W4(k.cadence)]})]})}),d.jsx("td",{className:`${C?"opacity-50":""} whitespace-nowrap p-0 text-sm`,children:d.jsxs("a",{className:`block ${C?"cursor-default select-none":"cursor-pointer"} p-5`,onClick:C?()=>{}:()=>v(k?.id?k.id:""),children:[d.jsx("span",{className:"text-[1.3rem] font-medium uppercase",children:E}),d.jsx("br",{}),d.jsx("span",{className:"text-grey-700",children:k.type!=="trial"?q4(k.duration):"Trial period"})]})}),d.jsx("td",{className:`${C?"opacity-50":""} whitespace-nowrap p-0 text-sm`,children:d.jsxs("a",{className:`block ${C?"cursor-default select-none":"cursor-pointer"} p-5`,onClick:C?()=>{}:()=>v(k?.id?k.id:""),children:[d.jsx("span",{className:"font-medium",children:R})," ",k.type!=="trial"?d.jsx("span",{className:'relative text-xs text-grey-700 before:absolute before:-inset-x-0.5 before:top-1/2 before:rotate-[-20deg] before:border-t before:content-[""]',children:M}):null]})}),d.jsx("td",{className:`${C?"opacity-50":""} w-[120px] whitespace-nowrap p-0 text-sm`,children:d.jsx("a",{className:`block ${C?"cursor-default select-none":"cursor-pointer"} p-5 ${k.redemption_count===0?"":"hover:underline"}`,href:k.redemption_count>0?vS(k.id?k.id:""):void 0,onClick:k.redemption_count===0?C?()=>{}:()=>v(k?.id?k.id:""):()=>{},children:k.redemption_count})}),d.jsx("td",{className:`${C?"opacity-50":""} w-[120px] whitespace-nowrap p-5 pr-8 text-right text-sm leading-none`,children:C?null:d.jsx(xS,{offerCode:k.code})}),C?d.jsxs("div",{className:"absolute right-0 top-[11px] whitespace-nowrap rounded-sm bg-black px-2 py-0.5 text-xs leading-normal text-white opacity-0 transition-all group-hover:opacity-100 dark:bg-grey-950",children:["This offer is disabled, because ",d.jsx("br",{})," it is tied to an archived tier."]}):null]})})]})}),S=[{key:"cancel-modal",label:"Close",onClick:()=>{n.remove(),e("offers")}},{key:"new-offer",icon:"add",label:"New offer",color:"green",onClick:()=>{x.length===0?pn({type:"info",title:"You must have an active tier to create an offer."}):e("offers/new")}}];return d.jsx(Or,{afterClose:()=>{e("offers")},animate:!1,backDropClick:!1,cancelLabel:"",footer:!1,height:"full",size:"lg",testId:"offers-modal",title:"Offers",topRightContent:d.jsx(Ns,{buttons:S}),width:1140,children:d.jsxs("div",{className:"flex h-full flex-col pt-8",children:[d.jsx("header",{children:d.jsx(Kn,{selectedTab:h,tabs:l,topRightContent:h==="active"&&a.length>0||h==="archived"&&o.length>0?d.jsx("div",{className:"pt-1",children:d.jsx(fD,{direction:m,items:[{id:"date-added",label:"Date added",selected:g==="date-added",direction:m},{id:"name",label:"Name",selected:g==="name",direction:m},{id:"redemptions",label:"Redemptions",selected:g==="redemptions",direction:m}],position:"end",triggerButtonProps:{link:!0},onDirectionChange:k=>{u?.([{type:"offers",option:g,direction:k==="asc"?"desc":"asc"}])},onSortChange:k=>{u?.([{type:"offers",option:k,direction:m}])}})}):null,onTabChange:p})}),h==="active"&&a.length===0&&!r?d.jsx(zv,{buttonAction:()=>e("offers/new"),buttonLabel:"Create an offer",description:"Grow your audience with discounts or free trials."}):null,h==="archived"&&o.length===0&&!r?d.jsx(zv,{buttonAction:()=>p("active"),buttonLabel:"Back to active",description:"All archived offers will be shown here."}):null,w]})})},G4=({offerTitle:n,tier:e,cadence:t,redemptions:r,type:i,amount:s,currency:a,offerId:o,offerCode:l,goToOfferEdit:c})=>{const{discountOffer:u}=bS(i,s,t,a||"USD",e);return d.jsxs("div",{className:"group flex h-full cursor-pointer flex-col justify-between gap-4 break-words rounded-sm border border-transparent bg-grey-100 p-5 transition-all hover:border-grey-100 hover:bg-grey-75 hover:shadow-sm min-[900px]:min-h-[187px] dark:bg-grey-950 dark:hover:border-grey-800",onClick:()=>c(o),children:[d.jsx("span",{className:"text-[1.65rem] font-bold leading-tight tracking-tight text-black dark:text-white",children:n}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-sm font-semibold uppercase",children:u}),d.jsxs("div",{className:"flex gap-1 text-xs",children:[d.jsx("span",{className:"font-semibold",children:e.name}),d.jsx("span",{className:"text-grey-700",children:t==="month"?"monthly":"yearly"})]}),d.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[d.jsxs("a",{className:`text-xs text-grey-700 hover:text-black ${r===0?"pointer-events-none":"hover:underline"}`,"data-test-offer":n,href:vS(o),children:[kn(r)," ",r===1?"redemption":"redemptions"]}),d.jsx(xS,{offerCode:l})]})]})]})},K4=({keywords:n})=>{const{updateRoute:e}=be(),{settings:t,config:r}=Le(),i=vu("retentionOffers"),{data:{offers:s=[]}={}}=Zw(),{data:{tiers:a}={}}=$c(),o=lb(a||[]),l=s.filter(x=>x.redemption_type==="signup"),c=l.map(x=>({...x,tier:o.find(w=>w.id===x.tier?.id)})).filter(x=>x.status==="active"&&!!x.tier);c.sort((x,w)=>{const S=x.created_at?new Date(x.created_at):new Date(0);return(w.created_at?new Date(w.created_at):new Date(0)).getTime()-S.getTime()});const u=c.slice(0,3),f=()=>{e("offers/edit")},h=()=>{e("offers/new")},p=()=>{e("/tiers")},g=x=>{sessionStorage.setItem("editOfferPageSource","offers"),e(`offers/edit/${x}`)};let m="Manage offers",v=f,b="Learn more";return l.length>0?(m="Manage offers",v=f):o.length===0&&l.length===0?(m="",v=p,b=""):o.length>0&&l.length===0&&(m="Add offer",v=h),d.jsxs(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",disabled:!Qn(t,r),label:m,size:"sm",onClick:v}),description:d.jsxs(d.Fragment,{children:[i?"Create discounts & coupons to boost new subscriptions and retain existing members.":"Create discounts & coupons to boost new subscriptions."," ",l.length===0&&d.jsx(d.Fragment,{children:d.jsx("a",{className:"text-green",href:"https://ghost.org/help/offers",rel:"noopener noreferrer",target:"_blank",children:b})})]}),keywords:n,navid:"offers",testId:"offers",title:"Offers",children:[!i&&u.length>0?d.jsxs("div",{children:[d.jsx("div",{className:"grid grid-cols-1 gap-4 min-[900px]:grid-cols-3",children:u.map(x=>d.jsx(G4,{amount:x.amount,cadence:x.cadence,currency:x.currency||"USD",goToOfferEdit:g,offerCode:x.code,offerId:x.id,offerTitle:x.name,redemptions:x.redemption_count,tier:x.tier,type:x.type},x.id))}),l.length>3&&d.jsx("div",{className:"mt-4 border-t border-t-grey-200 pt-2",children:d.jsxs("span",{className:"text-xs text-grey-700 dark:text-grey-600",children:[l.length," offers in total"]})})]}):null,o.length===0&&l.length===0?d.jsxs("div",{children:[d.jsx("span",{children:"You must have an active tier to create an offer."})," ",d.jsx(ne,{className:"font-normal",color:"green",label:"Manage tiers",link:!0,linkWithPadding:!0,onClick:p})]}):""]})},Z4=Ce(K4,"Portal settings"),Y4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZZSURBVHgBzVpNcFNVFD73PdoitEkc21IGCnHnTHEmyMqyAfyhcQWOI+4Kg5aVAgqOC37a0YUCSgszzrSg1p1lHGEHbmxZNIzjOJSR7nAIrVMDyeIlVARjcjnfS194eXl/SdPSbybJfffe93L+7jnnnvsEVYgQo66uLkykRkgREZIiSEKGBVEY41KKEAkK2d4sSRNCapKExhea4F9J8g6P3JY5eSOVSoxRhRB+JulENzzTzc0dTHDEkcCaQI5RXhnOqrmrWiIR95rtykBzc9sWoYrjPG0LPQ1IGs4q+T43RmwZKEh8JRMuD9CSgOxP3v37oN1IGQOhtrZwnVQucjNCSwvxrMhvtWqjhIGC5Fdcp7kFWS3a29fyp53W8SedTlM6k6FMOkM3JydpnpjIPnqwVWMYHcvMo3NmE6YKsWFDB0W7uqiz82XazB83xGLXaDwWox9GLtD09F9UISLsTJhGrWhORQ3Mmc5tqgAg9tChjzyJdgKYOXHqS/23Ekg2pVSi4HKLDLS0rh4mIbr9PADmcWbgdNWEWwFtnGRG/GtEjvGi3oqWzkAl0o92baezZ/opEAiUjcHWJ29O0h/8mWR7n5qeZqKmdYYNM3NiGvOOHD1Ol6/8TH7Aa+FZrAWdgeZVqw9wVDztddNhNpfDhz4s6zdM4SYTnmEm3ABm8Ix3dr1tO37y1Fe6NrwgJfWl7s306gy0rFo96hWs7IiHpI8eO16xDQNg5OJPP7KnWls25o+JghmpaK5sDAy7TYXZnDzxeUnf0NA52r1nbzWeRAc0NXLhArW2turmZQbMDNq8detPlyeIcH2dOiAK6YIy6jQNkrrEkmo3SQrEHznWS7UCHILVpNIcN7a9+pq7gPLZjQqpwjXiwmzMxGNh1pJ4AGYIiZsRDAbo7EC/6315qo8okpSw0wQEJqtkYJ+1BqTdzeY4ZZE2/r/TxVUrSj6iCCnXO03AwjUD0h9hn70QgBv9YH957vixhYYS8F5E4Q2GbW4P27f67IUi3gC8GWKBGdBAu42nAiRvpBR9B2WDaHR7Wd94Fe6yUgydO1/2P04xg2NXWFEcdleImlZYF9pCwRoDNnd2Os5lDdgzYDUf2KhXlK0VChnrEy10dHQ4TQ0pdvtbuxuqDVjVwqwFuFSHdcAM2AA3WIEcfjGBZDBt0jicih0U8onFWMBmIDZMT015zvPNwGItYDPSmfuec2wZAPfW68VawJXClgErsZlMmp4GgoGmYtvJAmwZgMv0s4AWEoVd3Aa97WIBGscxituNxMavWR5oH84XCvt69hbbLg5Ec1zE49dK3WY02kWLBUg/2hUtXl++csVpqqbkuWJsN4LEzWxGb3QtHgOffdpXovGYQwziyraugbjdIOxuZGSkeO2Vm9cKSOGxhTXgVgATUsQVKcQdp4cNDn1TogXX3LwGgOSthQO3zb0kuqOubGx8gdNSW/vAyl/e0FDMBmGbwWCQfhkdo1rC2Hdb1xmId6sTqSLXr65oalzODOx2moTMEKk1qgfApk0vETLxWI1Si56e9+jc4Ndlrhq7P1Q93CDzuS/U+mXNmros94nbREgc0jGSvEKqPT8m8Izvv/tW36w0sJatxO988y2v6K8l79096LuwhdoNClFBU0kRAW8H/1ElqbZXQRhrDsR75V7sgcZSXNjS4wBvK6+SB/DAba+8XlI5gNp//+1X3X4hSbt6KYD+fT3v6gLAx4l4Q/J+Ekfeyw/rv/hqaVnDJ47yOvmAV2XaqI+CmEAgSC+y5vxEcZjj+1yV8KtNVeSfT/BpzZPyug8zMmMXSxw+e908UwyYDLzN0NB5/zfx4V/y3sweNIsMNLdxiVE6lxidUC0j0BRShEEmvNJU3ZA+2iVnZM+tWtOvkNxPVQCLHJEaLhcL3VqwhWngjAxbUxBfrQeTgsvqiZle49pyyBcO1dX/N8q9S+2E0sBE8u7MRnNHSTaqaXFNVfI72cYmaOlhgk1np7VTtXbMzs5qD/65P7iiqUmwerbQkoAcyD76d08qlUpYR1xfNWjjs7NcXvT6PfyrNRCsOOXsM04k7eDrZQ+dEdYGB7xuscAvexSIFldFLnspmUx6mrIvBqxA4MuLfJiTwAintOs5KobZPYT0Srfb6zYFEuP6txQaz+NANPe6jZA3/n/4cMJ8Cu8HjwHQPddRjKN7RgAAAABJRU5ErkJggg==",Lh=({title:n,favicon:e,featured_image:t,isGhostSite:r})=>{const[i,s]=y.useState(e||t||null),a=()=>{s(null)};if(!i)return d.jsx("div",{className:"relative size-6 shrink-0 rounded-sm"});const o=r?"This is a Ghost site that supports one-click subscribe":"";return d.jsxs("div",{className:"dark:group-hover/table-row:bg-grey-950 relative size-6 shrink-0 rounded-sm",title:o,children:[d.jsx("img",{alt:n,className:"size-6 rounded-sm",src:i,onError:a}),r&&d.jsx("img",{alt:"Ghost Logo",className:"absolute bottom-[-3px] right-[-3px] size-[14px]",src:Y4})]})},Sa="RecommendationResponseType",J4=Of({dataType:Sa,path:"/recommendations/",returnData:n=>{const{pages:e}=n;let t=e.flatMap(r=>r.recommendations);return t=t.filter((r,i)=>t.findIndex(({id:s})=>s===r.id)===i),{recommendations:t,meta:e[e.length-1].meta}}}),X4=ze({method:"DELETE",path:n=>`/recommendations/${n.id}/`,invalidateQueries:{dataType:Sa}}),Q4=ze({method:"PUT",path:n=>`/recommendations/${n.id}/`,body:n=>({recommendations:[n]}),invalidateQueries:{dataType:Sa}}),L6=ze({method:"POST",path:()=>"/recommendations/",body:({...n})=>({recommendations:[n]}),invalidateQueries:{dataType:Sa}}),_6=ze({method:"POST",path:()=>"/recommendations/check/",body:n=>({recommendations:[{url:n.toString()}]})}),ej=Of({dataType:Sa,path:"/incoming_recommendations/",returnData:n=>{const{pages:e}=n;let t=e.flatMap(r=>r.recommendations);return t=t.filter((r,i)=>t.findIndex(({id:s})=>s===r.id)===i),{recommendations:t,meta:e[e.length-1].meta}}}),tj=({incomingRecommendation:n,stats:e})=>{const{updateRoute:t}=be(),r=y.useMemo(()=>{let o=n.url;try{o=new URL(n.url).hostname.replace(/^www\./,"")}catch{}return e.reduce((l,c)=>c.source===o?l+c.signups:l,0)},[e,n.url]),i=()=>{t({route:`recommendations/add?url=${n.url}`})},s=()=>{window.open(n.url,"_blank")},a=r===1?"free member":"free members";return d.jsxs(tu,{action:!n.recommending_back&&d.jsx("div",{className:"flex items-center justify-end",children:d.jsx(ne,{color:"green",label:"Recommend back",size:"sm",link:!0,onClick:i})}),testId:"incoming-recommendation-list-item",hideActions:!0,children:[d.jsx(Hn,{className:"w-80",onClick:s,children:d.jsx("div",{className:"group flex items-center gap-3 hover:cursor-pointer",children:d.jsx("div",{className:"flex grow flex-col",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Lh,{favicon:n.favicon,featured_image:n.featured_image,title:n.title||n.url}),d.jsx("span",{className:"line-clamp-1 font-medium",children:n.title||n.url})]})})})}),d.jsx(Hn,{className:"hidden w-auto whitespace-nowrap text-left align-middle md:!visible md:!table-cell",padding:!1,onClick:s,children:r===0?d.jsx("span",{className:"text-grey-500 dark:text-grey-900",children:"-"}):d.jsx("div",{className:"mr-2",children:d.jsx("span",{children:kn(r)})})}),d.jsx(Hn,{className:"hidden w-[1%] whitespace-nowrap align-middle md:!visible md:!table-cell",onClick:s,children:r===0?null:d.jsx("div",{className:"-mt-px text-left",children:d.jsx("span",{className:"-mb-px inline-block min-w-[60px] whitespace-nowrap text-left text-sm lowercase text-grey-700",children:a})})}),n.recommending_back&&d.jsx(Hn,{className:"w-[1%] whitespace-nowrap group-hover/table-row:visible md:invisible",children:d.jsx("div",{className:"mt-1 whitespace-nowrap text-right text-sm text-grey-700",children:"Recommending"})})]})},nj=({incomingRecommendations:n,stats:e,pagination:t,showMore:r,isLoading:i})=>i||n.length?d.jsx(Ti,{isLoading:i,pagination:t,showMore:r,hintSeparator:!0,children:n.map(s=>d.jsx(tj,{incomingRecommendation:s,stats:e},s.id))}):d.jsx(ei,{children:d.jsx("span",{className:"max-w-[40ch] text-center",children:"No ones recommended you yet. Once they do, youll find them here along with how many memberships theyve driven."})}),Wv=function(n,e,t){const r={...n};switch(e){case"title":t?delete r.title:r.title="Title is required";break;case"description":t&&t.length>200?r.description="Description cannot be longer than 200 characters":delete r.description;break;default:const i=e;throw new Error(`Unknown field ${i}`)}return r},yS=function(n){let e={};return e=Wv(e,"title",n.title),e=Wv(e,"description",n.description),e},rj=({showURL:n,formState:e,updateForm:t,errors:r,clearError:i,setErrors:s})=>{const[a,o]=Y.useState(e?.description?.length||0),l=a>200?"text-red":"text-green",c=Y.useRef(!1);return Y.useEffect(()=>{c.current||(c.current=!0,s(yS(e)))},[e,s]),d.jsxs(X2,{marginBottom:!1,marginTop:!0,children:[d.jsxs("div",{children:[d.jsx(ft,{className:"mb-2 block text-2xs font-semibold uppercase tracking-wider",grey:!0,level:6,children:"Preview"}),d.jsx("div",{className:"-mx-8 flex items-center justify-center overflow-hidden border-y border-grey-100 bg-grey-50 px-7 py-4 dark:border-grey-950 dark:bg-black",children:d.jsx("div",{className:"w-full rounded bg-white py-3 shadow",children:d.jsx("div",{className:"",children:d.jsxs("a",{className:"flex items-center justify-between bg-white px-5 py-3",href:e.url,rel:"noopener noreferrer",target:"_blank",children:[d.jsxs("div",{className:"flex flex-col gap-[2px]",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Lh,{...e}),d.jsx("span",{className:"text-[1.6rem] font-semibold text-grey-900",children:e.title})]}),e.description&&d.jsx("span",{className:"pl-[31px] text-[1.35rem] leading-snug text-grey-700",children:e.description})]}),e.one_click_subscribe&&d.jsx("span",{className:"flex whitespace-nowrap pl-6 text-md font-semibold text-green",children:"Subscribe"})]})})})}),e.one_click_subscribe&&d.jsx(Mn,{children:"This is a Ghost site, so your readers can subscribe with just one click"})]}),n&&d.jsx(rI,{disabled:!0,title:"URL",value:e.url,onChange:u=>t(f=>({...f,url:u||""}))}),d.jsx(tt,{autoFocus:!0,error:!!r.title,hint:r.title,maxLength:2e3,title:"Title",value:e.title??"",onChange:u=>{i?.("title"),t(f=>({...f,title:u.target.value}))}}),d.jsx(dx,{error:!!r.description,hint:d.jsxs(d.Fragment,{children:["Max: ",d.jsx("strong",{children:"200"})," characters. Youve used ",d.jsx("strong",{className:l,children:a})]}),rows:4,title:"Short description",value:e.description??"",onChange:u=>{i?.("description"),o(u.target.value.length),t(f=>({...f,description:u.target.value}))}})]})},ij=({recommendation:n,animate:e})=>{const t=ir(),{updateRoute:r}=be(),{mutateAsync:i}=Q4(),{mutateAsync:s}=X4(),a=gt(),{formState:o,updateForm:l,handleSave:c,errors:u,clearError:f,setErrors:h,okProps:p}=Qf({initialState:{...n},savingDelay:500,savedDelay:500,onSave:async m=>{await i(m)},onSaveError:a,onValidate:m=>yS(m)});let g={label:"Delete",link:!0,color:"red",size:"sm",onClick:()=>{t.remove(),Ke.show(Gr,{title:"Delete recommendation",prompt:d.jsx(d.Fragment,{children:d.jsxs("p",{children:["Your recommendation ",d.jsx("strong",{children:n.title})," will no longer be visible to your audience."]})}),okLabel:"Delete",onOk:async m=>{try{await s(n),m?.remove()}catch(v){pn({title:"Failed to delete the recommendation",message:"Please try again later.",type:"error"}),a(v,{withToast:!1})}}})}};return d.jsx(Or,{afterClose:()=>{r("recommendations")},animate:e??!0,backDropClick:!1,buttonsDisabled:p.disabled,cancelLabel:"Close",leftButtonProps:g,okColor:p.color,okLabel:p.label||"Save",size:"sm",testId:"edit-recommendation-modal",title:"Edit recommendation",stickyFooter:!0,onOk:async()=>{m2();try{await c({force:!0})}catch{pn({title:"Something went wrong",type:"error",message:"Please try again later."})}},children:d.jsx(rj,{clearError:f,errors:u,formState:o,setErrors:h,showURL:!0,updateForm:l})})},sj=Ke.create(ij),aj=({recommendation:n})=>{const{route:e}=be(),t=()=>{Ke.show(sj,{pathName:e,animate:!1,recommendation:n})},r=n.one_click_subscribe,i=r&&!!n.count?.subscribers,s=(i?n.count?.subscribers:n.count?.clicks)||0,a=s===1?"signup":"signups",o=s===1?"click":"clicks";return d.jsxs(tu,{className:"group hover:cursor-pointer",testId:"recommendation-list-item",onClick:t,children:[d.jsx(Hn,{className:"w-80",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Lh,{isGhostSite:r,...n}),d.jsx("span",{className:"line-clamp-1 font-medium",children:n.title})]})}),d.jsx(Hn,{className:"hidden w-auto whitespace-nowrap text-left align-middle md:!visible md:!table-cell",children:s===0?d.jsx("span",{className:"text-grey-500 dark:text-grey-900",children:"-"}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"mr-2",children:d.jsx("span",{children:kn(s)})}),d.jsxs("div",{className:"text-sm lowercase text-grey-700",children:[d.jsx("span",{children:i?a:o}),d.jsx("span",{className:"invisible group-hover:visible",children:" from you"})]})]})})})]})},oj=({recommendations:n,pagination:e,showMore:t,isLoading:r})=>{const{siteData:i}=Ot(),s=`${i?.url.replace(/\/$/,"")}/#/portal/recommendations`,{updateRoute:a}=be(),o=()=>{a("recommendations/add")},[l,c]=y.useState(!1),u=()=>{navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)};return r||n.length?d.jsx(Ti,{hint:d.jsxs("span",{className:"flex items-center gap-1",children:["Shared with new members after signup, or anytime using ",d.jsx(Ls,{href:s,target:"_blank",children:"this link"}),d.jsx(zf,{containerClassName:"leading-none",content:l?"Copied":"Copy link",size:"sm",children:d.jsx(ne,{color:"clear",hideLabel:!0,icon:l?"check-circle":"duplicate",iconColorClass:l?"text-green w-[14px] h-[14px]":"text-grey-600 hover:opacity-80 w-[14px] h-[14px]",label:l?"Copied":"Copy",unstyled:!0,onClick:u})})]}),isLoading:r,pagination:e,showMore:t,hintSeparator:!0,children:n&&n.map(f=>d.jsx(aj,{recommendation:f},f.id))}):d.jsxs(ei,{children:[d.jsx(ne,{color:"grey",label:"Add first recommendation",size:"sm",onClick:()=>{o()}}),d.jsxs("span",{className:"mt-2 max-w-[40ch] text-center text-xs",children:["Need inspiration? ",d.jsx(Ls,{href:"https://ghost.org/explore",target:"_blank",children:"Explore thousands of sites"})]})]})},lj=({keywords:n})=>{const{saveState:e,handleSave:t}=Ot(),{data:{meta:r,recommendations:i}={},isLoading:s,hasNextPage:a,fetchNextPage:o}=J4({searchParams:{include:"count.clicks,count.subscribers",order:"created_at desc",limit:"5"},getNextPageParams:(E,M)=>{if(!E.meta)return;const{limit:R,page:T,pages:N}=E.meta.pagination;if(T>=N)return;const P=typeof R=="number"&&R<100?1:T+1;return{...M,page:P.toString(),limit:"100"}},keepPreviousData:!0}),l={hasMore:!!a,loadMore:o},{data:{recommendations:c,meta:u}={},isLoading:f,hasNextPage:h,fetchNextPage:p}=ej({searchParams:{limit:"5",order:"created_at desc"},getNextPageParams:(E,M)=>{if(!E.meta)return;const{limit:R,page:T,pages:N}=E.meta.pagination;if(T>=N)return;const P=typeof R=="number"&&R<100?1:T+1;return{...M,page:P.toString(),limit:"100"}},keepPreviousData:!0}),{data:{stats:g}={},isLoading:m}=I2({}),v={hasMore:!!h,loadMore:p},[b,x]=y.useState("your-recommendations"),w=[{id:"your-recommendations",title:"Your recommendations",counter:r?.pagination?.total,contents:d.jsx(oj,{isLoading:s,recommendations:i??[],showMore:l})},{id:"recommending-you",title:"Recommending you",counter:u?.pagination?.total,contents:d.jsx(nj,{incomingRecommendations:c??[],isLoading:f||m,showMore:v,stats:g??[]})}],S=d.jsx(d.Fragment,{children:"Recommend any publication that your audience will find valuable, and find out when others are recommending you."}),{updateRoute:k}=be(),A=()=>{k("recommendations/add")},C=d.jsx(ne,{className:"mt-[-5px] hidden md:!visible md:!block",color:"clear",label:"Add recommendation",size:"sm",onClick:()=>{A()}});return d.jsxs(Se,{beta:!0,customButtons:C,description:S,keywords:n,navid:"recommendations",saveState:e,testId:"recommendations",title:"Recommendations",onSave:t,children:[d.jsx("div",{className:"flex justify-center rounded border border-green px-4 py-2 md:hidden",children:d.jsx(ne,{color:"light-grey",label:"Add recommendation",link:!0,onClick:()=>{A()}})}),d.jsx(Kn,{selectedTab:b,tabs:w,onTabChange:x})]})},cj=Ce(lj,"Recommendations"),tn={network:["growth","network","activitypub","blog","fediverse","sharing"],explore:["ghost explore","explore","growth","share","list","listing"],recommendations:["growth","recommendations","recommend","blogroll"],embedSignupForm:["growth","embeddable signup form","embeddable form","embeddable sign up form","embeddable sign up"],offers:["growth","offers","discounts","coupons","promotions"]},uj=()=>{const{config:n,settings:e}=Le(),t=Qn(e||[],n||{});return d.jsxs(rs,{keywords:Object.values(tn).flat(),title:"Growth",children:[d.jsx(H4,{keywords:tn.network}),d.jsx(B4,{keywords:tn.explore}),d.jsx(cj,{keywords:tn.recommendations}),d.jsx(L4,{keywords:tn.embedSignupForm}),t&&d.jsx(Z4,{keywords:tn.offers})]})},qv=[{value:"all",label:"Anyone can sign up",hint:"All visitors will be able to subscribe and sign in"},{value:"paid",label:"Paid-members only",hint:"A paid Stripe subscription is required to sign up"},{value:"invite",label:"Invite-only",hint:"People can sign in but won't be able to sign up"},{value:"none",label:"Nobody",hint:"Disable all member features, including newsletters"}],Gv=[{value:"public",label:"Public",hint:"All site visitors to your site, no login required"},{value:"members",label:"Members only",hint:"All logged-in members"},{value:"paid",label:"Paid-members only",hint:"Only logged-in members with an active Stripe subscription"},{value:"tiers",label:"Specific tiers",hint:"Members with any of the selected tiers"}],Kv=[{value:"all",label:"All members",hint:"Logged-in members"},{value:"paid",label:"Paid-members only",hint:"Only logged-in members with an active Stripe subscription"},{value:"off",label:"Nobody",hint:"Disable commenting completely"}],dj=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,handleEditingChange:o}=Ot(),[l,c,u,f]=Te(e,["members_signup_access","default_content_visibility","default_content_visibility_tiers","comments_enabled"]),{data:{tiers:h}={}}=$c(),p=[{label:"Active Tiers",options:h?.filter(({active:x})=>x).map(x=>({value:x.id,label:x.name}))||[]},{label:"Archived Tiers",options:h?.filter(({active:x})=>!x).map(x=>({value:x.id,label:x.name}))||[]}],g=JSON.parse(u||"[]"),m=p.flatMap(x=>x.options).filter(x=>g.includes(x.value)),v=x=>{const w=x.map(S=>S.value);a("default_content_visibility_tiers",JSON.stringify(w))},b=d.jsxs(Ye,{className:"gap-y-4",columns:1,children:[d.jsxs("div",{className:"flex flex-col content-center items-center gap-4 md:flex-row",children:[d.jsx("div",{className:"w-full min-w-[160px] max-w-none md:w-2/3 md:max-w-[320px]",children:"Who should be able to subscribe to your site?"}),d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(yr,{options:qv,selectedOption:qv.find(x=>x.value===l),testId:"subscription-access-select",onSelect:x=>{a("members_signup_access",x?.value||null),o(!0)}})})]}),d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}),d.jsxs("div",{className:"flex flex-col content-center items-center gap-4 md:flex-row",children:[d.jsx("div",{className:"w-full min-w-[160px] max-w-none md:w-2/3 md:max-w-[320px]",children:"Who should have access to new posts?"}),d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(yr,{options:Gv,selectedOption:Gv.find(x=>x.value===c),testId:"default-post-access-select",onSelect:x=>{a("default_content_visibility",x?.value||null),o(!0)}})})]}),c==="tiers"&&d.jsxs("div",{className:"flex flex-col content-center items-center gap-4 md:flex-row",children:[d.jsx("div",{className:"w-full min-w-[160px] max-w-none md:w-2/3 md:max-w-[320px]",children:"Select specific tiers"}),d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(ux,{color:"black",options:p.filter(x=>x.options.length>0),testId:"tiers-select",values:m,onChange:x=>{v(x),o(!0)}})})]}),d.jsx(Ct,{className:"border-grey-200 dark:border-grey-900"}),d.jsxs("div",{className:"flex flex-col content-center items-center gap-4 md:flex-row",children:[d.jsx("div",{className:"w-full min-w-[160px] max-w-none md:w-2/3 md:max-w-[320px]",children:"Who can comment on posts?"}),d.jsx("div",{className:"w-full md:flex-1",children:d.jsx(yr,{options:Kv,selectedOption:Kv.find(x=>x.value===f),testId:"commenting-select",title:"",onSelect:x=>{a("comments_enabled",x?.value||null),o(!0)}})})]})]});return d.jsx(Se,{description:"Set up default access options for subscription and posts",isEditing:t,keywords:n,navid:"members",saveState:r,testId:"access",title:"Access",hideEditButton:!0,onCancel:s,onEditingChange:o,onSave:i,children:b})},fj=Ce(dj,"Access"),hj=({value:n,placeholder:e,nodes:t="EMAIL_NODES",singleParagraph:r=!1,className:i,onChange:s})=>{const a=Hh("text-[1.6rem] leading-[1.6] tracking-[-0.01em]","dark:text-white dark:selection:bg-[rgba(88,101,116,0.99)]","[&_.koenig-lexical-editor-input-placeholder]:font-inter [&_.koenig-lexical-editor-input-placeholder]:text-xl [&_.koenig-lexical-editor-input-placeholder]:tracking-tight","[&_:is(h2,h3)]:dark:text-white","[&_:is(p,blockquote,aside,ul,ol)]:font-inter [&_:is(p,blockquote,aside,ul,ol)]:text-xl [&_:is(p,blockquote,aside,ul,ol)]:tracking-tight","[&_:is(h1)]:text-[36px] [&_:is(h2)]:text-[32px] [&_:is(h3)]:text-[26px] [&_:is(h4)]:text-[21px] [&_:is(h5)]:text-[19px] [&_:is(h6)]:text-[19px] [&_:is(h1,h2,h3,h4,h5,h6)]:mb-[0.5em]","[&_:is(hr)]:pt-0","[&_p]:mb-4 [&_strong]:font-semibold"),o=y.useCallback(c=>{if(s&&c&&typeof c=="object"){const u=JSON.stringify(c);u!==n&&s(u)}},[s,n]),l=y.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key==="k"&&c.stopPropagation()},[]);return d.jsx("div",{onKeyDown:l,children:d.jsx(ik,{className:Hh(a,i),emojiPicker:!1,inheritFontStyles:!1,initialEditorState:n,loadingFallback:d.jsx(Nf,{delay:200,size:"lg"}),nodes:t,placeholder:e,singleParagraph:r,onChange:o,children:c=>d.jsxs(d.Fragment,{children:[d.jsx(c.ReplacementStringsPlugin,{}),d.jsx(c.ListPlugin,{}),d.jsx(c.HorizontalRulePlugin,{})]})})})},_h="AutomatedEmailsResponseType",pj=Qr({dataType:_h,path:"/automated_emails/"}),mj=ze({method:"POST",path:()=>"/automated_emails/",body:n=>({automated_emails:[n]}),updateQueries:{dataType:_h,emberUpdateType:"createOrUpdate",update:Tf("automated_emails")}}),wS=ze({method:"PUT",path:n=>`/automated_emails/${n.id}/`,body:n=>({automated_emails:[n]}),updateQueries:{dataType:_h,emberUpdateType:"createOrUpdate",update:sb("automated_emails")}}),gj=ze({method:"POST",path:({id:n})=>`/automated_emails/${n}/test/`,body:({email:n,subject:e,lexical:t})=>({email:n,subject:e,lexical:t})}),vj=({automatedEmailId:n,subject:e,lexical:t,validateForm:r,onClose:i})=>{const{data:s}=nb(),{mutateAsync:a}=gj(),[o,l]=y.useState(s?.email||""),[c,u]=y.useState(""),[f,h]=y.useState("idle"),p=y.useRef(null);y.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]),y.useEffect(()=>{s?.email&&l(s.email)},[s?.email]),y.useEffect(()=>{const m=v=>{v.key==="Escape"&&(v.stopPropagation(),i())};return document.addEventListener("keydown",m,!0),()=>document.removeEventListener("keydown",m,!0)},[i]);const g=async()=>{if(u(""),!Ph.isEmail(o)){u("Please enter a valid email address");return}if(!r()){u("Please complete the required fields");return}h("sending");try{await a({id:n,email:o,subject:e,lexical:t}),h("sent"),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>h("idle"),2e3)}catch(m){h("idle");let v;m instanceof g2&&m.data&&m.data.errors[0]?v=m.data.errors[0].context||m.data.errors[0].message:m instanceof Error&&(v=m.message),u(v||"Failed to send test email")}};return d.jsxs("div",{className:"absolute right-0 top-full z-10 mt-2 w-[260px] rounded border border-grey-250 bg-white p-4 shadow-lg dark:border-grey-925 dark:bg-grey-975","data-testid":"test-email-dropdown",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("label",{className:"mb-2 block text-sm font-semibold",htmlFor:"test-email-input",children:"Send test email"}),d.jsx(tt,{className:"!h-[36px]",id:"test-email-input",placeholder:"you@yoursite.com",value:o,onChange:m=>{l(m.target.value)}})]}),d.jsx(ne,{className:"w-full",color:f==="sent"?"green":"black",disabled:f==="sending",label:f==="sent"?"Sent":f==="sending"?"Sending...":"Send",onClick:g}),c&&d.jsx(Mn,{className:"mt-2",color:"red",children:c})]})},bj=n=>{if(!n)return!0;try{const t=JSON.parse(n)?.root?.children;return!t||t.length===0||t.length===1&&t[0].type==="paragraph"&&(!t[0].children||t[0].children.length===0)}catch{return!0}},Zv=Ke.create(({emailType:n="free",automatedEmail:e})=>{const{updateRoute:t}=be(),{mutateAsync:r}=wS(),[i,s]=y.useState(!1),a=y.useRef(null),o=y.useRef(e?.lexical||""),l=y.useRef(!1),c=gt(),{settings:u}=Le(),[f,h]=Te(u,["title","default_email_address"]),{formState:p,saveState:g,updateForm:m,setFormState:v,handleSave:b,okProps:x,errors:w,validate:S}=Qf({initialState:{subject:e?.subject||"Welcome",lexical:e?.lexical||""},savingDelay:500,onSave:async M=>{await r({...e,...M})},onSaveError:c,onValidate:M=>{const R={};return M.subject?.trim()||(R.subject="A subject is required"),bj(M.lexical)&&(R.lexical="Email content is required"),R}});y.useEffect(()=>{const M=R=>{a.current&&!a.current.contains(R.target)&&s(!1)};return i&&document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[i]);const k=y.useRef(b);y.useEffect(()=>{k.current=b},[b]),y.useEffect(()=>{const M=R=>{(R.metaKey||R.ctrlKey)&&R.key==="s"&&(R.preventDefault(),k.current({fakeWhenUnchanged:!0}))};return window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M)}},[]);const A=y.useCallback(M=>{if(!l.current){o.current=M,v(R=>({...R,lexical:M}));return}M!==o.current?m(R=>({...R,lexical:M})):v(R=>({...R,lexical:M}))},[v,m]),C=e?.sender_email||h,E=e?.sender_reply_to||h;return d.jsx(Or,{afterClose:()=>{t("memberemails")},dirty:g==="unsaved",footer:!1,header:!1,testId:"welcome-email-modal",width:672,children:d.jsxs("div",{className:"-mx-8 flex h-[calc(100vh-16vmin)] flex-col overflow-y-auto dark:!bg-grey-975",children:[d.jsxs("div",{className:"sticky top-0 z-10 flex flex-col gap-2 border-b border-grey-100 bg-white p-5 dark:border-grey-900 dark:bg-grey-975",children:[d.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[d.jsxs("h3",{className:"font-semibold",children:[n==="paid"?"Paid":"Free"," members welcome email"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{ref:a,className:"relative",children:[d.jsx(ne,{className:"border border-grey-200 font-semibold hover:border-grey-300 hover:!bg-white dark:border-grey-900 dark:hover:border-grey-800 dark:hover:!bg-grey-950",color:"clear",icon:"send",label:"Test",onClick:()=>s(!i)}),i&&d.jsx(vj,{automatedEmailId:e.id,lexical:p.lexical,subject:p.subject,validateForm:S,onClose:()=>s(!1)})]}),d.jsx(ne,{color:x.color,disabled:x.disabled,label:x.label||"Save",onClick:async()=>await b({fakeWhenUnchanged:!0})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-20 font-semibold",children:"From:"}),d.jsxs("div",{className:"flex grow items-center gap-1",children:[d.jsx("span",{children:e?.sender_name||f}),d.jsx("span",{className:"text-grey-700 dark:text-grey-400",children:`<${C}>`})]})]}),E!==C&&d.jsxs("div",{className:"flex items-center py-0.5",children:[d.jsx("div",{className:"w-20 font-semibold",children:"Reply-to:"}),d.jsx("div",{className:"grow text-grey-700 dark:text-grey-400",children:E})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-20 font-semibold",children:"Subject:"}),d.jsx("div",{className:"grow",children:d.jsx(tt,{className:"w-full",error:!!w.subject,hint:w.subject||"",maxLength:300,placeholder:`Welcome to ${f}`,value:p.subject,onChange:M=>m(R=>({...R,subject:M.target.value}))})})]})]}),d.jsxs("div",{className:"flex grow flex-col bg-grey-50 p-8 dark:bg-grey-975",children:[d.jsx("div",{className:`mx-auto w-full max-w-[600px] grow rounded border bg-white p-8 shadow-sm dark:bg-grey-950/25 dark:shadow-none ${w.lexical?"border-red":"border-grey-200 dark:border-grey-925"}`,onFocus:()=>{l.current=!0},children:d.jsx(hj,{className:"welcome-email-editor",placeholder:"Write your welcome email content...",singleParagraph:!1,value:p.lexical,onChange:A},e?.id||"new")}),w.lexical&&d.jsx(Mn,{className:"ml-8 mr-auto mt-2 max-w-[600px]",color:"red",children:w.lexical})]})]})})}),xj=`{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Welcome! Thanks for subscribing  it's great to have you here.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"You'll now receive new posts straight to your inbox. You can also log in any time to read the ","type":"extended-text","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"full archive","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"link","version":1,"rel":"noreferrer","target":null,"title":null,"url":"__GHOST_URL__/"},{"detail":0,"format":0,"mode":"normal","style":"","text":" or catch up on new posts as they go live.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"A little housekeeping: If this email landed in spam or promotions, try moving it to your primary inbox and adding this address to your contacts. Small signals like that help your inbox recognize that these messages matter to you.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Have questions or just want to say hi? Feel free to reply directly to this email or any newsletter in the future.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}`,yj=`{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Welcome, and thank you for your support  it means a lot.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"As a paid member, you now have full access to everything: the complete archive, and any paid-only content going forward. New posts will land straight to your inbox, and you can log in any time to ","type":"extended-text","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"catch up","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"link","version":1,"rel":"noreferrer","target":null,"title":null,"url":"__GHOST_URL__/"},{"detail":0,"format":0,"mode":"normal","style":"","text":" on anything you've missed.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"A little housekeeping: If this email landed in spam or promotions, try moving it to your primary inbox and adding this address to your contacts. Small signals like that help your inbox recognize that these messages matter to you.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Have questions or just want to say hi? Feel free to reply directly to this email or any newsletter in the future.","type":"extended-text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}`,Yv=({automatedEmail:n,emailType:e,enabled:t,isInitialLoading:r,onEdit:i,onToggle:s})=>{const{settings:a}=Le(),[o,l,c]=Te(a,["accent_color","icon","title"]),u=o||"#F6414E",f=n.sender_name||c||"Your Site";return d.jsxs("div",{className:"relative flex w-full items-center justify-between gap-6 rounded-lg border border-grey-100 bg-grey-50 p-5 text-left transition-all hover:border-grey-200 hover:shadow-sm dark:border-grey-925 dark:bg-grey-975 dark:hover:border-grey-800","data-testid":`${e}-welcome-email-preview`,children:[d.jsxs("button",{className:'flex w-full cursor-pointer items-center justify-between before:absolute before:inset-0 before:rounded-lg before:content-[""] focus-visible:outline-none focus-visible:before:ring-2 focus-visible:before:ring-green',type:"button",onClick:i,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[l?d.jsx("div",{className:"size-10 min-h-10 min-w-10 rounded-sm bg-cover bg-center",style:{backgroundImage:`url(${l})`}}):d.jsx("div",{className:"flex aspect-square size-10 items-center justify-center overflow-hidden rounded-full p-1 text-white",style:{backgroundColor:u},children:d.jsx("img",{alt:"",className:"h-auto w-8",src:gS})}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-semibold",children:f}),d.jsx("div",{className:"text-sm",children:n.subject})]})]}),d.jsx("div",{className:"text-sm font-semibold opacity-100 transition-all hover:opacity-80",children:"Edit"})]}),d.jsx("div",{className:"relative z-10 rounded-full has-[:focus-visible]:ring-2 has-[:focus-visible]:ring-green",children:r?d.jsx("div",{className:"h-4 w-7 rounded-full bg-grey-300 dark:bg-grey-800"}):d.jsx(rn,{checked:t,onChange:s})})]})},Jv=({title:n,description:e})=>d.jsx("div",{className:"flex items-center justify-between py-4",children:d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:n}),d.jsx("div",{className:"text-sm text-grey-700 dark:text-grey-600",children:e})]})}),wj=({keywords:n})=>{const{settings:e,config:t}=Le(),[r]=Te(e,["title"]),{data:i,isLoading:s}=pj(),{mutateAsync:a,isLoading:o}=mj(),{mutateAsync:l,isLoading:c}=wS(),u=gt(),f=i?.automated_emails||[],p=s||(o||c),g=f.find(M=>M.slug==="member-welcome-email-free"),m=f.find(M=>M.slug==="member-welcome-email-paid"),v=g?.status==="active",b=m?.status==="active",x=M=>({name:M==="free"?"Welcome Email (Free)":"Welcome Email (Paid)",slug:`member-welcome-email-${M}`,subject:M==="free"?`Welcome to ${r||"our site"}`:"Welcome to your paid subscription",lexical:M==="free"?xj:yj}),w=M=>({id:"",status:"inactive",...x(M),sender_name:null,sender_email:null,sender_reply_to:null,created_at:"",updated_at:null}),S=async(M,R)=>{const T=x(M);return a({...T,status:R})},k=async M=>{const R=`member-welcome-email-${M}`,T=f.find(P=>P.slug===R),N=M==="free"?"Free members":"Paid members";if(!p)try{T?T.status==="active"?(await l({...T,status:"inactive"}),pn({type:"success",title:`${N} welcome email disabled`})):(await l({...T,status:"active"}),pn({type:"success",title:`${N} welcome email enabled`})):(await S(M,"active"),pn({type:"success",title:`${N} welcome email enabled`}))}catch(P){u(P)}},A=async M=>{const R=`member-welcome-email-${M}`,T=f.find(N=>N.slug===R);if(!p)if(T)Ke.show(Zv,{emailType:M,automatedEmail:T});else try{const P=(await S(M,"inactive"))?.automated_emails?.[0];P&&Ke.show(Zv,{emailType:M,automatedEmail:P})}catch(N){u(N)}},C=g||w("free"),E=m||w("paid");return d.jsx(Se,{description:"Create and manage automated emails for your members",keywords:n,navid:"memberemails",testId:"memberemails",title:"Welcome emails",children:d.jsxs(Ye,{className:"!gap-y-0",columns:1,children:[d.jsx(Ct,{}),d.jsx(Jv,{description:"Sent to new free members right after they join your site.",title:"Free members"}),d.jsx(Yv,{automatedEmail:C,emailType:"free",enabled:v,isInitialLoading:s,onEdit:()=>A("free"),onToggle:()=>k("free")}),Qn(e,t)&&d.jsxs("div",{className:"mt-4",children:[d.jsx(Jv,{description:"Sent to new paid members right after they start their subscription.",title:"Paid members"}),d.jsx(Yv,{automatedEmail:E,emailType:"paid",enabled:b,isInitialLoading:s,onEdit:()=>A("paid"),onToggle:()=>k("paid")})]})]})})},Sj=Ce(wj,"MemberEmails"),kj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAcCAYAAAB2+A+pAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATkSURBVHgBrVZrTJtVGD5fWy6FDcZgnR3DsA1QRDaRoICBsEFA4IdEYkwwLEGJCYIJEDISwATBGF1C0B8g/iDETDeSaYgaNQJGMXJTQCVcisXEgm0Kxa3tWqR3n7f9PlIZHd3omzx9+53bc97Lec/h2MHC8XC2t7eLVCpVtEQikQUFBTmnp6dVs7Oz23y/iwVQJPTT19eXpdfrf3C5XIvADaAdaAM+2djY+HFgYCCPHy/2d2HuAFK7yWT6NSwsTAyST0UikRFtNkAHbAIaQAm8ZDAY3sjPz0+DByz4drIDPCDy0S6ura2NBJkrNDS0m+O4MqfTOYr2o8BJu93+pM1ma7VardfxveRwOErDw8OvzczM6BUKRSZPKmL3KeKampqz4FQSL1ALoq8mJiZqq6urT+fl5Um8F01JSQkeHR1Nwrgq4DNgS6vVtnp5zS+RlJeXJ2LyT0AM8F1PT0823yck2V7ZbW9oaJAi+a7Spo1G4zeCIewgS6uqqk5gkgqToqG/9JrIMf/E7Qm4u5XmA993dnY+wnxv2jMBA+3b29unoT+qqKg4yx4gTsIcnU73MUJ0ndZaXl5+nu+7i5xbXFx8E4NeweCKzc3N99jhRFRWVnYM603S8UPytYyPjxfuR0zWrgDHgZuIawLz372+RAwjSrHe7yD+ALqrsrIynHl7sbm5+QI63gIuAZ+zAMnCwsKzWO8FijXIW+fm5l4X+oidS0hIeBR6DJAjxlssQDIyMqKF+hrQofgkpqWlZaanpwcJxK7S0tJL0EeA26hSZlSgaBYAWV1dvQ0lB/oBKWDLyclxh9Ht75iYGDtUOmAGVjIyMh5mARC49g4UxXUCOAGoCwoKsqBdbmKUxH+gonlig9lsPsICIJOTk1Tbo5jHs39SW3JyciLjG+gCoMZ1gM7bVm5u7hl2+KwmseP2orJ5HJgDzshksjCBGAnn+It5bhS6WbIQ8ydYgO7XtbU1IiayReCYWCy2CsRMrVaT/gKgjAuXSqXnWlpaKCn8vl99SWpqaizzJBaF0w4jzQIx19/fr4Y2ME8i/IKDv9rW1kYbcRyCXNTY2BiHa9XCr0vJdWd9ff3v/41CQj1nsVgeQ7ypyjTgrq2HnuaP1v2Su8fDum6+KCUDHxLq6upOMa/8EeFSiELH0xhcB/0qPW148m8HBwcvsHvcMF7iHkNFApcEERXRmsB5PBx+Q7wb9psk6urqiqMSt7Oz8xr0ZeAKJrwN3T8/P1/ibc0+hKykpOShsbGxFzH+Hcx7hieNxv+fEb6bAs/uBG/ywsJC6dDQ0BVUMHLVH8jCo3j2PIW+Dbws9LGxse/SwOLi4hD0xWRmZsrxKjkFK2WI5y10rfFr0fldAm4AJhh1uampifqd+xELO3L29vaexxPoZZAaUWdTmeetdQvfscD7IKGzTw8/E2DnPbEDBANpABWPXljbrdFoxuLj4+fucpEPcddx3KMXs7OznSB14j19EW20Caq3/wIKYAXQ8t+UuSk8MZXJq0qlMjUpKWlEMMgf4l3rQSzr6OjIRYEXBwcHWxGCKLiZrKPzeRI4x/8nK+m5ew14fHh4WFNUVKTYS+oP8d5xLuSADJUtDgtGyuXykIiICOqjoqCnfngmcmpqylhfX7+EN7ZdmMcCIHs3y9GTF3d6CP/0Fcbc06j/APDXjC9ayXo+AAAAAElFTkSuQmCC",Cj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKKSURBVHgB7ZmLcdswDIZ/9zpAuoFG8AZ1J0g2qEboBnYnqDewPUHSCeJOkHQCaQNlA4QMoZiGqFgkRUq583eHsySLDxAgCFLAlWlZYCSIaKV+bpUUSpb8+IXlr5KHxWJRY27ojit5pGHslBSYC6ozfyiMNabGMeqNkq2SOz3KLEslpZL7WSnhGHndwZsLZbRClSj3C7nhEbXZeJbfi/JL5ESM4hYBqHJPVh2PyIUY/eqS23xQz1JYoUAO6HwyRvkvnQeBPHOBTKQZxXeFNR+QGu0uts0RCZmo9O6OCOSLx7u2v9eYCT4KvFjXQZNXMEYdwxVQiVibmL01PkLkKKzrGoH4WEDzbF3fIY5b6/o/cqDDnTXxnhCImMCaFXLAkaiJjd9k0uroCBSEanAjRu+nZ/m1KB/riv7QeS6juZgas/VkFhuUS0VD7tRY35cyOvG7a+F6muA5NArcMWmJloYVanr+32MkfMOojV4T+nIYvUgVcC9WutwRU9LjEr5USkpE4nWsQsa/73E6NmlprfEPZrGz046C3/8O9+K3V/I7+ZELmU1IZyKSmbiD8hoy86YkdwAokApH5/V18CaEFdkKJdJsarixRozWKBtxtkbDUjj+X7OVw5Qjs/hUKU3Nbdz0PH9vFyHQ+bLfEOU7FqTYHRt1M8YSGRlDgZ1VQb6zm1P74QpQN21eITNDFfja83yFUxpQq0XmiISQyWbLD14pHEroxfLQV+HO0j7poROJ4xpPqr5kzo7zz0gIHxYcEcbBmQtp1azbb9xIUqgbovV9GzxqJT9kGWf+JEzaYCKGTmKXC9mrYvKRj6WjAJvlyLcHfFZo4q+JROMc/k4Knb4hbPBZmdoTrlyZO6//Zfm9iMHs2AAAAABJRU5ErkJggg==",vd=({title:n,color:e,price:t})=>d.jsxs("div",{className:"rounded-lg bg-grey-100/70 px-3 pb-3 pt-1.5",children:[d.jsx("div",{className:"font-space-grotesk text-[1.5rem] font-bold",style:{color:e},children:n}),d.jsx("div",{className:"-mt-1 font-space-grotesk text-[1.7rem] font-bold",children:t}),d.jsxs("div",{className:"mt-5 flex flex-col gap-1.5",children:[d.jsx("div",{className:"h-1.5 w-[100%] bg-grey-300/60"}),d.jsx("div",{className:"h-1.5 w-[70%] bg-grey-300/60"}),d.jsx("div",{className:"h-1.5 w-[90%] bg-grey-300/60"})]})]}),Aj=({keywords:n})=>{const{updateRoute:e}=be(),{settings:t}=Le(),[r,i,s]=Te(t,["accent_color","icon","members_signup_access"]),a=()=>{e("portal/edit")},o=r||"#F6414E";return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",disabled:s==="none",label:"Customize",size:"sm",onClick:a}),description:"Customize members modal signup flow",keywords:n,navid:"portal",testId:"portal",title:"Signup portal",children:d.jsxs("div",{className:"relative isolate -mx-5 -mb-5 hidden flex-col items-center justify-end overflow-hidden rounded-b-xl bg-grey-50 px-5 pt-6 text-black sm:!visible sm:!flex md:-mx-7 md:-mb-7",children:[d.jsx("div",{className:"absolute bottom-6 right-6 flex size-12 items-center justify-center rounded-full text-white shadow-lg",style:{backgroundColor:o},children:d.jsx("img",{className:"size-6",src:Cj})}),d.jsxs("div",{className:"grid w-full max-w-[440px] grid-cols-3 gap-5 rounded-t-xl bg-white px-9 py-6 shadow-xl",children:[d.jsxs("div",{className:"col-span-3 mb-1 flex flex-col items-center justify-center",children:[i?d.jsx("div",{className:"size-6 rounded-sm bg-cover bg-center",style:{backgroundImage:`url(${i})`}}):d.jsx("div",{className:"flex aspect-square items-center justify-center overflow-hidden rounded-full p-1 text-white",style:{backgroundColor:o},children:d.jsx("img",{className:"h-auto w-5",src:kj})}),d.jsx("div",{className:"mt-1.5 font-space-grotesk text-lg font-bold",children:"Sign up"}),d.jsx("div",{className:"mt-1.5 flex h-6 w-1/2 items-center rounded border border-grey-200 p-2 text-xs text-grey-700",children:"jamie@example.com"})]}),d.jsx(vd,{color:o,price:"$0",title:"Free"}),d.jsx(vd,{color:o,price:"$5",title:"Silver"}),d.jsx(vd,{color:o,price:"$10",title:"Gold"})]})]})})},Mj=Ce(Aj,"Portal settings"),Ij=({keywords:n})=>{const{localSettings:e,isEditing:t,saveState:r,handleSave:i,handleCancel:s,updateSetting:a,errors:o,clearError:l,handleEditingChange:c}=Ot({onValidate:()=>({})}),[u]=Te(e,["blocked_email_domains"]),f=JSON.parse(u||"[]"),[h,p]=Y.useState(f.join(`
`)),g=v=>{const b=v.target.value;p(b);const x=b.split(/[\s,]+/).map(w=>w.trim().toLowerCase().split("@").pop()).filter(w=>w&&w.includes("."));a("blocked_email_domains",JSON.stringify(x)),t||c(!0)},m=d.jsxs(d.Fragment,{children:["Prevent unwanted signups by blocking email domains. Add one domain per line, e.g., ",d.jsx("code",{children:"spam.xyz"})," to block signups from email addresses like ",d.jsx("code",{children:"hello@spam.xyz"}),"."]});return d.jsx(Se,{description:"Protect your member signups from spam",isEditing:t,keywords:n,navid:"spam-filters",saveState:r,testId:"spam-filters",title:"Spam filters",hideEditButton:!0,onCancel:s,onEditingChange:c,onSave:i,children:d.jsx(Ye,{columns:1,children:d.jsx(dx,{className:"h-[86px]",error:!!o.blockedEmailDomains,hint:o.blockedEmailDomains||m,placeholder:`spam.xyz
junk.com`,resize:"vertical",title:"Blocked email domains",value:h,onChange:g,onKeyDown:()=>l("spam-filters")})})})},Ej=Ce(Ij,"Spam Filters"),SS=({size:n="md",trialDays:e})=>{if(!e)return null;const t=_(n==="sm"?"px-1.5 py-0.5 text-xs":"px-2.5 py-1.5 text-sm","relative -mr-1 -mt-1 whitespace-nowrap rounded-full font-semibold leading-none tracking-wide text-grey-900");return d.jsxs("span",{className:t,children:[d.jsx("span",{className:"absolute inset-0 block rounded-full bg-accent opacity-20 dark:bg-pink"}),d.jsxs("span",{className:"dark:text-pink",children:[e," days free"]})]})},Dj=({benefits:n})=>n?.length?d.jsx(d.Fragment,{children:n.map(e=>d.jsx("div",{className:"mt-4 w-full text-md leading-snug text-grey-900",children:d.jsxs("div",{className:"mb-2.5 flex items-start",children:[d.jsx(ge,{className:"mr-[10px] mt-[3px] !h-3.5 !w-3.5 min-w-[14px] overflow-visible !stroke-[3px]",name:"check"}),d.jsx("div",{children:e})]})},e))}):d.jsx("div",{className:"mt-4 w-full text-md leading-snug text-grey-900 opacity-30",children:d.jsxs("div",{className:"mb-2.5 flex items-start",children:[d.jsx(ge,{className:"mr-[10px] mt-[3px] !h-3.5 !w-3.5 min-w-[14px] overflow-visible !stroke-[3px]",name:"check"}),d.jsx("div",{children:"Expert analysis"})]})}),Rj=({discount:n})=>n?d.jsxs("span",{className:"mt-1 text-sm font-semibold leading-none text-pink",children:[n,"% discount"]}):null,j6=({tier:n,isFreeTier:e})=>{const[t,r]=y.useState(!1),i=n?.name||"",s=n?.description||"",a=parseFloat(n?.trial_days||"0"),o=n?.currency||"USD",l=Qs(o),c=n?.benefits||[],u=e?0:500,f=e?0:5e3,h=Bi(n?.monthly_price??u),p=Bi(n?.yearly_price??f),g=n?.monthly_price&&n?.yearly_price?Math.ceil((h*12-p)/(h*12)*100):0;return d.jsxs("div",{"data-testid":"tier-preview",children:[d.jsxs("div",{className:"flex items-baseline justify-between",children:[d.jsx(ft,{className:"pb-2",level:6,grey:!0,children:e?"Free membership preview":"Tier preview"}),!e&&d.jsxs("div",{className:"flex gap-1",children:[d.jsx(ne,{className:`${t===!0?"text-grey-500":"text-grey-900 dark:text-white"}`,label:"Monthly",link:!0,unstyled:!0,onClick:()=>r(!1)}),d.jsx(ne,{className:`ml-2 ${t===!0?"text-grey-900 dark:text-white":"text-grey-500"}`,label:"Yearly",link:!0,unstyled:!0,onClick:()=>r(!0)})]})]}),d.jsx("div",{className:"rounded-sm border border-grey-200 bg-white dark:border-transparent",children:d.jsxs("div",{className:"flex-column relative flex min-h-[200px] w-full max-w-[420px] scale-90 items-start justify-stretch rounded bg-white p-4",children:[d.jsxs("div",{className:"min-h-[56px] w-full",children:[d.jsx("h4",{className:`-mt-1 mb-0 w-full break-words text-lg font-semibold leading-tight text-accent ${!i&&"opacity-30"}`,children:i||(e?"Free":"Bronze")}),d.jsxs("div",{className:"mt-4 flex w-full flex-row flex-wrap items-end justify-between gap-x-1 gap-y-[10px]",children:[d.jsxs("div",{className:`flex flex-wrap text-black ${(t&&n?.yearly_price===void 0||!t&&n?.monthly_price===void 0)&&!e?"opacity-30":""}`,children:[d.jsx("span",{className:"self-start text-[2.7rem] font-bold uppercase leading-[1.115]",children:l}),d.jsx("span",{className:"break-all text-[3.4rem] font-bold leading-none tracking-tight",children:kn(t?p:h)}),!e&&d.jsxs("span",{className:"ml-1 self-end text-[1.5rem] leading-snug text-grey-800",children:["/",t?"year":"month"]})]}),d.jsx(SS,{trialDays:a})]}),t&&g>0&&d.jsx(Rj,{discount:g})]}),d.jsx("div",{className:"flex-column flex w-full flex-1",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:`mt-4 w-full text-[1.55rem] font-semibold leading-snug text-grey-900 ${!s&&"opacity-30"}`,children:s||(e?"Free preview":"Full access to premium content")}),d.jsx(Dj,{benefits:c})]})})]})})]})},kS=_("group/tiercard flex cursor-pointer flex-col items-start justify-between gap-4 self-stretch rounded-sm border border-transparent bg-grey-100 p-4 transition-all hover:border-grey-100 hover:bg-grey-75 hover:shadow-sm min-[900px]:min-h-[200px] dark:bg-grey-950 dark:hover:border-grey-800"),Oj=({tier:n})=>{const{updateRoute:e}=be(),t=n?.currency||"USD",r=Qs(t);return d.jsx("div",{className:kS,"data-testid":"tier-card","data-tier":n.slug,children:d.jsxs("div",{className:"w-full grow",onClick:()=>{e({route:`tiers/${n.id}`})},children:[d.jsx("div",{className:"text-[1.65rem] font-bold leading-tight tracking-tight text-black dark:text-white",children:n.name}),d.jsxs("div",{className:"mt-2 flex items-baseline",children:[d.jsx("span",{className:"ml-1 translate-y-[-3px] text-md font-bold uppercase",children:r}),d.jsx("span",{className:"text-xl font-bold tracking-tighter",children:kn(Bi(n.monthly_price||0))}),n.monthly_price&&n.monthly_price>0&&d.jsx("span",{className:"text-sm text-grey-700",children:"/month"})]}),n.trial_days?d.jsx("div",{className:"mb-4 mt-1",children:d.jsx(SS,{size:"sm",trialDays:n.trial_days})}):"",d.jsx("div",{className:"mt-2 line-clamp-2 text-[1.4rem] font-medium",children:n.description||d.jsx("span",{className:"opacity-30",children:"No description"})})]})})},bd=({tab:n,tiers:e})=>{const{updateRoute:t}=be(),r=()=>{t("tiers/add")};return e.length?d.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 min-[900px]:grid-cols-3",children:[e.map(i=>d.jsx(Oj,{tier:i})),n==="active-tiers"&&d.jsx("button",{className:`${kS} group cursor-pointer`,type:"button",onClick:()=>{r()},children:d.jsx("div",{className:"flex size-full flex-col items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx("div",{className:"translate-y-[15px] transition-all group-hover:translate-y-0",children:d.jsx(ge,{colorClass:"text-green",name:"add"})}),d.jsx("div",{className:"mt-2 translate-y-[-10px] text-sm font-semibold text-green opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100",children:"Add tier"})]})})})]}):d.jsxs(ei,{icon:"money-bags",children:["No ",n==="active-tiers"?"active":"archived"," tiers found."]})},Xv=({className:n,onClick:e})=>(n=_("group flex shrink-0 items-center justify-center whitespace-nowrap rounded border border-grey-300 px-3 py-1.5 text-sm font-semibold text-grey-900 transition-all hover:border-grey-500 dark:border-grey-900 dark:text-white",n),d.jsxs("button",{className:n,"data-testid":"stripe-connected",type:"button",onClick:e,children:[d.jsx("span",{className:"inline-flex size-2 rounded-full bg-green transition-all group-hover:bg-[#625BF6]"}),d.jsx("span",{className:"ml-2",children:"Connected to Stripe"})]})),Tj=({keywords:n})=>{const[e,t]=y.useState("active-tiers"),{settings:r,config:i}=Le(),{data:{tiers:s,meta:a,isEnd:o}={},fetchNextPage:l}=$c(),c=E2(s||[]),u=D2(s||[]),{updateRoute:f}=be(),h=ya(),p=async()=>{if(h?.isDisabled("limitStripeConnect")&&!Qn(r,i))try{await h.errorIfWouldGoOverLimit("limitStripeConnect")}catch(b){if(b instanceof xa){Ke.show(px,{prompt:b.message||"Your current plan doesn't support Stripe Connect.",onOk:()=>f({route:"/pro",isExternal:!0})});return}}f("stripe-connect")},g=b=>[...b].sort((x,w)=>(x.monthly_price??0)-(w.monthly_price??0)),m=[{id:"active-tiers",title:"Active",contents:d.jsx(bd,{tab:"active-tiers",tiers:g(c)})},{id:"archived-tiers",title:"Archived",contents:d.jsx(bd,{tab:"archive-tiers",tiers:g(u)})}];let v;return Qn(r,i)?v=d.jsx(Kn,{selectedTab:e,tabs:m,onTabChange:t}):v=d.jsx(bd,{tab:"free-tier",tiers:c.filter(b=>b.type==="free")}),d.jsxs(Se,{customButtons:Qn(r,i)?d.jsx(Xv,{className:"hidden tablet:!visible tablet:!block",onClick:p}):d.jsx(Dp,{className:"hidden tablet:!visible tablet:!block",onClick:p}),description:"Set prices and paid member sign up settings",keywords:n,navid:"tiers",testId:"tiers",title:"Tiers",children:[d.jsx("div",{className:"w-full tablet:hidden",children:Qn(r,i)?d.jsx(Xv,{className:"w-full",onClick:p}):d.jsx(Dp,{onClick:p})}),v,o===!1&&d.jsx(ne,{label:`Load more (showing ${s?.length||0}/${a?.pagination.total||0} tiers)`,link:!0,onClick:()=>l()})]})},Nj=Ce(Tj,"Tiers"),Pj=1e4,Lj=({keywords:n})=>{const{localSettings:e,siteData:t,updateSetting:r,saveState:i,handleSave:s,handleCancel:a,focusRef:o,errors:l,validate:c,clearError:u,handleEditingChange:f}=Ot({onValidate:()=>({donationsSuggestedAmount:z4(g,h,{maxAmount:Pj})})}),[h="USD",p="500"]=Te(e,["donations_currency","donations_suggested_amount"]),g=parseInt(p),m=`${t?.url.replace(/\/$/,"")}/#/portal/support`;y.useEffect(()=>{c()},[h]);const[v,b]=y.useState(!1),[x,w]=y.useState(!1);y.useEffect(()=>{e.some(R=>R.dirty)&&!x&&(w(!0),f(!0))},[e,x,f]);const S=()=>{navigator.clipboard.writeText(m),b(!0),setTimeout(()=>b(!1),2e3)},k=()=>{Ps(i==="unsaved",()=>window.open(m,"_blank"))},A=(M,R)=>{r(M,R)},C=()=>{a(),w(!1)},E=async()=>{await s()&&w(!1)};return d.jsxs(Se,{description:"Give your audience a simple way to support your work with one-time payments.",isEditing:x,keywords:n,navid:"tips-and-donations",saveState:i,testId:"tips-and-donations",title:"Tips & donations",hideEditButton:!0,onCancel:C,onEditingChange:w,onSave:E,children:[d.jsxs(Ye,{columns:1,children:[d.jsx("div",{className:"flex max-w-[180px] items-end gap-[.6rem]",children:d.jsx(J2,{error:!!l.donationsSuggestedAmount,hint:l.donationsSuggestedAmount,inputRef:o,placeholder:"5",rightPlaceholder:d.jsx(yr,{border:!1,clearBg:!0,containerClassName:"w-14",fullWidth:!1,options:Uv(),selectedOption:Uv().flatMap(M=>M.options).find(M=>M.value===h),title:"Currency",hideTitle:!0,isSearchable:!0,onSelect:M=>A("donations_currency",M?.value||"USD")}),title:"Suggested amount",valueInCents:parseInt(p),onBlur:c,onChange:M=>A("donations_suggested_amount",M.toString()),onKeyDown:()=>u("donationsSuggestedAmount")},p)}),d.jsxs("div",{className:"w-100",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(ft,{level:6,children:"Shareable link"})}),d.jsxs("div",{className:"w-100 group relative mt-0 flex items-center justify-between overflow-hidden border-b border-transparent pb-2 pt-1 hover:border-grey-300 dark:hover:border-grey-600",children:[d.jsx("span",{"data-testid":"donate-url",children:m}),d.jsxs("div",{className:"invisible flex gap-1 bg-white pl-1 group-hover:visible dark:bg-black",children:[d.jsx(ne,{color:"clear","data-testid":"preview-shareable-link",label:"Preview",size:"sm",onClick:k}),d.jsx(ne,{color:"light-grey","data-testid":"copy-shareable-link",label:v?"Copied":"Copy link",size:"sm",onClick:S})]})]})]})]}),d.jsxs("div",{className:"items-center-mt-1 flex text-sm",children:["All tips and donations are subject to Stripe's ",d.jsx("a",{className:"ml-1 text-green",href:"https://ghost.org/help/tips-donations/",rel:"noopener noreferrer",target:"_blank",children:" tipping policy"}),"."]})]})},_j=Ce(Lj,"Tips & donations"),qt={access:["membership","default","access","subscription","post","membership","comments","commenting","signup","sign up","spam","filters","prevention","prevent","block","domains","email"],tiers:["membership","tiers","payment","paid","stripe"],portal:["membership","portal","signup","sign up","signin","sign in","login","account","membership","support","email","address","support email address","support address"],memberEmails:["membership","signup","welcome email","email","new user","new member","account"],tips:["growth","tips","donations","one time","payment"]},jj=()=>{const{config:n,settings:e}=Le(),[t]=Te(e,["donations_enabled"]),r=Qn(e||[],n||{}),i=vu("welcomeEmails");return d.jsxs(rs,{keywords:Object.values(qt).flat(),title:"Membership",children:[d.jsx(fj,{keywords:qt.access}),d.jsx(Ej,{keywords:qt.access}),d.jsx(Nj,{keywords:qt.tiers}),d.jsx(Mj,{keywords:qt.portal}),i&&d.jsx(Sj,{keywords:qt.memberEmails}),t&&r&&d.jsx(_j,{keywords:qt.tips})]})},Bj=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("announcement-bar/edit")};return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Customize",size:"sm",onClick:t}),description:"Highlight important updates or offers",keywords:n,navid:"announcement-bar",testId:"announcement-bar",title:"Announcement bar"})},$j=Ce(Bj,"Announcement bar"),B6=null,jh="CustomThemeSettingsResponseType",Fj=jh,$6=Qr({dataType:jh,path:"/custom_theme_settings/"}),F6=ze({method:"PUT",path:()=>"/custom_theme_settings/",body:n=>({custom_theme_settings:n}),updateQueries:{emberUpdateType:"skip",dataType:jh,update:n=>n}}),is="ThemesResponseType",Hj=Qr({dataType:is,path:"/themes/"}),H6=Qr({dataType:is,path:"/themes/active/"}),V6=ze({method:"PUT",path:n=>`/themes/${n}/activate/`,updateQueries:{dataType:is,emberUpdateType:"createOrUpdate",update:(n,e)=>({...e,themes:e.themes.map(t=>{const r=n.themes.find(({name:i})=>i===t.name);return r||{...t,active:!1}})})},invalidateQueries:{dataType:Fj}}),U6=ze({method:"DELETE",path:n=>`/themes/${n}/`,updateQueries:{dataType:is,emberUpdateType:"delete",update:(n,e,t)=>({...e,themes:e.themes.filter(r=>r.name!==t)})}}),z6=ze({method:"POST",path:()=>"/themes/install/",searchParams:n=>({source:"github",ref:n}),updateQueries:{dataType:is,emberUpdateType:"createOrUpdate",update:(n,e)=>e&&{...e,themes:[...e.themes,...n.themes]}}}),W6=ze({method:"POST",path:()=>"/themes/upload/",body:({file:n})=>{const e=new FormData;return e.append("file",n),e},updateQueries:{dataType:is,emberUpdateType:"createOrUpdate",update:(n,e)=>e&&{...e,themes:[...e.themes,...n.themes]}}});function Vj(n){return n.active}function CS(n){return n.name.toLowerCase()==="source"}function AS(n){return n.name.toLowerCase()==="casper"}function q6(n){return CS(n)||AS(n)}function G6(n){return!CS(n)&&!AS(n)&&!Vj(n)}const Uj=()=>{const n=ya(),{config:e}=Le(),t=e.hostSettings?.limits?.customThemes?.allowlist,r=t?.length===1||!1;return{checkThemeLimitError:y.useCallback(async s=>{if(!n?.isLimited("customThemes")||!(r||s&&t&&!t.includes(s.toLowerCase())))return null;try{const o=r?".":s||".";return await n.errorIfWouldGoOverLimit("customThemes",{value:o}),null}catch(o){return o instanceof xa?o.message||"Your current plan doesn't support changing themes.":null}},[n,t,r]),isThemeLimited:n?.isLimited("customThemes")||!1,isThemeLimitCheckReady:n!==void 0,allowedThemesList:t,noThemeChangesAllowed:r}},zj=({keywords:n})=>{const[e,t]=y.useState(null),[r,i]=y.useState(!1),{checkThemeLimitError:s}=Uj(),{updateRoute:a}=be(),{data:o}=Hj(),l=o?.themes.find(f=>f.active);y.useEffect(()=>{(async()=>{i(!0);const h=await s();t(h),i(!1)})()},[s]);const c=async()=>{r||(e?Ke.show(px,{prompt:e,onOk:()=>a({route:"/pro",isExternal:!0})}):a("design/change-theme"))},u=d.jsx(Ye,{values:[{heading:"Active theme",key:"active-theme",value:l?`${l.name} (v${l.package?.version||"1.0"})`:"Loading..."}]});return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Change theme",size:"sm",onClick:c}),description:"Browse and install official themes or upload one",keywords:n,navid:"theme",testId:"theme",title:"Theme",children:u})},Wj=Ce(zj,"Branding and design"),qj=""+new URL("design-settings-B-S7bLUU.png",import.meta.url).href,Gj=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("design/edit")};return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Customize",size:"sm",onClick:t}),description:"Customize the style and layout of your site",keywords:n,navid:"design",testId:"design",title:"Design & branding",children:d.jsx("img",{src:qj})})},Kj=Ce(Gj,"Branding and design"),Zj=({keywords:n})=>{const{updateRoute:e}=be(),t=()=>{e("navigation/edit")};return d.jsx(Se,{customButtons:d.jsx(ne,{className:"mt-[-5px]",color:"clear",label:"Customize",size:"sm",onClick:t}),description:"Set up primary and secondary menus",keywords:n,navid:"navigation",testId:"navigation",title:"Navigation"})},Yj=Ce(Zj,"Navigation"),yn={design:["site","logo","cover","colors","fonts","background","themes","appearance","style","design & branding","design and branding"],theme:["theme","template","upload"],navigation:["site","navigation","menus","primary","secondary","links"],announcementBar:["site","announcement bar","important","banner"]},Jj=()=>d.jsx(d.Fragment,{children:d.jsxs(rs,{keywords:Object.values(yn).flat(),title:"Site",children:[d.jsx(Kj,{keywords:yn.design}),d.jsx(Wj,{keywords:yn.theme}),d.jsx(Yj,{keywords:yn.navigation}),d.jsx($j,{keywords:yn.announcementBar})]})}),Xj=()=>d.jsx(d.Fragment,{children:d.jsxs("div",{className:"mb-[60vh] px-8 pt-16 tablet:max-w-[760px] tablet:px-14 tablet:pt-0",children:[d.jsx(P4,{}),d.jsx(Jj,{}),d.jsx(jj,{}),d.jsx(O_,{}),d.jsx(uj,{}),d.jsx(x_,{})]})}),Qj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAC9FBMVEUAAAB+J/tVRv9VRf9VRv9XRP9VRf+UGf9ZQf94Lv9WRP/dAPBYRP9yMP+9AP7VAPNWQv9cPv9xMf+DIv+PG//KAPfdAO95Kv9/Jv/1DvHXAPTzAPOjEP9qN//lAPFbQf/5A/JWRf9hPf/5APLFAPr/H/BXRf+rCf9qNv+cE//xAPF3Lf9bQP9sM/9jOv9XPf9mPP/9O+fcHO5iPv//Ref/R+fDAPv/ROhtNf9VRf/eAPH/QOnyAPLUAPOoDP/vAPP8BPLXAPOxB/95LP//SeeHI///GfH+E/L/QOilDv/GAPdsNP9aP//yAfCvCP/uAe7mAO/RAPJbQP+9BPZXRf99M//NAPdfPv/fAPKwCP9yMv/EAPpdQP/NAPZhPf/TAPSdFP+4A///Ku+rC/+/AP7vAPK5Av9uNf/+BfObFP/pAPKDJf9zMP9lO/+UGv+9AP7fAPDMAPZmOv/EAPv4AvJXQ//6APFeP/+vCP/0APGNH/9cQP+eFP/oAPG4A/6KH/+8AP2pCv/FAPn7APPfAPHKAPS4Bv6FIf/lAPXzHPPgAPJhPf/sAPL/Nez4APN4Lv+IJP//QemFJf//R+d5Lf+JIv9fP/+UGv//R+h+Kv+bFf/eAPJtNf+VGf/yAPKQHf//QeiHI//QAPX/Ref3APP/MO2FJP+uB/+MH///L+3/NetpN/+vB///RejsAPFkOv+hEv9kPP//LO3/NepoOP//R+brAfC6Af7bAPLgAPDdAPFbP//4BPP/SOr1APDLAPa2Bv9qOP92L//CAPz/EfOAKf/UAPPGAPqrC/9oOP++AP7/NuyOHv/UAPRmO/+FJf+2BP//MO78CvL/POpuNv//POpWRf//Qeh6LP+cFv9kOv//Ke9gPf+aFf//F/H8APH/N+voAPD/SueWGP+BJ//CAPj7BvLRAPX2APByMf+hDf/hAPP/SOr/K+/jAPK1BP/QAPb/HfHNAPaNIP+4Av/zAPPOAPb/M+xdP/+5AP/HAPj/Tehx7sdAAAAA/HRSTlMABYVVdWhvPDWGfG5kWFhYRj4yMCwsKyIeE6mkoIuLiYWDb21pZWFNSERCLisrJhkSDge1oJyZlZN/enp3bGtnYV9eXFtVVU1HRT85ODY1NC4mIA8OCc2+uaako56dmJeWkZGJg39+fXl0dG5sa2lmZWRiXl5dW1lVUU9NTElHRUI9OTk3MiYkGArWzcnHwLu7trWxr62spqWenJqZlY6JiYSEgn9+fXl3d3V0cW1saGdeXlNRUE5NTT01MDAvKyoe19DHx8bDwLu6t7e0sqmpqKelpZ2alZCPjIaGgH10cWtiX15cWFZKRD4vHRfRvr28sK+YlpaNiHl4cThB/jUsAAAEnElEQVRIx2JAB4whBgYGIaEMxAGdUhYmJkUuFlY15mqfIILKORSvXZNnAgJFSxY2IOARDMGnnFEp7o4SK48aDysbiyXIHiDFxayPU72+7C2l9VsEfHw4ODh8BAWYWbmYLNnYLJlKcbhMz2L16iJBjt06Onp6QfpAEKTHwczCwsPKpai2G0sQACRukZPO6y2kq+utsaW66E6csfG0GHlWZmYetVJWFtZyDM8Y3Mjh5BUS0n3JmyN78uDB7pPnjMPDQXrkFVmZ1ViYBZg5UDUsy+Z0FhbW1sjh7D90hTcIbIauxsZcJfnw7hieci7m3QICjEjqn6xYlq0trO18o/8QpzhCOIRj4+rcuO5w+VIuNR3BaoQOiYXZC4HmZ086OlMcPSxy028BnZb7g0dHQAAumpc3v15EZNmkqa5Ygk9D1uKcbJyS0kafch2YBQBlZuaJiKyY+pkda4ALWVyZkz6nqLxaowgqUpN3l13k8fS57AyM2BIAg1BUlKyFrIag93pBsEjoBrsNIpoJsx5D1WPqeDllDmcUr5Cu93qwwCu7zJpXmbNuwpVjAud+zqh0XT2JLd4gnrrdcj/1ZBlPBjw6OKfMnCIkLqHNC+I4rbHzs0tMxpvwQ8/PPMorIS7ubMDAEJy/3KluTWQF3pTPUDVpwkKJdglnbQaGA/lpfBVpkQcYCFgxYapwe/uTegaGtvwUPr7EREK5cf6ZCa7iwq7AqBVVSSzmi1YhqGH6mRXt7FVgDWb5T09tJ6Th5tzpc0Xq66tAGqJ/PT3cREB9cMLdhFnsmuxVjAAxBBbGLioOEyWgoU1mQ4KMpiZ7DSPDa8f42MKwVgIaGmUqZGQ8gRqAljkuOmv7wYuABvVIpxPJnp6NmkA2v+2xRVL8DPgjzunC8hNr1Bs9/YC8HfzHzsbbBuO3Ie19cqSTup86KH537ZjdNZt7F171RhdO/fyyva6xwgjI6eDn7orgLsAfSIfN0lLqGrY3gHnbaiO6uK124vNC8fEUM74GL742MN+3Vq5n3kOrDtw6Os2izVL8Gur4IFzJ2nXSPanrsjpxalCJPR7t1dpUDEsPzWVfgTqy1uFSz//tU9hz0VYvFSOogGSlgoJ0X2qqPVblkrZS8WH8+0X3FyJiF6A9GfOAOmyWKGMqF+OWireSim0VDWwqRBJ2S8pQuNSnvERBEkV1Ry23nJQVN7+U7X6xQMdA5GBYlbTy9scjDmVLtCBaDF/v26OVJScnN9vKsaUgokUscMdzFLMMra+uXHrxbZJb2X1lhxIHZRsbG/tKLa2HWdtaxHa9KxAT2+mI7lgXE3Prpad7k1TdShzKKl80+/q+KLGx1/IPCIiQCwhoKcBMbG/WmpgsXjCx9/JK1U1ubs8c7mcob/P1F/OXnucfsNO+A2sAAuZiPsPcfKLJg1Xfby+9p+revGffvmfSCr7+lfaSuOLIw3Ty5IkzFltbr3qwabO7u+qlIxla7solRngS5t5Ha61NJ5teX3D96uXTvRdV3VXvNRPIjm9+uyw2nWFiar5g7WaPzZs8OhkIA8O9Hi6PXLZu3eqx15CBaGBkaIjF7QBYMGrq1RZRzQAAAABJRU5ErkJggg==",_e=({keywords:n,navid:e,...t})=>{const{ref:r,props:i}=Q3(e),{currentSection:s}=mu(),{checkVisible:a}=ba(),l=(Array.isArray(e)?e:[e]).includes(s||"");return d.jsx(dD,{ref:r,isCurrent:l,isVisible:a(n),navid:Array.isArray(e)?e[0]:e,...i,...t})},e6=()=>{const{filter:n,setFilter:e,checkVisible:t,noResult:r,setNoResult:i}=ba(),{updateRoute:s}=be(),a=y.useRef(null),{isAnyTextFieldFocused:o}=Gi();y.useEffect(()=>{const v=b=>{b.target instanceof HTMLElement&&(b.target.nodeName==="INPUT"||b.target.nodeName==="TEXTAREA"||b.target.isContentEditable)||b.key==="/"&&!o&&(b?.preventDefault(),a.current&&a.current.focus())};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}}),y.useEffect(()=>{a.current&&a.current.focus()},[]),y.useEffect(()=>{!t(Object.values(ot).flat())&&!t(Object.values(yn).flat())&&!t(Object.values(qt).flat())&&!t(Object.values(tn).flat())&&!t(Object.values(gr).flat())&&!t(Object.values(Wt).flat())?i(!0):i(!1)},[t,i,n]),y.useEffect(()=>{const v=b=>{b.key==="Escape"&&n&&(a.current?.blur(),b.stopPropagation())};return a.current?.addEventListener("keydown",v),()=>{a.current?.removeEventListener("keydown",v)}},[n]);const{settings:l,config:c}=Le(),[u]=Te(l,["donations_enabled"]),f=Qn(l||[],c||{}),h=vu("welcomeEmails"),p=v=>{v&&(e(""),i(!1),s(v.currentTarget.id))},g=v=>{e(v.target.value),v.target.value&&document.querySelector(".admin-x-settings")?.scrollTo({top:0,left:0})},m=_("hidden pt-10 tablet:!visible tablet:!block");return d.jsxs("div",{className:"ml-auto flex w-full flex-col pt-0 tablet:max-w-[240px]","data-testid":"sidebar",children:[d.jsx("div",{className:"sticky top-0 flex content-stretch items-end tablet:h-20 tablet:bg-grey-50 xl:h-20 dark:bg-grey-975 dark:tablet:bg-[#101114]",children:d.jsxs("div",{className:"relative w-full",children:[d.jsx(ge,{className:"absolute left-3 top-3 z-10",colorClass:"text-grey-500",name:"magnifying-glass",size:"sm"}),d.jsx(tt,{autoComplete:"off",autoCorrect:"off",className:"mr-12 flex h-10 w-full items-center rounded-lg border border-transparent bg-white px-[33px] py-1.5 text-[14px] shadow-[0_0_1px_rgba(21,23,26,0.25),0_1px_3px_rgba(0,0,0,0.03),0_8px_10px_-12px_rgba(0,0,0,.1)] transition-colors hover:shadow-sm focus:border-green focus:bg-white focus:shadow-[0_0_0_2px_rgba(48,207,67,0.25)] focus:outline-2 tablet:mr-0 dark:border-transparent dark:bg-grey-925 dark:text-white dark:placeholder:text-grey-800 dark:focus:border-green dark:focus:bg-grey-950",containerClassName:"w-100",inputRef:a,placeholder:"Search settings",title:"Search",value:n,clearBg:!0,hideTitle:!0,unstyled:!0,onChange:g}),n?d.jsx(ne,{className:"absolute right-14 top-3 p-1 tablet:right-3",icon:"close",iconColorClass:"text-grey-700 !w-[10px] !h-[10px]",size:"sm",unstyled:!0,onClick:()=>{e(""),a.current?.focus()}}):d.jsx("div",{className:"absolute -right-1/2 top-[9px] hidden rounded border border-grey-400 bg-white px-1.5 py-0.5 text-2xs font-semibold uppercase tracking-wider text-grey-600 shadow-[0px_1px_#CED4D9] tablet:!visible tablet:right-3 tablet:!block dark:border-grey-800 dark:bg-grey-900 dark:text-grey-500 dark:shadow-[0px_1px_#626D79]",children:"/"})]})}),d.jsxs("nav",{className:m,id:"admin-x-settings-sidebar",children:[r&&d.jsxs("div",{className:"ml-2 text-base text-grey-700",children:[d.jsx("h2",{className:"mb-2 text-base font-semibold tracking-normal text-black dark:text-white",children:"No result"}),d.jsxs("div",{children:[`We couldn't find any setting matching '${n}'`,"."]})]}),d.jsxs(cs,{isVisible:t(Object.values(ot).flat()),title:"General settings",children:[d.jsx(_e,{icon:"textfield",keywords:ot.titleAndDescription,navid:"general",title:"Title & description",onClick:p}),d.jsx(_e,{icon:"world-clock",keywords:ot.timeZone,navid:"timezone",title:"Timezone",onClick:p}),d.jsx(_e,{icon:"language",keywords:ot.publicationLanguage,navid:"publication-language",title:"Publication language",onClick:p}),d.jsx(_e,{icon:"user-pen",keywords:ot.users,navid:"staff",title:"Staff",onClick:p}),d.jsx(_e,{icon:"layer",keywords:ot.metadata,navid:"metadata",title:"Meta data",onClick:p}),d.jsx(_e,{icon:"like",keywords:ot.socialAccounts,navid:"social-accounts",title:"Social accounts",onClick:p}),d.jsx(_e,{icon:"baseline-chart",keywords:ot.analytics,navid:"analytics",title:"Analytics",onClick:p}),d.jsx(_e,{icon:"lock-locked",keywords:ot.lockSite,navid:"locksite",title:"Make this site private",onClick:p})]}),d.jsxs(cs,{isVisible:t(Object.values(yn).flat()),title:"Site",children:[d.jsx(_e,{icon:"palette",keywords:yn.design,navid:"design",title:"Design & branding",onClick:p}),d.jsx(_e,{icon:"layout-2-col",keywords:yn.theme,navid:"theme",title:"Theme",onClick:p}),d.jsx(_e,{icon:"navigation",keywords:yn.navigation,navid:"navigation",title:"Navigation",onClick:p}),d.jsx(_e,{icon:"megaphone",keywords:yn.announcementBar,navid:"announcement-bar",title:"Announcement bar",onClick:p})]}),d.jsxs(cs,{isVisible:t([...Object.values(qt).flat(),...gr.newslettersNavMenu]),title:"Membership",children:[d.jsx(_e,{icon:"key",keywords:qt.access,navid:["members","spam-filters"],title:"Access",onClick:p}),d.jsx(_e,{icon:"bills",keywords:qt.tiers,navid:"tiers",title:"Tiers",onClick:p}),d.jsx(_e,{icon:"portal",keywords:qt.portal,navid:"portal",title:"Signup portal",onClick:p}),h&&d.jsx(_e,{icon:"mailplus",keywords:qt.memberEmails,navid:"memberemails",title:"Welcome emails",onClick:p}),u&&f&&d.jsx(_e,{icon:"piggybank",keywords:qt.tips,navid:"tips-and-donations",title:"Tips & donations",onClick:p}),d.jsx(_e,{icon:"email",keywords:gr.newslettersNavMenu,navid:["enable-newsletters","default-recipients","newsletters","mailgun"],title:"Newsletters",onClick:p})]}),d.jsxs(cs,{isVisible:t(Object.values(tn).flat()),title:"Growth",children:[d.jsx(_e,{icon:"ap-network",keywords:tn.network,navid:"network",title:"Network",onClick:p}),d.jsx(_e,{icon:"globe-simple",keywords:tn.explore,navid:"explore",title:"Ghost Explore",onClick:p}),d.jsx(_e,{icon:"heart",keywords:tn.recommendations,navid:"recommendations",title:"Recommendations",onClick:p}),d.jsx(_e,{icon:"emailfield",keywords:tn.embedSignupForm,navid:"embed-signup-form",title:"Signup forms",onClick:p}),f&&d.jsx(_e,{icon:"discount",keywords:tn.offers,navid:"offers",title:"Offers",onClick:p})]}),d.jsxs(cs,{isVisible:t(Object.values(Wt).flat()),title:"Advanced",children:[d.jsx(_e,{icon:"modules-3",keywords:Wt.integrations,navid:"integrations",title:"Integrations",onClick:p}),d.jsx(_e,{icon:"download",keywords:Wt.migrationtools,navid:"migration",title:"Import/Export",onClick:p}),d.jsx(_e,{icon:"brackets",keywords:Wt.codeInjection,navid:"code-injection",title:"Code injection",onClick:p}),d.jsx(_e,{icon:"labs-flask",keywords:Wt.labs,navid:"labs",title:"Labs",onClick:p}),d.jsx(_e,{icon:"time-back",keywords:Wt.history,navid:"history",title:"History",onClick:p})]}),!n&&d.jsxs("a",{className:"w-100 mb-10 mt-1 flex h-[38px] cursor-pointer items-center rounded-lg px-3 py-2 text-left text-[14px] font-medium text-grey-800 transition-all hover:bg-grey-200 focus:bg-grey-100 dark:text-grey-600 dark:hover:bg-grey-950 dark:focus:bg-grey-925",onClick:()=>{s("about")},children:[d.jsx("img",{alt:"Ghost Logo",className:"mr-[7px] size-[18px]",src:Qj}),"About Ghost"]})]})]})},Qv=({children:n})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed right-0 top-2 z-50 flex justify-end bg-transparent p-8 tablet:fixed tablet:top-0 tablet:px-8",id:"done-button-container",children:d.jsx(_3,{})}),d.jsx("div",{className:"w-full tablet:fixed tablet:left-0 tablet:top-0 tablet:flex tablet:h-full dark:bg-grey-975",id:"admin-x-settings-content",children:n})]}),t6=()=>{const{currentUser:n}=Le(),{loadingModal:e}=be(),{isDirty:t}=Vc(),r=i=>{window.location.hash=i};return y.useEffect(()=>{const i=s=>{if(s.key==="Escape"){if(document.getElementById("modal-backdrop"))return;Ps(t,()=>{r("/")})}};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t]),y.useEffect(()=>{v2.remove()},[]),b2(n)?ab(n)?d.jsx(Qv,{children:d.jsxs("div",{className:"mx-auto w-full max-w-5xl overflow-y-auto px-[5vmin] tablet:mt-16 xl:mt-10",id:"admin-x-settings-scroller",children:[d.jsx(ft,{className:"mb-[5vmin]",children:"Settings"}),d.jsx(mS,{highlight:!1,keywords:[]})]})}):d.jsxs(Qv,{children:[e&&d.jsx("div",{className:`fixed inset-0 z-40 h-[calc(100vh-55px)] w-[100vw] tablet:h-[100vh] ${hx}`}),d.jsx("div",{className:"no-scrollbar fixed inset-x-0 top-0 z-[35] flex-1 basis-[320px] bg-white p-8 tablet:relative tablet:inset-x-auto tablet:top-auto tablet:h-full tablet:overflow-y-scroll tablet:bg-grey-50 tablet:py-0 dark:bg-grey-975 dark:tablet:bg-[#101114]",id:"admin-x-settings-sidebar-scroller",children:d.jsx("div",{className:"relative w-full",children:d.jsx(e6,{})})}),d.jsx("div",{className:"relative h-full flex-1 overflow-y-scroll bg-white pt-12 tablet:basis-[800px] dark:bg-grey-975 dark:tablet:bg-black",id:"admin-x-settings-scroller",children:d.jsx(Xj,{})})]}):null},n6={"design/change-theme":"DesignAndThemeModal","design/edit":"DesignAndThemeModal","theme/install":"DesignAndThemeModal","navigation/edit":"NavigationModal","staff/invite":"InviteUserModal","staff/:slug/social-links":"UserDetailModal","staff/:slug/email-notifications":"UserDetailModal","staff/:slug/edit":"UserDetailModal","staff/:slug":"UserDetailModal","portal/edit":"PortalModal","tiers/add":"TierDetailModal","tiers/:id":"TierDetailModal","stripe-connect":"StripeConnectModal","newsletters/new":"AddNewsletterModal","newsletters/:id":"NewsletterDetailModal","history/view":"HistoryModal","history/view/:user":"HistoryModal","integrations/zapier":"ZapierModal","integrations/transistor":"TransistorModal","integrations/slack":"SlackModal","integrations/unsplash":"UnsplashModal","integrations/firstpromoter":"FirstPromoterModal","integrations/pintura":"PinturaModal","integrations/new":"AddIntegrationModal","integrations/:id":"CustomIntegrationModal","recommendations/add":"AddRecommendationModal","recommendations/edit":"EditRecommendationModal","announcement-bar/edit":"AnnouncementBarModal","embed-signup-form/show":"EmbedSignupFormModal","offers/edit":"OffersContainerModal","offers/edit/:id":"OffersContainerModal","offers/edit/retention/:id":"OffersContainerModal","offers/new":"OffersContainerModal","explore/testimonial":"TestimonialsModal",about:"AboutModal"},r6=()=>ea(()=>import("./modals-GY5yP0Bl.js"),__vite__mapDeps([10,1,2,4,11,5,6,12,3,13]),import.meta.url),i6=()=>{const{updateNavigatedSection:n,scrollToSection:e}=mu(),{route:t}=be();return K3((r,i)=>{r===i&&e(r.split("/")[0])},[e]),y.useEffect(()=>{t!==void 0&&n(t.split("/")[0])},[t,n]),null};function s6({designSystem:n,upgradeStatus:e}){return d.jsx(RL,{upgradeStatus:e,children:d.jsx(Ke.Provider,{children:d.jsx(G3,{basePath:"settings",modals:{paths:n6,load:r6},children:d.jsxs(bD,{className:"admin-x-settings",...n,children:[d.jsx(i6,{}),d.jsx(t6,{})]})})})})}async function a6(){return await ea(()=>import("./koenig-lexical-D8K6acyr.js"),__vite__mapDeps([14,1,2]),import.meta.url)}function o6(){return Vr.createPortal(d.jsx("div",{className:"shade shade-admin",style:{position:"absolute",inset:0,zIndex:20},children:d.jsx(s6,{designSystem:{darkMode:!1,fetchKoenigLexical:a6}})}),document.body)}const K6=Object.freeze(Object.defineProperty({__proto__:null,default:o6},Symbol.toStringTag,{value:"Module"}));export{Gr as $,yr as A,ne as B,Ns as C,dT as D,G as E,Ps as F,Kn as G,ft as H,We as I,dI as J,ik as K,vf as L,Or as M,hy as N,Xf as O,bT as P,M6 as Q,L3 as R,Ct as S,dt as T,Ke as U,be as V,gu as W,eL as X,Le as Y,Yi as Z,Zc as _,Mn as a,Rh as a$,Ph as a0,Ot as a1,Qf as a2,Vv as a3,z4 as a4,X2 as a5,tt as a6,Uv as a7,J2 as a8,rn as a9,H6 as aA,CS as aB,AS as aC,Vj as aD,V6 as aE,U6 as aF,G6 as aG,D6 as aH,q6 as aI,Hj as aJ,z6 as aK,Uj as aL,W6 as aM,tc as aN,qw as aO,Zi as aP,qr as aQ,B6 as aR,$6 as aS,F6 as aT,Jw as aU,Fu as aV,ux as aW,iI as aX,ei as aY,Wf as aZ,Yw as a_,rI as aa,lD as ab,j6 as ac,R6 as ad,h6 as ae,I6 as af,ya as ag,xa as ah,px as ai,dx as aj,kn as ak,L6 as al,yS as am,qL as an,rj as ao,_6 as ap,Lu as aq,Nf as ar,Ti as as,tu as at,Hn as au,E6 as av,F_ as aw,Uh as ax,md as ay,sI as az,Jt as b,r_ as b0,QL as b1,e_ as b2,p6 as b3,O6 as b4,Bi as b5,N6 as b6,Zw as b7,T6 as b8,vS as b9,OL as ba,Qs as bb,zf as bc,vu as bd,P6 as be,Qj as bf,Dp as bg,uD as bh,Ye as bi,$v as bj,Hv as bk,Fv as bl,w4 as bm,Bv as bn,y4 as bo,Gw as bp,sj as bq,K6 as br,xe as c,S6 as d,k6 as e,YT as f,x6 as g,At as h,FT as i,g6 as j,y6 as k,w6 as l,_T as m,LT as n,C6 as o,v6 as p,dP as q,B as r,RT as s,j as t,Gi as u,A6 as v,yN as w,O2 as x,ir as y,Vc as z};
