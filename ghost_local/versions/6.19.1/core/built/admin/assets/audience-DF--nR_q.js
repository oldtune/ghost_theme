import{j as s,e as u,bS as l,bT as o,bU as c}from"./index-Bgo4hw-T.js";function d(e,r){if(!e||!r)return"";try{const t=new URL(r),a=t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`,i=e.replace(/^\//,""),n=`${a}${i}`;return`${t.origin}${n}`}catch{return""}}function f(e,r,t,a,i){return()=>{if(r&&e&&i==="post"){a(`/posts/analytics/${r}`,{crossApp:!0});return}if(e&&t){const n=d(e,t);n&&window.open(n,"_blank","noopener,noreferrer")}}}const m=({postId:e,hasEmailData:r,analytics:t})=>e?!t?.webAnalytics&&!t?.membersTrackSources&&!r?`/editor/post/${e}`:`/posts/analytics/${e}`:"/posts/analytics",h=()=>s.jsx("div",{className:"admin-x-container-error",children:s.jsxs("div",{className:"admin-x-error",children:[s.jsx("h1",{children:"Loading interrupted"}),s.jsx("p",{children:"They say life is a series of trials and tribulations. This moment right here? It's a tribulation. Our app was supposed to load, and yet here we are. Loadless. Click back to the dashboard to try again."}),s.jsx("a",{className:"cursor-pointer",onClick:()=>window.location.reload(),children:"â† Back to the dashboard"})]})});class E extends u.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?s.jsx(h,{error:this.state.error}):this.props.children}}const b=e=>!e||e.length===0?l:o.filter(r=>e.includes(r.value)).reduce((r,t)=>r|t.bit,0)||l,g=e=>{const r=[];return(e&c.PUBLIC)!==0&&r.push(o[0].value),(e&c.FREE)!==0&&r.push(o[1].value),(e&c.PAID)!==0&&r.push(o[2].value),r.join(",")};export{g as a,b,f as c,m as g};
